[{"code":"function w(e,t,n,r){let[i]=y.bN.blocks(e)[0],o=(r?(0,E.sg)(i,{mode:\"plain\"}).trimEnd():\"\").split(\"\\n\").map(e=>({type:\"line\",children:[{text:e}]})),s=[o.length-1];for(let[,t]of(b.Q.insertNodes(e,o,{at:O.YD}),y.bN.blocks(e).reverse()))y.C0.isAfter(t,s)&&b.Q.removeNodes(e,{at:t,voids:!0});null!=n&&a.Po({channelId:t,command:null,section:null})}"},{"code":"function A(e,t,n,r){let{insertData:i,isInline:d,isVoid:f,onChange:p,deleteBackward:_,deleteForward:h,deleteFragment:m}=e;e.insertData=n=>{if(null!=t&&y.bN.isEditorEmpty(e)&&n.types.includes(\"application/x-discord-interaction-data\")){let e=JSON.parse(n.getData(\"application/x-discord-interaction-data\")),{commandKey:i,interactionOptions:d}=(0,u.XA)(e),{application:f,command:p}=s.Xq({channel:t,type:\"channel\"},i);if(null!=p){var r,l;let e=null!=f?{type:c.Qi.APPLICATION,id:f.id,icon:f.icon,name:null!=(l=null==(r=f.bot)?void 0:r.username)?l:f.name,application:f}:null;return a.Po({channelId:t.id,command:p,section:e,location:c.Vh.PASTE,initialValues:(0,o.Dw)(p,null!=d?d:[])}),null}}return i(n)},e.isInline=e=>!!I.has(e.type)||d(e),e.isVoid=e=>!!(\"applicationCommandOption\"===e.type&&T.has(e.optionType))||f(e),e.deleteBackward=t=>{j(e,()=>_(t))},e.deleteForward=t=>{j(e,()=>h(t))},e.deleteFragment=t=>{j(e,()=>m(t))};let E=null,b=null,O=null,v=null,S=null;return e.onChange=()=>{if(null!=t){let i=l.Z.getState(t.id),a=s.Hf({channel:t,type:\"channel\"});if(y.bN.richValue(e)!==E||!y.Ew.equals(e.selection,b)||i.activeCommand!==O||null==S||a.some((e,t)=>S[t]!==e)){let o=g.T.withMergedEntry(e,()=>{var a;return N({editor:e,storeCommandState:i,channel:t,canUseCommands:n,canOnlyUseTextCommands:r,commandChanged:(null==(a=i.activeCommand)?void 0:a.id)!==(null==O?void 0:O.id),previousOptionValues:v})});if(null!=o){let t=g.T.currentEntry(e);null!=t&&(t.commandId=o.commandId),v=o.optionValues}else v=null;E=y.bN.richValue(e),b=e.selection,O=i.activeCommand,S=a}}p()},e}"}]