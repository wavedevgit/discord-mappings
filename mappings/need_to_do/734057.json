[{"code":"class z{static loadAllMissingChannels(){let e=O.A.getGuildIds().filter(e=>!F.has(e));return this.loadGuildIds(e)}static loadGuildFromChannelId(e){var t;return null==e?null:z.loadGuildIds([null==(t=X(e))?void 0:t.guild_id])}static loadGuildIds(e){let t=e.filter(E.Vq);if(0===t.length)return null;let n=c.A.database();if(null==n||!t.some(e=>!F.has(e)))return null;let r=B;return(0,u.ES)(\"loadChannels\",async()=>{let e=t.map(e=>{if(F.has(e))return null;if(null!=V[e])return N.fileOnly(\"Skipping loading \".concat(e,\" because a load is pending\")),null;let t=d.A.getAsync(n,e).then(t=>(N.fileOnly(\"Lazy loaded channels for \".concat(e,\" #:\").concat(t.length)),{guildId:e,channels:t}));return V[e]=t,{guildId:e,promise:t}}).filter(E.Vq),i=e.map(e=>e.promise);try{let t=await Promise.all(i);if(B!==r)return N.fileOnly(\"lastResetTime has changed, skipping loads for \"+e.map(e=>e.guildId)),null;let n=t.filter(e=>!F.has(e.guildId));await l.h.dispatch({type:\"LOAD_CHANNELS\",channels:n})}catch(t){for(let n of(N.error(\"Failed to load channels from disk for \"+e.map(e=>e.guildId),t),e))delete V[n.guildId];throw t}return null})}}"}]