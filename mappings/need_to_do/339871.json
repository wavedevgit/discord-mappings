[{"code":"function h(e,t){a.o.withSingleEntry(e,()=>{o.VW.withoutNormalizing(e,()=>{i()(null!=e.selection,\"Editor has no selection\");let[n,r]=o.ZF.edges(e.selection),a=u(e,n,r),l=a.before[t],d=a.after[t],f=o.VW.node(e,n.path),p=o.VW.node(e,r.path);if(null==f||null==p||!o.l5.isText(f[0])||!o.l5.isText(p[0]))return;let _=o.PW.equals(f[1],p[1]);if(null!=l&&null!=d){let t={path:n.path,offset:l.location},i={path:r.path,offset:d.location};s.b.delete(e,{at:i,distance:d.chars.length}),s.b.delete(e,{at:t,distance:l.chars.length});let a=n.offset,c=r.offset;o.Kh.isBefore(n,t)||(a-=l.chars.length),_&&!o.Kh.isBefore(r,t)&&(c-=l.chars.length),o.Kh.isAfter(r,i)&&(c-=d.chars.length),s.b.select(e,{anchor:{path:n.path,offset:Math.max(0,a)},focus:{path:r.path,offset:Math.max(0,c)}})}else{let i=c[t];s.b.insertText(e,i,{at:r}),s.b.insertText(e,i,{at:n});let a=f[0].text.length+i.length,o=p[0].text.length+(_?2*i.length:i.length);s.b.select(e,{anchor:{path:n.path,offset:Math.min(a,n.offset+i.length)},focus:{path:r.path,offset:Math.min(o,r.offset+(_?i.length:0))}})}})}),o.VW.focus(e)}"},{"code":"function u(e,t,n){if(null==e.selection)return{before:{},after:{}};let r=d(e,t),i=d(e,n);for(let e in r)e in i||delete r[e];for(let e in i)e in r||delete i[e];return{before:r,after:i}}"},{"code":"function m(e,t){let n=e.selection;if(null==n)return;let r=!0;for(let[i,a]of o.VW.blocks(e))(\"line\"===i.type||i.type===t)&&o.ZF.includes(n,a)&&(r=r&&i.type===t);o.VW.withoutNormalizing(e,()=>{for(let[i,a]of o.VW.blocks(e))o.ZF.includes(n,a)&&(r||\"line\"!==i.type?r&&i.type===t&&s.b.setNodes(e,{type:\"line\"},{at:a}):s.b.setNodes(e,{type:t},{at:a}))}),o.VW.focus(e)}"}]