[{"code":"e=>{var{editor:t,children:n,onChange:r,value:i}=e,a=g(e,tV),o=(0,c.useRef)(!1),[s,l]=c.useState(()=>{if(!d.bP.isNodeList(i))throw Error(\"[Slate] value is invalid! Expected a list of elements but got: \".concat(d.h6.stringify(i)));if(!d.KE.isEditor(t))throw Error(\"[Slate] editor is invalid! You passed: \".concat(d.h6.stringify(t)));return t.children=i,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:u,onChange:f}=tF(t),p=(0,c.useCallback)(()=>{r&&r(t.children),l(e=>({v:e.v+1,editor:t})),f(t)},[r]);(0,c.useEffect)(()=>(L.set(t,p),()=>{L.set(t,()=>{}),o.current=!0}),[p]);var[_,h]=(0,c.useState)(eb.isFocused(t));return(0,c.useEffect)(()=>{h(eb.isFocused(t))}),eC(()=>{var e=()=>h(eb.isFocused(t));return ea?(document.addEventListener(\"focusin\",e),document.addEventListener(\"focusout\",e),()=>{document.removeEventListener(\"focusin\",e),document.removeEventListener(\"focusout\",e)}):(document.addEventListener(\"focus\",e,!0),document.addEventListener(\"blur\",e,!0),()=>{document.removeEventListener(\"focus\",e,!0),document.removeEventListener(\"blur\",e,!0)})},[]),c.createElement(tU.Provider,{value:u},c.createElement(eZ.Provider,{value:s},c.createElement(eD.Provider,{value:s.editor},c.createElement(tM.Provider,{value:_},n))))}"},{"code":"e=>{var t,n,r=(0,c.useCallback)(e=>c.createElement(tR,Object.assign({},e)),[]),{autoFocus:a,decorate:s=tP,onDOMBeforeInput:u,placeholder:f,readOnly:p=!1,renderElement:_,renderLeaf:h,renderPlaceholder:m=r,scrollSelectionIntoView:E=tD,style:y={},as:b=\"div\",disableDefaultStyles:O=!1}=e,C=g(e,tI),N=eQ(),[L,x]=(0,c.useState)(!1),k=(0,c.useRef)(null),U=(0,c.useRef)([]),{onUserInput:G,receivedUserInput:H}=tA(),[,W]=(0,c.useReducer)(e=>e+1,0);F.set(N,W),w.set(N,p);var q=(0,c.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,c.useLayoutEffect)(()=>()=>{null==q||null!=q.latestElement&&(q.latestElement.remove(),q.latestElement=null)},[]),(0,c.useEffect)(()=>{k.current&&a&&k.current.focus()},[a]);var Z=(0,c.useCallback)(l()(()=>{if((el||!eb.isComposing(N))&&(!q.isUpdatingSelection||null!=J&&J.isFlushing())&&!q.isDraggingInternally){var e=eb.findDocumentOrShadowRoot(N),{activeElement:t}=e,n=eb.toDOMNode(N,N),r=e.getSelection();if(t===n?(q.latestElement=t,R.set(N,!0)):R.delete(N),!r)return d.gB.deselect(N);var{anchorNode:i,focusNode:a}=r,o=eb.hasEditableTarget(N,i)||eb.isTargetInsideNonReadonlyVoid(N,i),s=eb.hasEditableTarget(N,a)||eb.isTargetInsideNonReadonlyVoid(N,a);if(o&&s){var l=eb.toSlateRange(N,r,{exactMatch:!1,suppressThrow:!0});l&&(eb.isComposing(N)||null!=J&&J.hasPendingChanges()||null!=J&&J.isFlushing()?null==J||J.handleUserSelect(l):d.gB.select(N,l))}!p||o&&s||d.gB.deselect(N)}},100),[p]),X=(0,c.useMemo)(()=>o()(Z,0),[Z]),J=tv({node:k,onDOMSelectionChange:Z,scheduleOnDOMSelectionChange:X});eC(()=>{k.current&&(e=Y(k.current))?(v.set(N,e),A.set(N,k.current),T.set(N,k.current),S.set(k.current,N)):T.delete(N);var e,{selection:t}=N,n=eb.findDocumentOrShadowRoot(N).getSelection();if(!(!n||!eb.isFocused(N)||null!=J&&J.hasPendingAction())){var r=e=>{var r=\"None\"!==n.type;if(t||r){var i=A.get(N),a=!1;if(i.contains(n.anchorNode)&&i.contains(n.focusNode)&&(a=!0),r&&a&&t&&!e){var o=eb.toSlateRange(N,n,{exactMatch:!0,suppressThrow:!0});if(o&&d.Q6.equals(o,t)){if(!q.hasMarkPlaceholder)return;var s,{anchorNode:l}=n;if(null!=l&&null!=(s=l.parentElement)&&s.hasAttribute(\"data-slate-mark-placeholder\"))return}}if(t&&!eb.hasRange(N,t)){N.selection=eb.toSlateRange(N,n,{exactMatch:!1,suppressThrow:!0});return}q.isUpdatingSelection=!0;var c=t&&eb.toDOMRange(N,t);return c?(d.Q6.isBackward(t)?n.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):n.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset),E(N,c)):n.removeAllRanges(),c}},i=r(),a=(null==J?void 0:J.isFlushing())===\"action\";if(!el||!a)return void setTimeout(()=>{i&&ec&&eb.toDOMNode(N,N).focus(),q.isUpdatingSelection=!1});var o=null,s=requestAnimationFrame(()=>{if(a){var e=e=>{try{eb.toDOMNode(N,N).focus(),r(e)}catch(e){}};e(),o=setTimeout(()=>{e(!0),q.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(s),o&&clearTimeout(o)}}});var $=(0,c.useCallback)(e=>{if(G(),!p&&eb.hasEditableTarget(N,e.target)&&!tx(e,u)){if(J)return J.handleDOMBeforeInput(e);X.flush(),Z.flush();var{selection:t}=N,{inputType:n}=e,r=e.dataTransfer||e.data||void 0,i=\"insertCompositionText\"===n||\"deleteCompositionText\"===n;if(!(i&&eb.isComposing(N))){var a=!1;if(\"insertText\"===n&&t&&d.Q6.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset){a=!0,N.marks&&(a=!1);var{anchor:o}=t,[s,l]=eb.toDOMPoint(N,o),c=null==(h=s.parentElement)?void 0:h.closest(\"a\"),f=eb.getWindow(N);if(a&&c&&eb.hasDOMNode(N,c)){var _,h,m,g,E=null==f?void 0:f.document.createTreeWalker(c,NodeFilter.SHOW_TEXT).lastChild();E===s&&(null==(g=E.textContent)?void 0:g.length)===l&&(a=!1)}if(a&&s.parentElement&&(null==f||null==(m=f.getComputedStyle(s.parentElement))?void 0:m.whiteSpace)===\"pre\"){var y=d.KE.above(N,{at:o.path,match:e=>d.Hg.isElement(e)&&d.KE.isBlock(N,e)});y&&d.bP.string(y[0]).includes(\"\t\")&&(a=!1)}}if(!n.startsWith(\"delete\")||n.startsWith(\"deleteBy\")){var[b]=e.getTargetRanges();if(b){var O=eb.toSlateRange(N,b,{exactMatch:!1,suppressThrow:!1});if(!t||!d.Q6.equals(t,O)){a=!1;var v=!i&&N.selection&&d.KE.rangeRef(N,N.selection);d.gB.select(N,O),v&&D.set(N,v)}}}if(!i){if(a||e.preventDefault(),t&&d.Q6.isExpanded(t)&&n.startsWith(\"delete\")){var A=n.endsWith(\"Backward\")?\"backward\":\"forward\";d.KE.deleteFragment(N,{direction:A});return}switch(n){case\"deleteByComposition\":case\"deleteByCut\":case\"deleteByDrag\":d.KE.deleteFragment(N);break;case\"deleteContent\":case\"deleteContentForward\":d.KE.deleteForward(N);break;case\"deleteContentBackward\":d.KE.deleteBackward(N);break;case\"deleteEntireSoftLine\":d.KE.deleteBackward(N,{unit:\"line\"}),d.KE.deleteForward(N,{unit:\"line\"});break;case\"deleteHardLineBackward\":d.KE.deleteBackward(N,{unit:\"block\"});break;case\"deleteSoftLineBackward\":d.KE.deleteBackward(N,{unit:\"line\"});break;case\"deleteHardLineForward\":d.KE.deleteForward(N,{unit:\"block\"});break;case\"deleteSoftLineForward\":d.KE.deleteForward(N,{unit:\"line\"});break;case\"deleteWordBackward\":d.KE.deleteBackward(N,{unit:\"word\"});break;case\"deleteWordForward\":d.KE.deleteForward(N,{unit:\"word\"});break;case\"insertLineBreak\":d.KE.insertSoftBreak(N);break;case\"insertParagraph\":d.KE.insertBreak(N);break;case\"insertFromComposition\":case\"insertFromDrop\":case\"insertFromPaste\":case\"insertFromYank\":case\"insertReplacementText\":case\"insertText\":\"insertFromComposition\"===n&&eb.isComposing(N)&&(x(!1),P.set(N,!1)),(null==r?void 0:r.constructor.name)===\"DataTransfer\"?eb.insertData(N,r):\"string\"==typeof r&&(a?U.current.push(()=>d.KE.insertText(N,r)):d.KE.insertText(N,r))}var I=null==(_=D.get(N))?void 0:_.unref();D.delete(N),!I||N.selection&&d.Q6.equals(N.selection,I)||d.gB.select(N,I)}}}},[p,u]),ee=(0,c.useCallback)(e=>{null==e?(Z.cancel(),X.cancel(),A.delete(N),T.delete(N),k.current&&ey&&k.current.removeEventListener(\"beforeinput\",$)):ey&&e.addEventListener(\"beforeinput\",$),k.current=e},[k,$,Z,X]);eC(()=>{var e=eb.getWindow(N);return e.document.addEventListener(\"selectionchange\",X),()=>{e.document.removeEventListener(\"selectionchange\",X)}},[X]);var et=s([N,[]]);if(f&&1===N.children.length&&1===Array.from(d.bP.texts(N)).length&&\"\"===d.bP.string(N)&&!L){var en=d.KE.start(N,[]);et.push({[V]:!0,placeholder:f,anchor:en,focus:en})}var{marks:er}=N;if(q.hasMarkPlaceholder=!1,N.selection&&d.Q6.isCollapsed(N.selection)&&er){var{anchor:ei}=N.selection,ea=d.bP.leaf(N,ei.path),es=g(ea,tS);if(!d.EY.equals(ea,er,{loose:!0})){q.hasMarkPlaceholder=!0;var ed=Object.fromEntries(Object.keys(es).map(e=>[e,null]));et.push(tC(tC(tC({[B]:!0},ed),er),{},{anchor:ei,focus:ei}))}}(0,c.useEffect)(()=>{setTimeout(()=>{var{selection:e}=N;if(e){var{anchor:t}=e,n=d.bP.leaf(N,t.path);if(er&&!d.EY.equals(n,er,{loose:!0}))return void M.set(N,er)}M.delete(N)})});var ep=null==(t=I.get(N))||null==(n=t.getBoundingClientRect())?void 0:n.height;return c.createElement(ez.Provider,{value:p},c.createElement(eB.Provider,{value:s},c.createElement(e5,{node:k,receivedUserInput:H},c.createElement(b,Object.assign({role:p?void 0:\"textbox\",\"aria-multiline\":!p||void 0},C,{spellCheck:(!!ey||!eE)&&C.spellCheck,autoCorrect:ey||!eE?C.autoCorrect:\"false\",autoCapitalize:ey||!eE?C.autoCapitalize:\"false\",\"data-slate-editor\":!0,\"data-slate-node\":\"value\",contentEditable:!p,zindex:-1,suppressContentEditableWarning:!0,ref:ee,style:tC(tC({},O?{}:tC({position:\"relative\",outline:\"none\",whiteSpace:\"pre-wrap\",wordWrap:\"break-word\"},ep?{minHeight:ep}:{})),y),onBeforeInput:(0,c.useCallback)(e=>{if(!ey&&!p&&!tL(e,C.onBeforeInput)&&eb.hasSelectableTarget(N,e.target)&&(e.preventDefault(),!eb.isComposing(N))){var t=e.data;d.KE.insertText(N,t)}},[p]),onInput:(0,c.useCallback)(e=>{if(!tL(e,C.onInput)){if(J)return void J.handleInput();for(var t of U.current)t();U.current=[]}},[]),onBlur:(0,c.useCallback)(e=>{if(p||q.isUpdatingSelection||!eb.hasSelectableTarget(N,e.target)||tL(e,C.onBlur))return;var t=eb.findDocumentOrShadowRoot(N);if(q.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(n!==eb.toDOMNode(N,N)&&!(K(n)&&n.hasAttribute(\"data-slate-spacer\"))){if(null!=n&&z(n)&&eb.hasDOMNode(N,n)){var r=eb.toSlateNode(N,n);if(d.Hg.isElement(r)&&!N.isVoid(r))return}if(eu){var i=t.getSelection();null==i||i.removeAllRanges()}R.delete(N)}}},[p,C.onBlur]),onClick:(0,c.useCallback)(e=>{if(eb.hasTarget(N,e.target)&&!tL(e,C.onClick)&&z(e.target)){var t=eb.toSlateNode(N,e.target),n=eb.findPath(N,t);if(d.KE.hasPath(N,n)&&d.bP.get(N,n)===t){if(e.detail===eX&&n.length>=1){var r=n;if(!(d.Hg.isElement(t)&&d.KE.isBlock(N,t))){var i,a=d.KE.above(N,{match:e=>d.Hg.isElement(e)&&d.KE.isBlock(N,e),at:n});r=null!=(i=null==a?void 0:a[1])?i:n.slice(0,1)}var o=d.KE.range(N,r);d.gB.select(N,o);return}if(!p){var s=d.KE.start(N,n),l=d.KE.end(N,n),c=d.KE.void(N,{at:s}),u=d.KE.void(N,{at:l});if(c&&u&&d.wA.equals(c[1],u[1])){var f=d.KE.range(N,s);d.gB.select(N,f)}}}}},[p,C.onClick]),onCompositionEnd:(0,c.useCallback)(e=>{if(eb.hasSelectableTarget(N,e.target)&&(eb.isComposing(N)&&(x(!1),P.set(N,!1)),null==J||J.handleCompositionEnd(e),!tL(e,C.onCompositionEnd)&&!el&&!eu&&!eh&&!eo&&!eg&&!em)&&e.data){var t=M.get(N);M.delete(N),void 0!==t&&(j.set(N,N.marks),N.marks=t),d.KE.insertText(N,e.data);var n=j.get(N);j.delete(N),void 0!==n&&(N.marks=n)}},[C.onCompositionEnd]),onCompositionUpdate:(0,c.useCallback)(e=>{!eb.hasSelectableTarget(N,e.target)||tL(e,C.onCompositionUpdate)||eb.isComposing(N)||(x(!0),P.set(N,!0))},[C.onCompositionUpdate]),onCompositionStart:(0,c.useCallback)(e=>{if(eb.hasSelectableTarget(N,e.target)&&(null==J||J.handleCompositionStart(e),!tL(e,C.onCompositionStart)&&!el)){x(!0);var{selection:t}=N;if(t){if(d.Q6.isExpanded(t))return void d.KE.deleteFragment(N);var n=d.KE.above(N,{match:e=>d.Hg.isElement(e)&&d.KE.isInline(N,e),mode:\"highest\"});if(n){var[,r]=n;if(d.KE.isEnd(N,t.anchor,r)){var i=d.KE.after(N,r);d.gB.setSelection(N,{anchor:i,focus:i})}}}}},[C.onCompositionStart]),onCopy:(0,c.useCallback)(e=>{eb.hasSelectableTarget(N,e.target)&&!tL(e,C.onCopy)&&(e.preventDefault(),eb.setFragmentData(N,e.clipboardData,\"copy\"))},[C.onCopy]),onCut:(0,c.useCallback)(e=>{if(!p&&eb.hasSelectableTarget(N,e.target)&&!tL(e,C.onCut)){e.preventDefault(),eb.setFragmentData(N,e.clipboardData,\"cut\");var{selection:t}=N;if(t)if(d.Q6.isExpanded(t))d.KE.deleteFragment(N);else{var n=d.bP.parent(N,t.anchor.path);d.KE.isVoid(N,n)&&d.gB.delete(N)}}},[p,C.onCut]),onDragOver:(0,c.useCallback)(e=>{if(eb.hasTarget(N,e.target)&&!tL(e,C.onDragOver)){var t=eb.toSlateNode(N,e.target);d.Hg.isElement(t)&&d.KE.isVoid(N,t)&&e.preventDefault()}},[C.onDragOver]),onDragStart:(0,c.useCallback)(e=>{if(!p&&eb.hasTarget(N,e.target)&&!tL(e,C.onDragStart)){var t=eb.toSlateNode(N,e.target),n=eb.findPath(N,t);if(d.Hg.isElement(t)&&d.KE.isVoid(N,t)||d.KE.void(N,{at:n,voids:!0})){var r=d.KE.range(N,n);d.gB.select(N,r)}q.isDraggingInternally=!0,eb.setFragmentData(N,e.dataTransfer,\"drag\")}},[p,C.onDragStart]),onDrop:(0,c.useCallback)(e=>{if(!p&&eb.hasTarget(N,e.target)&&!tL(e,C.onDrop)){e.preventDefault();var t=N.selection,n=eb.findEventRange(N,e),r=e.dataTransfer;d.gB.select(N,n),q.isDraggingInternally&&t&&!d.Q6.equals(t,n)&&!d.KE.void(N,{at:n,voids:!0})&&d.gB.delete(N,{at:t}),eb.insertData(N,r),eb.isFocused(N)||eb.focus(N)}q.isDraggingInternally=!1},[p,C.onDrop]),onDragEnd:(0,c.useCallback)(e=>{!p&&q.isDraggingInternally&&C.onDragEnd&&eb.hasTarget(N,e.target)&&C.onDragEnd(e),q.isDraggingInternally=!1},[p,C.onDragEnd]),onFocus:(0,c.useCallback)(e=>{if(!p&&!q.isUpdatingSelection&&eb.hasEditableTarget(N,e.target)&&!tL(e,C.onFocus)){var t=eb.toDOMNode(N,N);if(q.latestElement=eb.findDocumentOrShadowRoot(N).activeElement,ec&&e.target!==t)return void t.focus();R.set(N,!0)}},[p,C.onFocus]),onKeyDown:(0,c.useCallback)(e=>{if(!p&&eb.hasEditableTarget(N,e.target)){null==J||J.handleKeyDown(e);var{nativeEvent:t}=e;if(eb.isComposing(N)&&!1===t.isComposing&&(P.set(N,!1),x(!1)),!(tL(e,C.onKeyDown)||eb.isComposing(N))){var{selection:n}=N,r=N.children[null!==n?n.focus.path[0]:0],a=\"rtl\"===i()(d.bP.string(r));if(e2.isRedo(t)){e.preventDefault();var o=N;\"function\"==typeof o.redo&&o.redo();return}if(e2.isUndo(t)){e.preventDefault();var s=N;\"function\"==typeof s.undo&&s.undo();return}if(e2.isMoveLineBackward(t)){e.preventDefault(),d.gB.move(N,{unit:\"line\",reverse:!0});return}if(e2.isMoveLineForward(t)){e.preventDefault(),d.gB.move(N,{unit:\"line\"});return}if(e2.isExtendLineBackward(t)){e.preventDefault(),d.gB.move(N,{unit:\"line\",edge:\"focus\",reverse:!0});return}if(e2.isExtendLineForward(t)){e.preventDefault(),d.gB.move(N,{unit:\"line\",edge:\"focus\"});return}if(e2.isMoveBackward(t)){e.preventDefault(),n&&d.Q6.isCollapsed(n)?d.gB.move(N,{reverse:!a}):d.gB.collapse(N,{edge:\"start\"});return}if(e2.isMoveForward(t)){e.preventDefault(),n&&d.Q6.isCollapsed(n)?d.gB.move(N,{reverse:a}):d.gB.collapse(N,{edge:\"end\"});return}if(e2.isMoveWordBackward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)&&d.gB.collapse(N,{edge:\"focus\"}),d.gB.move(N,{unit:\"word\",reverse:!a});return}if(e2.isMoveWordForward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)&&d.gB.collapse(N,{edge:\"focus\"}),d.gB.move(N,{unit:\"word\",reverse:a});return}if(ey){if((ef||eu)&&n&&(e2.isDeleteBackward(t)||e2.isDeleteForward(t))&&d.Q6.isCollapsed(n)){var l=d.bP.parent(N,n.anchor.path);if(d.Hg.isElement(l)&&d.KE.isVoid(N,l)&&(d.KE.isInline(N,l)||d.KE.isBlock(N,l))){e.preventDefault(),d.KE.deleteBackward(N,{unit:\"block\"});return}}}else{if(e2.isBold(t)||e2.isItalic(t)||e2.isTransposeCharacter(t))return void e.preventDefault();if(e2.isSoftBreak(t)){e.preventDefault(),d.KE.insertSoftBreak(N);return}if(e2.isSplitBlock(t)){e.preventDefault(),d.KE.insertBreak(N);return}if(e2.isDeleteBackward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)?d.KE.deleteFragment(N,{direction:\"backward\"}):d.KE.deleteBackward(N);return}if(e2.isDeleteForward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)?d.KE.deleteFragment(N,{direction:\"forward\"}):d.KE.deleteForward(N);return}if(e2.isDeleteLineBackward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)?d.KE.deleteFragment(N,{direction:\"backward\"}):d.KE.deleteBackward(N,{unit:\"line\"});return}if(e2.isDeleteLineForward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)?d.KE.deleteFragment(N,{direction:\"forward\"}):d.KE.deleteForward(N,{unit:\"line\"});return}if(e2.isDeleteWordBackward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)?d.KE.deleteFragment(N,{direction:\"backward\"}):d.KE.deleteBackward(N,{unit:\"word\"});return}if(e2.isDeleteWordForward(t)){e.preventDefault(),n&&d.Q6.isExpanded(n)?d.KE.deleteFragment(N,{direction:\"forward\"}):d.KE.deleteForward(N,{unit:\"word\"});return}}}}},[p,C.onKeyDown]),onPaste:(0,c.useCallback)(e=>{!p&&eb.hasEditableTarget(N,e.target)&&!tL(e,C.onPaste)&&(!ey||Q(e.nativeEvent)||eu)&&(e.preventDefault(),eb.insertData(N,e.clipboardData))},[p,C.onPaste])}),c.createElement(tN,{decorations:et,node:N,renderElement:_,renderPlaceholder:m,renderLeaf:h,selection:N.selection})))))}"},{"code":"()=>{var e=(0,c.useContext)(eD);if(!e)throw Error(\"The `useSlateStatic` hook must be used inside the <Slate> component's context.\");return e}"},{"code":"()=>(0,c.useContext)(eY)"},{"code":"function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"x-slate-fragment\",n=e,{apply:r,onChange:i,deleteBackward:a,addMark:o,removeMark:s}=n;return N.set(n,new WeakMap),n.addMark=(e,t)=>{var r,i;null==(r=x.get(n))||r(),!M.get(n)&&null!=(i=k.get(n))&&i.length&&M.set(n,null),j.delete(n),o(e,t)},n.removeMark=e=>{var t;!M.get(n)&&null!=(t=k.get(n))&&t.length&&M.set(n,null),j.delete(n),s(e)},n.deleteBackward=e=>{if(\"line\"!==e)return a(e);if(n.selection&&d.Q6.isCollapsed(n.selection)){var t=d.KE.above(n,{match:e=>d.Hg.isElement(e)&&d.KE.isBlock(n,e),at:n.selection});if(t){var[,r]=t,i=d.KE.range(n,r,n.selection.anchor),o=tW(n,i);d.Q6.isCollapsed(o)||d.gB.delete(n,{at:o})}}},n.apply=e=>{var t,i=[],a=k.get(n);if(null!=a&&a.length){var o=a.map(t=>tl(t,e)).filter(Boolean);k.set(n,o)}var s=G.get(n);s&&G.set(n,ts(n,s,e));var l=U.get(n);if(null!=l&&l.at){var c=d.bR.isPoint(null==l?void 0:l.at)?to(n,l.at,e):ts(n,l.at,e);U.set(n,c?tz(tz({},l),{},{at:c}):null)}switch(e.type){case\"insert_text\":case\"remove_text\":case\"set_node\":case\"split_node\":i.push(...tZ(n,e.path));break;case\"set_selection\":null==(t=D.get(n))||t.unref(),D.delete(n);break;case\"insert_node\":case\"remove_node\":i.push(...tZ(n,d.wA.parent(e.path)));break;case\"merge_node\":i.push(...tZ(n,d.wA.previous(e.path)));break;case\"move_node\":i.push(...tZ(n,d.wA.common(d.wA.parent(e.path),d.wA.parent(e.newPath))))}for(var[u,f]of(r(e),i)){var[p]=d.KE.node(n,u);C.set(p,f)}},n.setFragmentData=e=>{var{selection:r}=n;if(r){var[i,a]=d.Q6.edges(r),o=d.KE.void(n,{at:i.path}),s=d.KE.void(n,{at:a.path});if(!d.Q6.isCollapsed(r)||o){var l=eb.toDOMRange(n,r),c=l.cloneContents(),u=c.childNodes[0];if(c.childNodes.forEach(e=>{e.textContent&&\"\"!==e.textContent.trim()&&(u=e)}),s){var[f]=s,p=l.cloneRange(),_=eb.toDOMNode(n,f);p.setEndAfter(_),c=p.cloneContents()}if(o&&(u=c.querySelector(\"[data-slate-spacer]\")),Array.from(c.querySelectorAll(\"[data-slate-zero-width]\")).forEach(e=>{var t=\"n\"===e.getAttribute(\"data-slate-zero-width\");e.textContent=t?\"\\n\":\"\"}),Z(u)){var h=u.ownerDocument.createElement(\"span\");h.style.whiteSpace=\"pre\",h.appendChild(u),c.appendChild(h),u=h}var m=n.getFragment(),g=JSON.stringify(m),E=window.btoa(encodeURIComponent(g));u.setAttribute(\"data-slate-fragment\",E),e.setData(\"application/\".concat(t),E);var y=c.ownerDocument.createElement(\"div\");return y.appendChild(c),y.setAttribute(\"hidden\",\"true\"),c.ownerDocument.body.appendChild(y),e.setData(\"text/html\",y.innerHTML),e.setData(\"text/plain\",et(y)),c.ownerDocument.body.removeChild(y),e}}},n.insertData=e=>{n.insertFragmentData(e)||n.insertTextData(e)},n.insertFragmentData=e=>{var r=e.getData(\"application/\".concat(t))||er(e);if(r){var i=JSON.parse(decodeURIComponent(window.atob(r)));return n.insertFragment(i),!0}return!1},n.insertTextData=e=>{var t=e.getData(\"text/plain\");if(t){var r=t.split(/\\r\\n|\\r|\\n/),i=!1;for(var a of r)i&&d.gB.splitNodes(n,{always:!0}),n.insertText(a),i=!0;return!0}return!1},n.onChange=e=>{_.unstable_batchedUpdates(()=>{var t=L.get(n);t&&t(),i(e)})},n}"},{"code":"()=>(0,c.useContext)(tM)"}]