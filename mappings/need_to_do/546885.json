[{"code":"class l{reset(){this._guildStates={},this._flush.cancel()}request(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay(!1)}acknowledge(e,t){this._getGuildState(e).acknowledge(t)}flushRequests(){i().forEach(this._guildStates,e=>e.flushRequests(this._onChange))}requestUnacknowledged(){i().reduce(this._guildStates,(e,t)=>!1!==t.requestUnacknowledged()||t,!1)&&this._flush.delay()}_getGuildState(e){let t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new s(e,this._guildMemberExists)),t}getDebugState(e){let t=[],n=[],r=[];return i().forEach(this._guildStates,i=>{i._pendingRequests.has(e)&&t.push(i._guildId),i._unacknowledgedRequests.has(e)&&n.push(i._guildId),i._sentRequests.has(e)&&r.push(i._guildId)}),{pendingRequestGuildIds:t,unacknowledgedRequestGuildIds:n,sentRequestGuildIds:r}}constructor(e,t){o(this,\"_onChange\",void 0),o(this,\"_guildMemberExists\",void 0),o(this,\"_guildStates\",{}),o(this,\"_flush\",new a.J_(0,()=>this.flushRequests())),this._guildMemberExists=e,this._onChange=t}}"}]