[{"code":"function Z(e){return{amount:e.amount,currency:e.currency,exponent:e.exponent}}"},{"code":"function ex(e){return e.isPurchasedExternally?e.status===C.Dmq.CANCELED:eD(e)===C.Dmq.CANCELED}"},{"code":"function i(e,t){return null==t||null!=e&&r.ci[e]>=r.ci[t]}"},{"code":"function en(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:R.PremiumTypes.TIER_2;if(t||n)switch(e){case R.WT.MONTH:let s=D.intl.formatToPlainString(a===R.PremiumTypes.TIER_0?D.t.NPKsLz:D.t.poEovT,{timeInterval:D.intl.string(D.t.FPybU7)});return i?s:D.intl.string(D.t.Mh9bTt);case R.WT.YEAR:let o=D.intl.formatToPlainString(a===R.PremiumTypes.TIER_0?D.t.NPKsLz:D.t.poEovT,{timeInterval:D.intl.string(D.t.tfqrhj)});return i?o:D.intl.string(D.t.DRgqMo);default:throw Error(\"Unexpected interval\")}switch(e){case R.WT.MONTH:if(1!==r)return D.intl.formatToPlainString(D.t[\"0UlZnH\"],{intervalCount:r});return D.intl.string(D.t.DKzs96);case R.WT.YEAR:return D.intl.string(D.t[\"/Q4HRN\"]);default:throw Error(\"Unexpected interval\")}}"},{"code":"function ec(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case R.PremiumTypes.TIER_0:return t?\"Basic\":D.intl.string(D.t[\"t9uG/o\"]);case R.PremiumTypes.TIER_1:return t?\"Classic\":D.intl.string(D.t.FSOz78);case R.PremiumTypes.TIER_2:return D.intl.string(D.t.lG6a5x)}}"},{"code":"function e4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useSpace:!0},n=R.f5[e].fileSize;return(0,v.Xq)(n/1024,{useKibibytes:!0,useSpace:t.useSpace})}"},{"code":"function Y(e){return e.items.find(e=>R.JM.has(e.planId))}"},{"code":"function tw(e){return\"isNitroLocked\"in e}"},{"code":"function er(e){switch(e){case R.WT.MONTH:return D.intl.string(D.t.FPybU7);case R.WT.YEAR:return D.intl.string(D.t.tfqrhj);default:throw Error(\"Unexpected interval\")}}"},{"code":"function eq(e){let{intervalType:t=R.WT.MONTH,intervalCount:n=1}=e,r=P.Yr.USD;try{r=W(R.gD.PREMIUM_MONTH_TIER_2,!1,!1,void 0,!1).currency}catch(e){}let i=(0,T.$g)(0,r,{maximumFractionDigits:0,minimumFractionDigits:0});switch(t){case R.WT.DAY:if(n>=7&&n%7==0)return D.intl.formatToPlainString(D.t.C6i5Jt,{weeks:n/7,price:i});return D.intl.formatToPlainString(D.t.cR9ifw,{days:n,price:i});case R.WT.MONTH:return D.intl.formatToPlainString(D.t[\"8FZfNo\"],{months:n,price:i});case R.WT.YEAR:return D.intl.formatToPlainString(D.t.xzAcST,{years:n,price:i});default:throw Error(\"Unsupported interval duration.\")}}"},{"code":"function e2(e,t){return e1(e,t,1,R.JM)}"},{"code":"function eK(e){let t=e.invoiceItems[0].subscriptionPlanId,n=g.A.get(t);return i()(null!=n,\"Missing subscriptionPlan\"),{intervalType:n.interval,intervalCount:n.intervalCount}}"},{"code":"function eP(e){if(null==e)return!1;let t=m.A.getPaymentSource(e);return null!=t&&P.AD.has(t.type)}"},{"code":"function W(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],s=null!=(t=m.A.defaultPaymentSourceId)?t:void 0,o=E.A.getPremiumTypeSubscription();return null!=o&&null!=o.paymentSourceId&&(s=o.paymentSourceId),K(e,n,r,{paymentSourceId:s,currency:i},a)}"},{"code":"function ee(e){switch(e){case R.Ff.MONTH:return D.intl.string(D.t.FPybU7);case R.Ff.YEAR:return D.intl.string(D.t.tfqrhj);case R.Ff.DAY:case R.Ff.WEEK:default:throw Error(\"Unexpected interval\")}}"},{"code":"function eX(e,t){if(null!=e&&null!=e.subscription_trial&&e.subscription_trial.sku_id===t){let t=e.subscription_trial;return eq({intervalType:t.interval,intervalCount:t.interval_count})}return null}"},{"code":"function ea(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;switch(e){case R.gD.PREMIUM_MONTH_TIER_0:return t?D.intl.format(D.t.TZXHNj,{duration:r}):n?D.intl.string(D.t[\"81iAgs\"]):D.intl.string(D.t[\"0efVPy\"]);case R.gD.PREMIUM_YEAR_TIER_0:return t?D.intl.format(D.t.eqRhC7,{duration:r}):n?D.intl.string(D.t.UvzqY1):D.intl.string(D.t.eoVuBn);case R.gD.PREMIUM_MONTH_TIER_1:return n?D.intl.string(D.t[\"g/dH5g\"]):D.intl.string(D.t[\"7O6qSq\"]);case R.gD.PREMIUM_YEAR_TIER_1:return n?D.intl.string(D.t.pdZJaq):D.intl.string(D.t.Md5xbi);case R.gD.PREMIUM_MONTH_TIER_2:return t?D.intl.format(D.t.aI6QXz,{duration:r}):n?D.intl.string(D.t.SmVbHc):D.intl.string(D.t.FKYNC6);case R.gD.PREMIUM_GROUP_MONTH:return n?D.intl.string(D.t.SmVbHc):D.intl.string(D.t.FKYNC6);case R.gD.PREMIUM_YEAR_TIER_2:return t?D.intl.format(D.t[\"1wBcPi\"],{duration:r}):n?D.intl.string(D.t.JIq4O1):D.intl.string(D.t[\"cfu/5d\"]);case R.gD.PREMIUM_3_MONTH_TIER_2:return D.intl.string(D.t.wCbINr);case R.gD.PREMIUM_6_MONTH_TIER_2:return D.intl.string(D.t[\"e3/ArU\"]);case R.gD.PREMIUM_MONTH_GUILD:return n?D.intl.string(D.t[\"6ZR3By\"]):D.intl.string(D.t[\"h80cx/\"]);case R.gD.PREMIUM_YEAR_GUILD:return n?D.intl.string(D.t.YDpAzZ):D.intl.string(D.t.ZHkls0);case R.gD.PREMIUM_3_MONTH_GUILD:return D.intl.string(D.t.EZHHB6);case R.gD.PREMIUM_6_MONTH_GUILD:return D.intl.string(D.t.X2KDO2);case R.gD.PREMIUM_MONTH_LEGACY:return D.intl.string(D.t.PD6k79);case R.gD.PREMIUM_YEAR_LEGACY:return D.intl.string(D.t.LtJgTC)}let i=Error(\"Unsupported plan\");throw(0,y.pM)(i,{tags:{planId:e}}),i}"},{"code":"function eN(e){return null!=e.renewalMutations||null!=e.trialEndsAt||e.status===C.Dmq.PAST_DUE}"},{"code":"function ef(e){let{planId:t,additionalPlans:n}=e,r=(0,p.m1)(t)?null:ea(t),i=null==n?void 0:n.find(e=>{let{planId:t}=e;return R.pW.has(t)}),a=(null==i?void 0:i.planId)===R.gD.PREMIUM_MONTH_GUILD||(null==i?void 0:i.planId)===R.gD.PREMIUM_YEAR_GUILD?D.t.Pi5yMJ:null,s=null!=a?D.intl.formatToPlainString(a,{num:null==i?void 0:i.quantity}):void 0;if(null!=r&&null!=s)return D.intl.formatToPlainString(D.t.FN5T9r,{premiumDescription:r,premiumGuildDescription:s});if(null!=r)return r;if(null!=s)return s;throw Error(\"Subscription without premium or premium guild subscription\")}"},{"code":"function e$(e,t){return(0,S.ki)(e)||eV(null==t?void 0:t.status)}"},{"code":"function e3(e,t,n){return e1(e,n,t,R.pW)}"},{"code":"function eV(e){return e===C.Dmq.PAST_DUE||e===C.Dmq.ACCOUNT_HOLD||e===C.Dmq.BILLING_RETRY}"},{"code":"function e1(e,t,n,r){var a,s;i()(r.has(t),\"Expected planId in group\");let o=!1,l=(null!=(a=null==(s=e.renewalMutations)?void 0:s.items)?a:e.items).map(e=>r.has(e.planId)?(o=!0,U(M({},e),{quantity:n,planId:t})):e);if(!o){let r={planId:t,quantity:n},i=e.items.find(e=>e.planId===t);null!=i&&(r.id=i.id),l.push(r)}return l.filter(e=>0!==e.quantity)}"},{"code":"function eR(e){let t=null;return null!=e.renewalMutations&&(t=e.renewalMutations.planId!==e.planId?D.intl.string(D.t[\"0rzJ4J\"]):D.intl.string(D.t[\"9dLQ0/\"])),null!=e.trialEndsAt&&(t=D.intl.string(D.t.a9Mdb3)),t}"},{"code":"function eo(e){var t;let n=null==(t=R.hd[e])?void 0:t.premiumType,r=null!=n?R.Mr[n]:null;if(null!=r)return D.intl.string(r);let i=Error(\"Unsupported plan\");throw(0,y.pM)(i,{tags:{planId:e}}),i}"},{"code":"function s(e,t){return null!=e&&null!=e.premiumType&&i(e.premiumType,t)}"},{"code":"function e_(e){let{skuId:t,isPremium:n,multiMonthPlans:r,currentSubscription:i,defaultPlanId:a}=e;if(null==t||!n)return[];let s=void 0!==a&&t===R.hd[a].skuId?a:void 0,o=[];switch(t){case R.pe.TIER_0:o=[R.gD.PREMIUM_YEAR_TIER_0,R.gD.PREMIUM_MONTH_TIER_0];break;case R.pe.TIER_1:o=[R.gD.PREMIUM_MONTH_TIER_1];break;case R.pe.TIER_2:let l=r;if(null!=i){let e=i.items[0].planId;if(R.Er.has(e)){let t=R.hd[e];l=[...R.Er].filter(e=>{let n=R.hd[e];return n.interval===t.interval&&n.intervalCount===t.intervalCount&&n.skuId===R.pe.TIER_2})}else l=[]}o=[R.gD.PREMIUM_YEAR_TIER_2,...l,R.gD.PREMIUM_MONTH_TIER_2];break;default:throw Error(\"Unexpected SKU: \".concat(t))}if(void 0!==s){let e=o.indexOf(s);o.splice(e,1),o.unshift(s)}return o}"},{"code":"function tH(e){return null==e?0:Math.max((0,b.m_)(new Date,new Date(e)),0)}"},{"code":"function $(e,t,n,r){let a;return null===t&&(i()(null!==e,\"Subscription can't be null\"),t=[]),Q(a=null!==e?eJ(e,t):e0(t),n,r)}"},{"code":"function Q(e,t,n){let r,i,a={currency:t,amount:0,tax:0,taxInclusive:!1},s=(0,d._1)(e);null!=s&&(r=R.hd[s.planId].premiumType);let o=(0,S.CC)(r,R.PremiumTypes.TIER_0),l=(0,S.CC)(r,R.PremiumTypes.TIER_2);for(let r of e){let e;i=R.pW.has(r.planId)?l:!R.JM.has(r.planId)&&o,e=void 0===n?W(r.planId,i,!1,t):K(r.planId,i,!1,{paymentSourceId:n,currency:t}),a.amount+=e.amount*r.quantity}return Z(a)}"},{"code":"function eL(e){var t,n,r;let{subscription:a,user:s,price:o,renewalInvoicePreview:l,fractionalPremiumInfo:c}=e,{planId:u,additionalPlans:d}=a,f=g.A.get(u);i()(null!=f,\"Missing plan\");let p=eg(d),_=eB(a.planId,a.paymentSourceId,a.currency,s).amount*p;if(null!=l){let e=l.invoiceItems.find(e=>R.pW.has(e.subscriptionPlanId));null!=e&&(_=e.amount)}o=null!=o?o:(0,T.$g)(_,a.currency);let h=null==(t=null!=(n=null==l?void 0:l.taxInclusive)?n:null==(r=a.latestInvoice)?void 0:r.taxInclusive)||t;if(ex(a))return a.isPurchasedViaGoogle?D.intl.format(D.t[\"3/WTrI\"],{quantity:p}):h?D.intl.format(D.t[\"0ozBSB\"],{quantity:p,rate:(0,T.CE)(o,f.interval,f.intervalCount)}):D.intl.format(D.t[\"yjsv/s\"],{quantity:p,rate:(0,T.CE)(o,f.interval,f.intervalCount)});switch(a.status){case C.Dmq.ACCOUNT_HOLD:return a.isPurchasedViaGoogle?D.intl.format(D.t.Nlf3nc,{quantity:p,boostQuantity:p}):h?D.intl.format(D.t.oiRy7v,{quantity:p,boostQuantity:p,rate:(0,T.CE)(o,f.interval,f.intervalCount)}):D.intl.format(D.t[\"0QxOAi\"],{quantity:p,boostQuantity:p,rate:(0,T.CE)(o,f.interval,f.intervalCount)});case C.Dmq.PAUSE_PENDING:case C.Dmq.PAUSED:if(null!=c&&!c.isFractionalPremiumActive)return D.intl.string(D.t.CduWAm);return D.intl.format(D.t[\"5iud9s\"],{quantity:p});default:return a.isPurchasedViaGoogle?D.intl.format(D.t[\"5iud9s\"],{quantity:p}):h?D.intl.format(D.t.eDwrLA,{quantity:p,rate:(0,T.CE)(o,f.interval,f.intervalCount)}):D.intl.format(D.t.ijSDcI,{quantity:p,rate:(0,T.CE)(o,f.interval,f.intervalCount)})}}"},{"code":"function o(e,t){return null!=e&&e.premiumType===t}"},{"code":"function et(e,t){switch(e){case R.WT.MONTH:if(1!==t)return D.intl.formatToPlainString(x.default.OBVcgO,{intervalCount:t});return D.intl.string(x.default.FVzt1W);case R.WT.YEAR:return D.intl.string(x.default.NEHhLR);default:throw Error(\"Unexpected interval\")}}"},{"code":"function ev(e){return null!=e&&e===R.gD.PREMIUM_GROUP_MONTH}"},{"code":"function es(e){switch(e){case R.pe.TIER_0:return D.intl.string(D.t[\"t9uG/o\"]);case R.pe.TIER_1:return D.intl.string(D.t.FSOz78);case R.pe.TIER_2:return D.intl.string(D.t.lG6a5x)}let t=Error(\"Unsupported sku\");throw(0,y.pM)(t,{tags:{skuId:e}}),t}"},{"code":"function eT(e,t,n,r){let i=s()(r?void 0:e);if(t.length>0){let e=tV(t);i=i.add(e,\"hours\")}if(!r&&void 0!==n){let e=s()(),t=n.diff(e,\"hours\",!0);t>0&&(i=i.add(t,\"hours\"))}return i.toDate()}"},{"code":"function eJ(e,t){var n,r;let i=[],a=(null!=(n=null==(r=e.renewalMutations)?void 0:r.items)?n:e.items).find(e=>R.JM.has(e.planId));return null!=a&&i.push(a),i.push(...t),i.map(t=>{for(let n of e.items)if(t.planId===n.planId)return M({},n,t);return t})}"},{"code":"function e8(e){let t=null!=e?Y(e):null;return null!=t?eh(t.planId):null}"},{"code":"function eg(e){let t=g.A.getPlanIdsForSkus([tR(R.pe.GUILD)]);i()(null!=t,\"Missing guildSubscriptionPlanIds\");let n=e.find(e=>{let{planId:n}=e;return t.includes(n)});return null!=n?n.quantity:0}"},{"code":"function tj(e){return tM(e)?tx(e.trial_id):tk(e)?tL():R.CQ}"},{"code":"function e0(e){return e.filter(e=>!R.JM.has(e.planId))}"},{"code":"function eW(e,t,n){let r=t.id;if(null!=e)switch(r){case R.gD.PREMIUM_MONTH_TIER_0:return D.intl.string(D.t[\"0ggVqN\"]);case R.gD.PREMIUM_YEAR_TIER_0:return D.intl.string(D.t[\"jm+ZQw\"]);case R.gD.PREMIUM_MONTH_TIER_1:return D.intl.string(D.t.uph4Jx);case R.gD.PREMIUM_YEAR_TIER_1:return D.intl.string(D.t[\"D/l7Yt\"]);case R.gD.PREMIUM_MONTH_TIER_2:case R.gD.PREMIUM_GROUP_MONTH:return D.intl.string(D.t[\"5l1MuV\"]);case R.gD.PREMIUM_YEAR_TIER_2:return D.intl.string(D.t.G0mISV)}switch(r){case R.gD.PREMIUM_MONTH_TIER_0:return n?D.intl.string(D.t.cRCCJ3):D.intl.string(D.t[\"/G3aKw\"]);case R.gD.PREMIUM_YEAR_TIER_0:return n?D.intl.string(D.t.cRCCJ3):D.intl.string(D.t[\"2eQpsL\"]);case R.gD.PREMIUM_MONTH_TIER_1:return n?D.intl.string(D.t.cRCCJ3):D.intl.string(D.t.gueLg5);case R.gD.PREMIUM_YEAR_TIER_1:return n?D.intl.string(D.t.cRCCJ3):D.intl.string(D.t[\"MhH/vW\"]);case R.gD.PREMIUM_MONTH_TIER_2:return n?D.intl.string(D.t.cRCCJ3):D.intl.string(D.t.LQVQIq);case R.gD.PREMIUM_GROUP_MONTH:return D.intl.formatToPlainString(L.default.LwdrNi,{premiumGroupProductName:(0,w.DP)()});case R.gD.PREMIUM_YEAR_TIER_2:return n?D.intl.string(D.t.cRCCJ3):D.intl.string(D.t[\"0nfg1x\"]);case R.gD.PREMIUM_3_MONTH_TIER_2:case R.gD.PREMIUM_6_MONTH_TIER_2:return D.intl.formatToPlainString(D.t.BCD4fT,{intervalCount:t.intervalCount});case R.gD.NONE_MONTH:case R.gD.NONE_YEAR:case R.gD.NONE_3_MONTH:case R.gD.NONE_6_MONTH:case R.gD.PREMIUM_MONTH_GUILD:case R.gD.PREMIUM_YEAR_GUILD:case R.gD.PREMIUM_3_MONTH_GUILD:case R.gD.PREMIUM_6_MONTH_GUILD:return D.intl.string(D.t.eUEeCt)}let i=Error(\"User is purchasing an unsupported plan\");throw(0,y.pM)(i,{tags:{planId:r}}),i}"},{"code":"function tF(e){return e.reduce((e,t)=>{let[n,r]=R.NL[t],i=1;switch(n){case R.T.HOUR:i=1;break;case R.T.DAY:i=24}return e+i*r},0)}"},{"code":"function eM(e,t,n){let r=ej(e,t,n);return(0,T.CE)(r,e.interval,e.intervalCount)}"},{"code":"function eI(e){var t,n,r,i,a;if(e.isPurchasedViaApple&&(null==(t=e.metadata)?void 0:t.apple_grace_period_expires_date)!=null){let t=s()(e.metadata.apple_grace_period_expires_date);return{days:s().duration(t.diff(e.currentPeriodStart)).days(),expiresDate:t}}if(e.isPurchasedViaGoogle&&(null==(n=e.metadata)?void 0:n.google_grace_period_expires_date)!=null&&(null==(r=e.metadata)?void 0:r.google_original_expires_date)!=null){let t=s()(e.metadata.google_grace_period_expires_date),n=s()(e.metadata.google_original_expires_date);return{days:s().duration(t.diff(n)).days(),expiresDate:t}}if(e.isPurchasedExternally){let t=e.isPurchasedViaApple?R.U1:R.L9;return{days:t,expiresDate:s()(e.currentPeriodStart).add(t,\"days\")}}if((null==(i=e.metadata)?void 0:i.grace_period_expires_date)!=null)return{days:s()(null==(a=e.metadata)?void 0:a.grace_period_expires_date).diff(e.currentPeriodStart,\"days\"),expiresDate:s()(e.metadata.grace_period_expires_date)};{let t=null==e.paymentSourceId?R.a5:R.EV;return{days:t,expiresDate:s()(e.currentPeriodStart).add(t,\"days\")}}}"},{"code":"function tB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.interval!==R.WT.YEAR)return;let r=R.En[e.skuId];if(null==r)return;let i=K(r,!1,t,n),a=K(e.id,!1,t,n);if(0!==i.amount)return Math.floor(100*(1-a.amount/(12*i.amount)))}"},{"code":"function eC(e){let t=tV(e.unactivatedUnits);if(!(t>0&&e.fractionalState===R.xc.NONE))return\"\";let n={days:D.t.fYmirx,hours:D.t[\"C3RO+g\"],minutes:D.t.r77oHc},r=(0,c.Vb)((0,b.Tf)(0,t*O.A.Millis.HOUR));return(0,b.uN)(r,n)}"},{"code":"function eG(e){let{status:t,renewalMutations:n}=e;return t===C.Dmq.CANCELED||null!=n&&(0,p.m1)(n.planId)&&!e.isPurchasedExternally}"},{"code":"function ei(e){let t=R.hd[e];if(null!=t)return t.premiumType;let n=Error(\"Unsupported plan\");throw(0,y.pM)(n,{tags:{planId:e}}),n}"},{"code":"function tR(e){return e}"},{"code":"e=>null!=e&&Date.now()-e.createdAt.getTime()<B"},{"code":"function ed(e){let{renewalInvoicePreview:t,subscription:n,planId:r,includePremiumGuilds:a=!1,hasDiscountApplied:s=!1,activeDiscountInfo:o,hasFractionalPremiumWithSub:l=!1}=e,c=g.A.get(r);return i()(null!=c,\"Missing plan\"),eu({subscription:n,planId:c.id,price:eF(t,n,c),includePremiumGuilds:a,hasDiscountApplied:s,activeDiscountInfo:o,renewalInvoicePreview:t,hasFractionalPremiumWithSub:l})}"},{"code":"function tP(){let e=(0,o.bG)([_.default],()=>_.default.getCurrentUser());return(0,S.YE)(e,R.PremiumTypes.TIER_2)}"},{"code":"function q(e){let{paymentSourceId:t,purchaseType:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{purchaseType:C.lid.DEFAULT},r=z(e,n);if(null!=t){let i=r.paymentSourcePrices[t];if(null==i){F.info(\"Payment sources IDs: \".concat(JSON.stringify(Object.keys(r.paymentSourcePrices)))),F.info(\"prices: \".concat(i));let a=Error(\"Missing prices for payment source on subscription plan\");(0,y.pM)(a,{extra:{paymentSourceId:t},tags:{purchaseType:n.toString(),planId:e}})}else if(0!==i.length)return i}if(null==r.countryPrices.prices){F.info(\"countryPrices: \".concat(JSON.stringify(r.countryPrices)));let t=Error(\"Missing prices for country\");throw(0,y.pM)(t,{tags:{countryCode:r.countryPrices.countryCode,planId:e}}),t}return r.countryPrices.prices}"},{"code":"function e6(e){var t;let n=null!=(t=e.find(e=>!(\"id\"in e)))?t:e.find(e=>R.JM.has(e.planId));if(null!=n){let t=g.A.get(n.planId);i()(null!=t,\"Missing plan\"),e=e.map(e=>{if(e===n)return e;let r=g.A.get(e.planId);if(i()(null!=r,\"Missing plan\"),t.interval===r.interval&&t.intervalCount===r.intervalCount)return e;let a=g.A.getForSkuAndInterval(r.skuId,t.interval,t.intervalCount);return i()(null!=a,\"Missing planForInterval\"),U(M({},e),{planId:a.id})})}return e}"},{"code":"function ej(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null!=t?K(e.id,!1,r,t):W(e.id,!1,r),a=(0,T.$g)(i.amount,i.currency);return e.currency!==P.Yr.USD&&!0===n&&(a=a.concat(\"*\")),a}"},{"code":"function ez(e){let{intervalType:t=R.WT.MONTH,intervalCount:n=1,capitalize:r=!1}=e;switch(t){case R.WT.DAY:if(n>=7&&n%7==0)return r?D.intl.formatToPlainString(D.t.fRNBRX,{weeks:n/7}):D.intl.formatToPlainString(D.t.EIpHEj,{weeks:n/7});return r?D.intl.formatToPlainString(D.t[\"6Cdzoy\"],{days:n}):D.intl.formatToPlainString(D.t[\"kbBj/h\"],{days:n});case R.WT.MONTH:return r?D.intl.formatToPlainString(D.t.x5MgxS,{months:n}):D.intl.formatToPlainString(D.t[\"4SEnCZ\"],{months:n});case R.WT.YEAR:return r?D.intl.formatToPlainString(D.t[\"h+63yl\"],{years:n}):D.intl.formatToPlainString(D.t[\"9DFiHk\"],{years:n});default:throw Error(\"Unsupported interval duration.\")}}"},{"code":"function eQ(e,t){switch(e){case C.kM_.APPLE_PARTNER:case C.kM_.APPLE_ADVANCED_COMMERCE:case C.kM_.APPLE:return G[t];case C.kM_.GOOGLE:return V[t]}throw Error(\"Invalid external payment gateway \".concat(e))}"},{"code":"function tY(e){return Math.max(1,Math.ceil((0,b.c_)(new Date(e.currentPeriodEnd),new Date)))}"},{"code":"function ey(e){return eE.has(e)}"},{"code":"function K(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],{paymentSourceId:a,currency:s}=r;if(null!=g.A.get(e)){let r=C.lid.DEFAULT;n?r=C.lid.GIFT:t&&(r=C.lid.PREMIUM_TIER_1);let o=X(e,{paymentSourceId:a,purchaseType:r,currency:s});if(null==o){let t=Error(\"Couldn't find price\");throw i&&(0,y.pM)(t,{extra:{paymentSourceId:a},tags:{purchaseType:r.toString(),planId:e,currency:null!=s?s:\"unknown\"}}),t}return o}let o=Error(\"Plan not found\");throw i&&(0,y.pM)(o,{tags:{planId:e,currency:null!=s?s:\"unknown\"},extra:U(M({},r),{isGift:n})}),o}"},{"code":"function eO(e){return ey(e)||eb(e)}"},{"code":"function eb(e){return R.pW.has(e)}"}]