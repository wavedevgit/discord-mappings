[{"code":"function C(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:o,onPressUp:s,onClick:l,isDisabled:u,isPressed:v,preventFocusOnPress:C,shouldCancelOnPointerExit:P,allowTextSelectionOnPress:L,ref:x,...M}=O(e),[j,k]=(0,b.useState)(!1),U=(0,b.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:G,removeAllGlobalListeners:F}=(0,d.A)(),V=(0,f.J)((e,t)=>{let r=U.current;if(u||r.didFirePressStart)return!1;let i=!0;if(r.isTriggeringEvent=!0,a){let n=new A(\"pressstart\",t,e);a(n),i=n.shouldStopPropagation}return n&&n(!0),r.isTriggeringEvent=!1,r.didFirePressStart=!0,k(!0),i}),B=(0,f.J)((e,r,i=!0)=>{let a=U.current;if(!a.didFirePressStart)return!1;a.didFirePressStart=!1,a.isTriggeringEvent=!0;let s=!0;if(o){let t=new A(\"pressend\",r,e);o(t),s=t.shouldStopPropagation}if(n&&n(!1),k(!1),t&&i&&!u){let n=new A(\"press\",r,e);t(n),s&&(s=n.shouldStopPropagation)}return a.isTriggeringEvent=!1,s}),H=(0,f.J)((e,t)=>{let n=U.current;if(u)return!1;if(s){n.isTriggeringEvent=!0;let r=new A(\"pressup\",t,e);return s(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),Y=(0,f.J)(e=>{let t=U.current;if(t.isPressed&&t.target){for(let n of(t.didFirePressStart&&null!=t.pointerType&&B(R(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,F(),L||(0,i.E)(t.target),t.disposables))n();t.disposables=[]}}),W=(0,f.J)(e=>{P&&Y(e)}),K=(0,f.J)(e=>{u||null==l||l(e)}),z=(0,f.J)((e,t)=>{if(!u&&l){let n=new MouseEvent(\"click\",e);(0,r.o1)(n,t),l((0,r.eg)(n))}}),q=(0,b.useMemo)(()=>{let e=U.current,t={onKeyDown(t){if(w(t.nativeEvent,t.currentTarget)&&(0,p.sD)(t.currentTarget,(0,p.wt)(t.nativeEvent))){var r;D((0,p.wt)(t.nativeEvent),t.key)&&t.preventDefault();let i=!0;if(!e.isPressed&&!t.repeat){e.target=t.currentTarget,e.isPressed=!0,e.pointerType=\"keyboard\",i=V(t,\"keyboard\");let r=t.currentTarget,a=t=>{w(t,r)&&!t.repeat&&(0,p.sD)(r,(0,p.wt)(t))&&e.target&&H(R(e.target,t),\"keyboard\")};G((0,_.TW)(t.currentTarget),\"keyup\",(0,h.c)(a,n),!0)}i&&t.stopPropagation(),t.metaKey&&(0,m.cX)()&&(null==(r=e.metaKeyEvents)||r.set(t.key,t.nativeEvent))}else\"Meta\"===t.key&&(e.metaKeyEvents=new Map)},onClick(t){if((!t||(0,p.sD)(t.currentTarget,(0,p.wt)(t.nativeEvent)))&&t&&0===t.button&&!e.isTriggeringEvent&&!g.Fe.isOpening){let n=!0;if(u&&t.preventDefault(),!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(\"virtual\"===e.pointerType||(0,E.Y)(t.nativeEvent))){let e=V(t,\"virtual\"),r=H(t,\"virtual\"),i=B(t,\"virtual\");K(t),n=e&&r&&i}else if(e.isPressed&&\"keyboard\"!==e.pointerType){let r=e.pointerType||t.nativeEvent.pointerType||\"virtual\",i=H(R(t.currentTarget,t),r),a=B(R(t.currentTarget,t),r,!0);n=i&&a,e.isOverTarget=!1,K(t),Y(t)}e.ignoreEmulatedMouseEvents=!1,n&&t.stopPropagation()}}},n=t=>{var n,r,i;if(e.isPressed&&e.target&&w(t,e.target)){D((0,p.wt)(t),t.key)&&t.preventDefault();let n=(0,p.wt)(t),i=(0,p.sD)(e.target,(0,p.wt)(t));B(R(e.target,t),\"keyboard\",i),i&&z(t,e.target),F(),\"Enter\"!==t.key&&N(e.target)&&(0,p.sD)(e.target,n)&&!t[I]&&(t[I]=!0,(0,g.Fe)(e.target,t,!1)),e.isPressed=!1,null==(r=e.metaKeyEvents)||r.delete(t.key)}else if(\"Meta\"===t.key&&(null==(n=e.metaKeyEvents)?void 0:n.size)){let t=e.metaKeyEvents;for(let n of(e.metaKeyEvents=void 0,t.values()))null==(i=e.target)||i.dispatchEvent(new KeyboardEvent(\"keyup\",n))}};if(\"u\">typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!(0,p.sD)(t.currentTarget,(0,p.wt)(t.nativeEvent)))return;if((0,E.P)(t.nativeEvent)){e.pointerType=\"virtual\";return}e.pointerType=t.pointerType;let r=!0;if(!e.isPressed){e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,L||(0,i.M)(e.target),r=V(t,e.pointerType);let o=(0,p.wt)(t.nativeEvent);\"releasePointerCapture\"in o&&o.releasePointerCapture(t.pointerId),G((0,_.TW)(t.currentTarget),\"pointerup\",n,!1),G((0,_.TW)(t.currentTarget),\"pointercancel\",a,!1)}r&&t.stopPropagation()},t.onMouseDown=t=>{if((0,p.sD)(t.currentTarget,(0,p.wt)(t.nativeEvent))&&0===t.button){if(C){let n=(0,r.LE)(t.target);n&&e.disposables.push(n)}t.stopPropagation()}},t.onPointerUp=t=>{(0,p.sD)(t.currentTarget,(0,p.wt)(t.nativeEvent))&&\"virtual\"!==e.pointerType&&(0!==t.button||e.isPressed||H(t,e.pointerType||t.pointerType))},t.onPointerEnter=t=>{t.pointerId===e.activePointerId&&e.target&&!e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!0,V(R(e.target,t),e.pointerType))},t.onPointerLeave=t=>{t.pointerId===e.activePointerId&&e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,B(R(e.target,t),e.pointerType,!1),W(t))};let n=t=>{if(t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target){if((0,p.sD)(e.target,(0,p.wt)(t))&&null!=e.pointerType){let n=!1,r=setTimeout(()=>{e.isPressed&&e.target instanceof HTMLElement&&(n?Y(t):((0,y.e)(e.target),e.target.click()))},80);G(t.currentTarget,\"click\",()=>n=!0,!0),e.disposables.push(()=>clearTimeout(r))}else Y(t);e.isOverTarget=!1}},a=e=>{Y(e)};t.onDragStart=e=>{(0,p.sD)(e.currentTarget,(0,p.wt)(e.nativeEvent))&&Y(e)}}return t},[G,u,C,F,L,Y,W,B,V,H,K,z]);return(0,b.useEffect)(()=>{if(!x)return;let e=(0,_.TW)(x.current);if(!e||!e.head||e.getElementById(S))return;let t=e.createElement(\"style\");t.id=S,t.textContent=`\n@layer {\n  [${T}] {\n    touch-action: pan-x pan-y pinch-zoom;\n  }\n}\n    `.trim(),e.head.prepend(t)},[x]),(0,b.useEffect)(()=>{let e=U.current;return()=>{var t;for(let n of(L||(0,i.E)(null!=(t=e.target)?t:void 0),e.disposables))n();e.disposables=[]}},[L]),{isPressed:v||j,pressProps:(0,c.v)(M,q,{[T]:!0})}}"}]