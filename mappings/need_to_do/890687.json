[{"code":"function e1(e){let{selectedSortMethod:t,selectedFilters:n,numQuestsVisible:i}=e,a=r.useRef(null),s=r.useRef(null);r.useEffect(()=>{E.default.track(W.HAw.QUEST_HOME_SORT_METHOD_CHANGED,{sort_method:t,previous_sort_method:a.current}),a.current=t},[t]),r.useEffect(()=>{var e;let t=n.map(e=>e.filter);E.default.track(W.HAw.QUEST_HOME_FILTERS_CHANGED,{filters:t,previous_filters:null!=(e=s.current)?e:[],num_quests_visible:i}),s.current=t},[n,i])}"},{"code":"e=>{let{quest:t,questContent:n,sourceQuestContent:r}=e,i=eM({quest:t}),a=(0,N.vU)();return()=>{i?(0,G.se)({quest:t},{content:n,ctaContent:C.Cy.CONNECT_CONSOLE_LINK,impressionId:null==a?void 0:a.getId(),sourceQuestContent:r}):(0,G.b6)({quest:t},{content:n,ctaContent:C.Cy.VIEW_CONSOLE_CONNECTIONS_LINK,impressionId:null==a?void 0:a.getId(),sourceQuestContent:r})}}"},{"code":"function eY(e){var t;return null!=(t=(0,c.bG)([w.A],()=>w.A.quests).get(e))?t:null}"},{"code":"function eL(){let{fetching:e,accounts:t}=(0,c.cf)([m.A],()=>({fetching:m.A.isFetching(),accounts:m.A.getAccounts()})),{xboxAccounts:n,playstationAccounts:i,xboxAndPlaystationAccounts:a}=r.useMemo(()=>{let e=t.filter(e=>!1===e.revoked),n=e.filter(e=>e.type===W.fg2.XBOX),r=e.filter(e=>e.type===W.fg2.PLAYSTATION),i=n.concat(r);return{xboxAccounts:n,playstationAccounts:r,xboxAndPlaystationAccounts:i}},[t]);return{fetching:e,xboxAccounts:n,playstationAccounts:i,xboxAndPlaystationAccounts:a}}"},{"code":"function ez(e){let t=(0,V.mq)(e),n=(0,V.k5)(e),r=(0,V.$5)(e),i=(0,V.Y7)(e),a=(0,V.JX)(e),s=(0,c.bG)([g.default],()=>g.default.getCurrentUser()),o=(0,S.TW)(s,K.PremiumTypes.TIER_2);if(null==n)return z.intl.formatToPlainString(z.t.l9uXL8,{decorationName:t});let l=z.intl.formatToPlainString(z.t.o97tNn,{rewardName:t}),u=z.intl.formatToPlainString(z.t.PkyRZo,{rewardName:t,expirationDate:r}),d=z.intl.formatToPlainString(z.t.ie4YK0,{rewardName:t,duration:n}),f=z.intl.formatToPlainString(z.t.yCpc0U,{duration:n,rewardName:t}),p=o?l:d,_=o?u:f,h=i?p:_;return a?h:z.intl.formatToPlainString(z.t.tTlItm,{duration:n,decorationName:t})}"},{"code":"function eW(e){let{mode:t,questContent:n,sourceQuestContent:i,questId:a}=e,s=r.useRef(null);r.useEffect(()=>{null!=a&&s.current!==t&&((0,C.Mm)({mode:t,prevMode:s.current,questContent:n,questId:a,sourceQuestContent:i}),s.current=t)},[a,n,t,i]),r.useEffect(()=>{if(null!=a)return()=>{(0,C.Mm)({mode:null,prevMode:s.current,questContent:n,questId:a,sourceQuestContent:i})}},[a,n,i])}"},{"code":"function eN(e){return r.useMemo(()=>(0,F.JC)(e),[e])}"},{"code":"function eG(e){var t,n,r;let i=(null==(t=e.userStatus)?void 0:t.enrolledAt)!=null,a=(null==(n=e.userStatus)?void 0:n.completedAt)!=null,s=(null==(r=e.userStatus)?void 0:r.claimedAt)!=null,o=eC(e).percentComplete>0;return s?4:a?3:o&&i?2:1*!!i}"},{"code":"function eg(){let e=r.useRef(!1),t=(0,c.yK)([w.A],()=>Array.from(w.A.claimedQuests.values())),n=(0,c.bG)([w.A],()=>w.A.isFetchingClaimedQuests);return r.useEffect(()=>{n||e.current||(e.current=!0,(0,T.HA)())},[n]),{claimedQuests:t,isFetchingClaimedQuests:n}}"},{"code":"function ey(e){return(0,c.bG)([w.A],()=>null!=e&&w.A.isQuestExpired(e.id),[e])}"},{"code":"function e$(){return r.useMemo(()=>Y.pc.map(e=>{let[t,n]=e;return{heading:(0,M.fx)(t),options:n}}),[])}"},{"code":"function eV(e){let t=(0,c.bG)([_.default],()=>_.default.locale),{percentComplete:n}=eC(e),r=eN(e),i=null!=r?r.percentComplete:n,a=100*i,s=null!=r?\"\".concat(null==r?void 0:r.progress,\"/\").concat(null==r?void 0:r.target):(0,A.l9)(t,i,{roundingMode:\"floor\"});return{completedRatio:i,percentComplete:a,completedRatioDisplay:s}}"},{"code":"function em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ec,{quests:n,excludedQuests:r,isFetchingCurrentQuests:i,hasFetched:a}=X({fetchPolicy:\"cache-and-network\",callerSource:\"use_filtered_quests\"}),s=new Map(n.map(e=>[e.id,e])),o=ef(n,t),l=ep(n),c=[],u=[];for(let t of c=\"all\"===e?o:l){let e=s.get(t);null!=e&&u.push(e)}return{quests:u,excludedQuests:r,isFetchingCurrentQuests:i,hasFetched:a}}"},{"code":"function eB(e,t){let[n,i]=eF(e.id),o=r.useMemo(()=>(0,G.UR)(e),[e]),l=o.includes(Y.fO.DESKTOP),c=o.includes(Y.fO.CONSOLE),u=ev(e),d=eA(e),f=r.useMemo(()=>(0,a.YW)(t).with({percentComplete:0},()=>null).with({taskType:s.n.PLAY_ON_DESKTOP},()=>Y.fO.DESKTOP).with({taskType:s.n.PLAY_ON_DESKTOP_V2},()=>Y.fO.DESKTOP).with({taskType:s.n.PLAY_ACTIVITY},()=>Y.fO.DESKTOP).with({taskType:s.n.WATCH_VIDEO},()=>Y.fO.DESKTOP).with({taskType:s.n.WATCH_VIDEO_ON_MOBILE},()=>Y.fO.DESKTOP).with({taskType:s.n.STREAM_ON_DESKTOP},()=>Y.fO.DESKTOP).with({taskType:s.n.PLAY_ON_XBOX},()=>Y.fO.CONSOLE).with({taskType:s.n.PLAY_ON_PLAYSTATION},()=>Y.fO.CONSOLE).with({taskType:s.n.ACHIEVEMENT_IN_GAME},()=>Y.fO.DESKTOP).with({taskType:s.n.ACHIEVEMENT_IN_ACTIVITY},()=>Y.fO.DESKTOP).exhaustive(),[t]),p=u?Y.fO.DESKTOP:d?Y.fO.CONSOLE:null;return[r.useMemo(()=>(0,a.YW)({lastPlatformProgress:f,currentProgressingPlatform:p,selectedPlatform:n}).with({currentProgressingPlatform:Y.fO.CONSOLE},()=>R.X0.CONSOLE).with({currentProgressingPlatform:Y.fO.DESKTOP},()=>R.X0.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:Y.fO.CONSOLE},()=>R.X0.CONSOLE).with({currentProgressingPlatform:null,lastPlatformProgress:Y.fO.DESKTOP},()=>R.X0.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:Y.fO.CONSOLE},()=>R.X0.CONSOLE).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:Y.fO.DESKTOP},()=>R.X0.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:null},()=>c&&l?R.X0.SELECT:c?R.X0.CONSOLE:R.X0.DESKTOP).exhaustive(),[c,l,f,p,n]),o,i]}"},{"code":"e=>{let{quest:t}=e,{xboxAndPlaystationAccounts:n}=eL(),r=eS(t),i=0===n.length;return(0,F.g5)(t)&&i&&!r}"},{"code":"function eO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dateStyle:\"short\"},n=(0,c.bG)([_.default],()=>_.default.locale);return r.useMemo(()=>null==e?\"\":new Date(e).toLocaleDateString(n,t),[e,t,n])}"},{"code":"()=>{let{xboxAccounts:e,playstationAccounts:t}=eL(),n=e.length>0,r=t.length>0,i=n&&!r||!n&&r,a=b.A.getArticleURL(W.MVz.QUEST_HOW_TO_PLAYSTATION),s=b.A.getArticleURL(W.MVz.QUEST_HOW_TO_XBOX),o=z.intl.format(z.t.beN4DG,{psHelpdeskArticle:a,xboxHelpdeskArticle:s}),l=z.intl.format(z.t.HVS7nh,{helpdeskArticle:r?a:s});return{message:i?l:o,xboxURL:s,playstationURL:a}}"},{"code":"function eS(e){let t=ev(e),n=eA(e),r=eI(e);return t||n||r}"},{"code":"e=>{let{questId:t,preview:n,beforeRequest:i,afterRequest:a}=e,[s,l]=r.useState([]),[u,d]=r.useState(!1),f=(0,c.bG)([m.A],()=>m.A.getAccounts());return r.useEffect(()=>{l(e=>e.filter(e=>e.type!==o._.EXPIRED_CREDENTIAL))},[f]),{startConsoleQuest:r.useCallback(async()=>{if(u)return;null==i||i(),d(!0);let e=null;try{e=await (0,T.vD)(t,n),l(e.errorHints)}finally{var r;d(!1),null==a||a(null!=(r=null==e?void 0:e.errorHints)?r:[])}},[u,i,a,n,t]),startingConsoleQuest:u,errorHints:s}}"},{"code":"function e0(){return r.useMemo(()=>Object.keys(Y.kL).map(e=>({label:(0,M.Js)(Y.kL[e]),value:Y.kL[e]})),[])}"},{"code":"function eD(e){let t=(0,c.bG)([w.A],()=>w.A.quests),n=eP(Array.from(t.values())),i=r.useMemo(()=>{let n=(0,B.$e)(t,Y.zO);return(0,U.BM)(n,e)},[e,t,n]);return ey(i)?null:i}"},{"code":"function eb(e,t,n){var r;let i=(0,c.bG)([h.A],()=>{var e;return null!=(e=h.A.getChannel(null==t?void 0:t.channelId))?e:null}),a=(0,c.bG)([w.A],()=>null!=w.A.questEnrollmentBlockedUntil,[]),s=(0,c.bG)([g.default],()=>{var e;return null==(e=g.default.getCurrentUser())?void 0:e.id})===n,o=(0,c.bG)([w.A],()=>null!=e&&w.A.isQuestExpired(e.id),[e]);if(null==e||a||o||s)return!1;let l=(null==(r=e.userStatus)?void 0:r.claimedAt)!=null,u=(0,B.Ll)(t,i);return!l||!!u}"},{"code":"function e6(){let{enabled:e}=P.XM.useConfig({location:Y.rE.QUEST_HOME_DESKTOP}),[t,n]=r.useState(e),[i,a]=r.useState(e),[s,o]=r.useState(!1),[l,u]=r.useState(!1),{isFetching:d,takeoverConfig:f}=(0,c.cf)([w.A],()=>({isFetching:w.A.isFetchingQuestHomeTakeover(),takeoverConfig:w.A.getQuestHomeTakeoverConfig()})),p=r.useMemo(()=>{if(!e||null==f)return null;let t=new Date,n=new Date(f.startsAt),r=new Date(f.expiresAt);return t<n||t>r?null:f},[e,f]);return r.useEffect(()=>{e&&t();async function t(){try{await (0,T.Tb)()}catch(e){a(!1),o(!0)}finally{n(!1)}}},[e]),r.useEffect(()=>{!async function(){try{if(null==f)return;await Promise.all([(0,O.NN)(f.assetHeroImage.url),(0,O.NN)(f.assetSponsorImage.url)])}catch(e){u(!0)}finally{a(!1)}}()},[f]),{takeover:s||l?null:p,isLoading:t||d||i}}"},{"code":"function eK(e,t){let n=(0,c.bG)([w.A],()=>w.A.getQuest(e),[e]),i=(0,u.Ay)();return r.useMemo(()=>{if(null==n)return null;let e=null!=t?t:(0,l.Mw)(i)?W.NJ8.DARK:W.NJ8.LIGHT;return(0,j.tW)(n,j.fY.COSPONSOR_LOGO_TYPE,e)},[i,t,n])}"},{"code":"function eH(e){var t,n;let r=eN(e),i=eC(e),[a]=eB(e,i),o=ey(e),l=(null==(t=e.userStatus)?void 0:t.enrolledAt)!=null,c=(null==(n=e.userStatus)?void 0:n.completedAt)!=null,u=null==r,d=s.o.DESKTOP.has(i.taskType)&&i.percentComplete>0,f=0===i.percentComplete,p=l&&!c&&!o&&u&&(d||f&&a===R.X0.DESKTOP),_=(0,I.isWeb)()&&p&&!(0,G.W1)(e),h=(0,I.isMac)()&&i.taskType===s.n.STREAM_ON_DESKTOP&&p,m=[];return h&&m.push(z.intl.string(z.t.MFGxFM)),_&&m.push(z.intl.string(z.t.BV6xDm)),m}"},{"code":"function eR(){let{quests:e,isFetchingCurrentQuests:t}=X({fetchPolicy:\"cache-or-network\",callerSource:\"settings_badge\"}),n=eE();return r.useMemo(()=>{let r=[];if(t||0===e.length)return r;for(let t of e){var i;if(!(0,k.ZA)(t,R.uF.GIFT_INVENTORY_SETTINGS_BADGE)||null!=(i=n.get(t.id))&&i)continue;if((null==t?void 0:t.userStatus)==null){r.push(t);continue}let e=null!=t.userStatus.claimedAt,a=(0,k.gO)(t.userStatus,R.uF.GIFT_INVENTORY_SETTINGS_BADGE);if(!e&&!a){r.push(t);continue}}return r},[e,n,t])}"},{"code":"e=>{let t=r.useCallback(()=>(0,F.Yh)(e),[e]),[n,i]=r.useState(t()),a=r.useCallback(()=>i(t()),[t]),s=eS(e);return r.useEffect(()=>{var t,n,r;if((null==(t=e.userStatus)?void 0:t.enrolledAt)==null||(null==(n=e.userStatus)?void 0:n.completedAt)!=null||(null==(r=e.userStatus)?void 0:r.claimedAt)!=null||!s)return void a();let i=window.setInterval(()=>{a()},y.A.Millis.SECOND*eT);return()=>{clearInterval(i),a()}},[e,s,a]),n}"},{"code":"function ex(e){return r.useMemo(()=>({handleComplete:()=>(0,T.Yb)(e),handleProgress:t=>(0,T.Yb)(e,t),handleResetStatusClick:()=>(0,T.UZ)(e),handleResetDismissibilityClick:()=>(0,T.Gt)(e),handleOverrideDeliveryClick:()=>(0,T.d6)(e)}),[e])}"},{"code":"function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchPolicy:\"cache-only\",callerSource:\"unknown\"},[t,n]=r.useState(!1),i=(0,c.yK)([w.A],()=>[...w.A.quests.values()]),a=(0,c.yK)([w.A],()=>[...w.A.excludedQuests.values()]),{isFetchingCurrentQuests:s,lastFetchedCurrentQuests:o}=(0,c.cf)([w.A],()=>({isFetchingCurrentQuests:w.A.isFetchingCurrentQuests,lastFetchedCurrentQuests:w.A.lastFetchedCurrentQuests})),l=(0,x.s)({location:Y.rE.USE_QUESTS}),u=P.Bw.useConfig({location:Y.rE.USE_QUESTS});return r.useEffect(()=>{if(\"cache-only\"!==e.fetchPolicy&&(\"cache-and-network\"===e.fetchPolicy||\"cache-or-network\"===e.fetchPolicy&&0===o)&&l&&!t&&!s&&!(0,v.I)()){if(n(!0),(0,T.N1)(),u.enabled&&\"focused\"!==f.A.getState())return;let{enableNewRequestBehavior:t}=D.A.getConfig({location:\"QuestHookUseQuests\"});if(!t)(0,T.r8)(R.yW.DESKTOP_ACCOUNT_PANEL_AREA,\"use_quests_\".concat(e.callerSource))}},[e.fetchPolicy,l,t,s,o,e.callerSource,u.enabled]),{quests:i,excludedQuests:a,isFetchingCurrentQuests:s,hasFetched:t}}"},{"code":"e=>{let t=!1,n=r.useMemo(()=>{var e;return(null==(e=g.default.getCurrentUser())?void 0:e.isStaff())===!0},[]);return t||n||e.preview}"},{"code":"function eP(e){let t=r.useMemo(()=>{let t=new Set;for(let n of e){let e=(0,F.F9)(n);null!=e&&t.add(e)}return Array.from(t)},[e]);return(0,p.A)(t)}"},{"code":"()=>{let e=(0,L.U)({location:Y.rE.QUEST_PREVIEW_TOOL_2}),t=eZ();return e&&t}"},{"code":"()=>{let e=(0,c.yK)([w.A],()=>[...w.A.quests.values()]);return r.useMemo(()=>e.filter(e=>e.preview),[e])}"},{"code":"e=>{var t;let n=(null==e?void 0:e.userStatus)!=null&&(0,k.gO)(e.userStatus,R.uF.ACTIVITY_PANEL),r=ey(null!=e?e:null),i=(null==e||null==(t=e.userStatus)?void 0:t.claimedAt)!=null,a=(0,c.bG)([w.A],()=>null!=w.A.questEnrollmentBlockedUntil,[]);return!n&&!r&&!i&&!a}"},{"code":"function eq(e){let t=(0,F.TP)(e);return{launchInGameActivity:(0,d.A)({applicationId:t})}}"}]