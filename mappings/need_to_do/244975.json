[{"code":"function D(e){var t,n,a;let{title:R,type:D,guildBoostProps:x,analyticsSource:L,analyticsLocation:j,body:M,context:k,glowUp:U,modalClassName:G,modalContentClassName:V,artContainerClassName:F,artClassName:B,headerClassName:H,bodyClassName:Y,transitionState:W,onClose:K,onSubscribeClick:z,onSubscribeFinish:q,onSecondaryClick:Z,secondaryCTA:X,secondaryCTAClassName:Q,subscribeButtonText:J,showNewBadge:$=!1,showBetaBadge:ee=!1,enableArtBoxShadow:et=!0,subscriptionTier:en=I.pe.TIER_2,isLoading:er=!1,hideBackButton:ei,backButtonText:ea,showEnhancedUpsell:es,useSubscribeButtonGradient:eo,subscribeButtonClassname:el,hidePremiumOfferUpsell:ec,children:eu,LeadingComponent:ed,backgroundElements:ef,smallText:ep=!1,footerClassName:e_}=e,eh=w(e,[\"title\",\"type\",\"guildBoostProps\",\"analyticsSource\",\"analyticsLocation\",\"body\",\"context\",\"glowUp\",\"modalClassName\",\"modalContentClassName\",\"artContainerClassName\",\"artClassName\",\"headerClassName\",\"bodyClassName\",\"transitionState\",\"onClose\",\"onSubscribeClick\",\"onSubscribeFinish\",\"onSecondaryClick\",\"secondaryCTA\",\"secondaryCTAClassName\",\"subscribeButtonText\",\"showNewBadge\",\"showBetaBadge\",\"enableArtBoxShadow\",\"subscriptionTier\",\"isLoading\",\"hideBackButton\",\"backButtonText\",\"showEnhancedUpsell\",\"useSubscribeButtonGradient\",\"subscribeButtonClassname\",\"hidePremiumOfferUpsell\",\"children\",\"LeadingComponent\",\"backgroundElements\",\"smallText\",\"footerClassName\"]),em=null!=x,eg=(0,y.V)(),eE=(0,E.O)(),ey=!ec&&((null==eg||null==(n=eg.subscription_trial)?void 0:n.sku_id)===en||(0,O.U9)(eE,en))&&!em,{analyticsLocations:eb}=(0,f.Ay)(d.A.PREMIUM_UPSELL_MODAL),eO={analyticsLocation:j,analyticsLocations:eb,analyticsSource:L,guildBoostProps:x,type:D},ev=i.useRef(eO);i.useEffect(()=>{ev.current=eO}),i.useEffect(()=>{if(er)return;let{analyticsLocation:e,analyticsLocations:t,analyticsSource:n,guildBoostProps:r,type:i}=ev.current;em?h.default.track(S.HAw.PREMIUM_GUILD_UPSELL_VIEWED,{type:\"\".concat(i,\" - Tier \").concat(null==r?void 0:r.boostedGuildTier),guild_id:null==r?void 0:r.guild.id,channel_id:null==r?void 0:r.channelId,location:e,location_stack:t}):h.default.track(S.HAw.PREMIUM_UPSELL_VIEWED,{type:i,source:n,location:e,location_stack:t,sku_id:(0,m.mH)(en)})},[em,en,er]);let eA=(0,o.bG)([g.A],()=>g.A.affinities),eI=eA.length>1&&P(D),eS=(0,o.bG)([g.A],()=>g.A.hasFetched);i.useEffect(()=>{eS||u.xG()},[eS]);let eT=()=>{if(em)return(0,r.jsx)(_.A,{analyticsLocation:j,guild:x.guild,onClose:K});let e=es?T.intl.string(T.t.pj0XBN):void 0;if(ey)if(null!=eg){var t,n;e=(0,m.FY)({intervalType:null==eg||null==(t=eg.subscription_trial)?void 0:t.interval,intervalCount:null==eg||null==(n=eg.subscription_trial)?void 0:n.interval_count})}else null!=eE&&(e=T.intl.formatToPlainString(T.t.bkQ4bH,{percent:eE.discount.amount}));return(0,r.jsx)(b.A,{className:el,showGradient:es||eo,premiumModalAnalyticsLocation:j,subscriptionTier:en,size:l.$n.Sizes.SMALL,color:es||eo?l.$n.Colors.CUSTOM:l.$n.Colors.GREEN,onClick:()=>{null==z||z(),K()},onSubscribeModalClose:q,textOptions:{textOverride:null!=J?J:e}})},eC=et?s()(C.JS,C.OV,F):s()(C.JS,F),eN=null;return null!=eh.artURL?eN=(0,r.jsx)(\"img\",{className:s()(B,C.Qw),alt:\"\",src:eh.artURL}):null!=eh.artElement&&(eN=eh.artElement),(0,r.jsxs)(c.EOs,{\"data-migration-pending\":!0,className:s()(C.zr,!ey&&G),\"aria-label\":R,transitionState:W,parentComponent:\"PremiumUpsellModal\",children:[null!=eN&&(0,r.jsxs)(\"div\",{className:eC,children:[eN,$?(0,r.jsx)(\"img\",{className:C.CI,alt:\"\",src:N}):null]}),(0,r.jsx)(c.$mQ,{\"data-migration-pending\":!0,scrollbarType:\"none\",className:s()(es?C.es:C.Qs,!ey&&V),children:er?(0,r.jsx)(c.y$y,{}):ey?(0,r.jsx)(v.Ay,{onClose:K,type:D,subscriptionTier:null!=(t=null==eg||null==(a=eg.subscription_trial)?void 0:a.sku_id)?t:I.pe.TIER_2,headingText:R,context:k,analyticsLocationObject:j,discountOffer:eE,trialOffer:eg,children:U}):(0,r.jsxs)(\"div\",{className:C.hQ,children:[ed,(0,r.jsxs)(\"div\",{className:C.kQ,children:[(0,r.jsxs)(c.Heading,{className:s()(C.wx,{[C.k]:es},H),variant:\"heading-xl/bold\",children:[R,ee?(0,r.jsx)(p.A,{className:C.TN}):null]}),eI?(0,r.jsx)(A.A,{affinities:eA}):void 0,eu,(0,r.jsx)(c.Text,{variant:ep?\"text-sm/normal\":\"text-md/normal\",className:s()(Y,C.uI),children:M})]})]})}),(0,r.jsxs)(c.jlY,{\"data-migration-pending\":!0,className:s()(C.qr,e_,{[C.I$]:es}),children:[(0,r.jsxs)(\"div\",{className:s()(C.E3,{[C.Q_]:es}),children:[null!=X?(0,r.jsx)(l.$n,{\"data-migration-pending\":!0,className:s()(C.Dc,Q,{[C.HZ]:es}),onClick:Z,size:l.$n.Sizes.SMALL,color:es?l.$n.Colors.CUSTOM:l.$n.Colors.PRIMARY,look:l.$n.Looks.LINK,children:X}):null,eT()]}),!ei&&!es&&(0,r.jsx)(c.Button,{variant:\"secondary\",size:\"sm\",text:null!=ea?ea:T.intl.string(T.t[\"13/7kX\"]),onClick:K})]}),es?(0,r.jsx)(c.s_y,{\"data-migration-pending\":!0,onClick:K,className:C.b}):null,ef]})}"}]