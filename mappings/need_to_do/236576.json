[{"code":"function o(e){let{apply:t,onChange:n}=e;return e.apply=n=>{t(n),i.Ot.isValid(e,e.selection)&&(e.lastGoodSelection=e.selection)},e.onChange=()=>{if(i.Ot.isValid(e,e.selection)||(e.selection=s(e)),null!=e.selection){let t,n,[o,s]=i.ZF.edges(e.selection),l=!1;for(;null!=o&&null!=(t=i.VW.getParentVoid(e,o))&&!a.XR.includes(t[0].type);)o=i.VW.before(e,o,{unit:\"offset\"}),l=!0;for(;null!=s&&null!=(n=i.VW.getParentVoid(e,s))&&!a.XR.includes(n[0].type);)s=i.VW.after(e,s,{unit:\"offset\"}),l=!0;l&&null!=o&&null!=s&&(i.ZF.isForward(e.selection)?r.b.select(e,{anchor:o,focus:s}):r.b.select(e,{anchor:s,focus:o}))}n()},e}"}]