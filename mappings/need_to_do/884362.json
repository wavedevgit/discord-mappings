[{"code":"function u(e){let{id:t,defaultFocused:n,isEnabled:u,scrollToStart:d,scrollToEnd:f,onNavigatePreviousAtStart:p,onNavigateNextAtEnd:_,setFocus:h,setFocusOnList:m,preserveFocusPosition:g=!0,useVirtualFocus:E=!1,wrap:y=!1,orientation:b=o.Gl.VERTICAL,disableClickOnSpace:O=!1}=e,v=r.useRef(n?(0,l.t$)(t,n):null),A=r.useRef(!1),I=r.useRef(null),S=r.useRef(u);function T(e){var t;return(null!=(t=I.current)?t:document).querySelector(e)}function C(e){var t;null==(t=T(e))||t.focus()}r.useLayoutEffect(()=>{S.current=u},[u]);let N=r.useCallback((e,t)=>{S.current&&(null!=h?h:C)(e,t)},[h]),R=r.useCallback(e=>{S.current&&(null!=m?m:C)(e)},[m]),w=r.useCallback(e=>{if(v.current=e,null==e)return void(0,a.T)(t,null,g);let n=(0,l.Mz)(e),r=(0,l.HP)(e);N(n,r),(0,a.T)(t,r,g)},[t,g,N]),P=r.useMemo(()=>(0,i.C)({getFocusableElements:()=>c(t,I),getActiveElement(){var e;return null==(e=I.current)?void 0:e.ownerDocument.activeElement},scrollToStart:d,scrollToEnd:f}),[t,d,f]),[D,x]=r.useState(!1),L=r.useRef(D);r.useLayoutEffect(()=>{L.current=D},[D]),r.useLayoutEffect(()=>{let e=I.current;if(null!=e&&u)return e.addEventListener(\"focusin\",n),e.addEventListener(\"focusout\",r),e.addEventListener(\"focus\",i),e.addEventListener(\"scroll\",a,{passive:!0}),()=>{e.removeEventListener(\"focusin\",n),e.removeEventListener(\"focusout\",r),e.removeEventListener(\"focus\",i),e.removeEventListener(\"scroll\",a)};function n(){x(!0)}function r(e){e.currentTarget.contains(e.relatedTarget)||(x(!1),requestAnimationFrame(()=>{let e=v.current;null!==e&&null==T((0,l.Mz)(e))&&R((0,l.Mz)(t,l.KE))}))}async function i(){let e=I.current;if(L.current||null==e)return;let n=v.current;if(g&&null!==n){let t=(0,l.Mz)(n),r=T(t);if(null!=r){if(!0!==A.current)return N(t,(0,l.HP)(n));else if(await (0,s.UN)(e,r))return N(t,(0,l.HP)(n))}}let r=await (0,s.$b)(e,c(t,I));null!==r&&w(r)}function a(){A.current=!0}},[u,t,g,N,m,R,w]);let j=r.useMemo(()=>({wrap:y,get from(){if(!E)return;let t=v.current;if(null!=t){var e;return null!=(e=T((0,l.Mz)(t)))?e:void 0}return}}),[E,y]),M=r.useCallback(async()=>{let e=await P.getNextFocusableElement(j),t=null==e?void 0:e.getAttribute(l.eM);null!=t?w(t):null==e&&null!=_&&_()},[P,j,_,w]),k=r.useCallback(async()=>{let e=await P.getPreviousFocusableElement(j),t=null==e?void 0:e.getAttribute(l.eM);null!=t?w(t):null==e&&null!=p&&p()},[P,j,p,w]),U=r.useCallback(e=>{if(!S.current||!E&&!L.current)return;let n=b===o.Gl.HORIZONTAL?o.D$.RIGHT:o.D$.DOWN,r=b===o.Gl.HORIZONTAL?o.D$.LEFT:o.D$.UP;switch(e.key){case n:e.stopPropagation(),e.preventDefault(),M();return;case r:e.stopPropagation(),e.preventDefault(),k();return;case o.D$.HOME:e.stopPropagation(),e.preventDefault(),d().then(()=>{var e;let n=null==(e=c(t,I)[0])?void 0:e.getAttribute(l.eM);null!=n&&w(n)});return;case o.D$.END:e.stopPropagation(),e.preventDefault(),f().then(()=>{var e;let n=c(t,I),r=null==(e=n[n.length-1])?void 0:e.getAttribute(l.eM);null!=r&&w(r)});return;case o.D$.SPACE:case o.D$.ENTER:{if(e.key===o.D$.SPACE&&O||e.repeat)return;let t=v.current;if(null!=t){var i;let n=T((0,l.Mz)(t)),r=null!=(i=null==n?void 0:n.ownerDocument)?i:document,a=E||n===r.activeElement;null!=n&&a&&(e.preventDefault(),e.stopPropagation(),null==n||n.click())}}}},[M,k,t,b,f,d,w,E]),G=r.useCallback(e=>{v.current=null!=e?(0,l.t$)(t,e):null,(0,a.T)(t,e,g)},[t,g]);return r.useMemo(()=>({id:t,containerProps:{onKeyDown:U,ref:I,tabIndex:D&&g?-1:0},orientation:b,setFocus:G,async focusLastVisibleItem(){var e;let n=await (0,s.FT)(null!=(e=I.current)?e:document.body,c(t,I));null!==n&&w(n)},async focusFirstVisibleItem(){var e;let n=await (0,s.$b)(null!=(e=I.current)?e:document.body,c(t,I));null!==n&&w(n)},focusPreviousItem:k,focusNextItem:M,focusedItemId(){let e=v.current;return e?(0,l.HP)(e):null}}),[t,U,b,D,g,G,k,M,w])}"}]