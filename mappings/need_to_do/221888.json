[{"code":"function L(e){let{channelId:t,guildId:a,participant:s,className:d,compact:m=!1,disableInteraction:y=!1,maxVisibleUsers:S=3}=e,T=i.useRef(null),A=(0,h.Z)(),[w,L]=i.useState(!1),j=i.useRef(new u.sW(P,()=>L(!1))),M=(0,c.Wu)([g.Z,E.default],()=>{if(s.type===O.fO.STREAM){let e=g.Z.getViewerIds(s.id);return e.length>0?e.map(e=>E.default.getUser(e)).filter(b.lm):x}return s.type===O.fO.ACTIVITY&&s.participants.length>0?Array.from(s.participants).map(e=>E.default.getUser(e.userId)).filter(b.lm):x},[s]);i.useEffect(()=>{A&&(j.current.cancel(),L(!1))},[A]);let k=i.useCallback(()=>{j.current.cancel(),L(!0)},[]),U=i.useCallback(()=>{j.current.delay()},[]),G=i.useCallback((e,t)=>{k(),(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e(\"79695\"),n.e(\"69220\"),n.e(\"26465\")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,N(C({},n),{user:t}))},{onClose:U})},[U,k]);if(0===M.length)return null;if(m)return(0,r.jsx)(D,{maxVisibleUsers:S,users:M,guildId:a,channelId:t,className:d,participantType:s.type});let Z=l()(M).take(S).map(e=>(0,r.jsx)(f.qEK,{src:e.getAvatarURL(a,24),\"aria-label\":e.username,size:f.EFr.SIZE_24,className:I.viewer},e.id)).value();return M.length>S&&(Z[Z.length-1]=(0,r.jsxs)(\"div\",{className:I.overflow,children:[\"+\",M.length-S+1]},\"overflow\")),(0,r.jsx)(_.Z,{section:v.jXE.STREAM_VIEWER_POPOUT,children:(0,r.jsx)(\"div\",{onMouseEnter:k,onMouseLeave:U,children:(0,r.jsx)(f.yRy,{targetElementRef:T,renderPopout:()=>(0,r.jsx)(R,{participantType:s.type,handleUserContextMenu:G,guildId:a,channelId:t,users:M,disableInteraction:y}),shouldShow:w&&!A,position:\"top\",children:()=>(0,r.jsx)(\"div\",{ref:T,className:o()(I.viewers,d),children:Z})})})})}"}]