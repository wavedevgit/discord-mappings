[{"code":"async function q(){if(!E.Z.isFetchingClaimedQuests){a.Z.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_BEGIN\"});try{let e=(await i.tn.get({url:T.ANM.QUESTS_CLAIMED_QUESTS,rejectWithError:!1})).body.quests.map(e=>(0,S.hQ)(e));a.Z.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_SUCCESS\",quests:e})}catch(e){a.Z.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_FAILURE\",error:new o.Z(e)})}}}"},{"code":"function K(e){a.Z.dispatch({type:\"QUESTS_DELIVERY_OVERRIDE\",questId:e})}"},{"code":"async function eo(){if(E.Z.isFetchingQuestHomeTakeover())return;let e=E.Z.getLastFetchedQuestHomeTakeover();if(!(null!=e&&Date.now()-e<=ea)){a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_BEGIN\"});try{let e=[b.rO.QUEST_HOME_BANNER],t=await i.tn.get({url:T.ANM.QUEST_PLACEMENT,query:{placements:e,platform:b.QN.WEB},rejectWithError:!1});a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_SUCCESS\",takeover:(0,S.t6)(t.body)})}catch(e){throw a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_FAILURE\",error:new o.Z(e)}),e}}}"},{"code":"async function ei(e){if(!E.Z.isFetchingQuestPreview(e)){a.Z.dispatch({type:\"QUESTS_FETCH_PREVIEW_BEGIN\",questId:e});try{let t=await i.tn.get({url:T.ANM.QUEST_PREVIEW(e),rejectWithError:!1});a.Z.dispatch({type:\"QUESTS_FETCH_PREVIEW_SUCCESS\",questId:e,quest:(0,S.WP)(t.body)})}catch(t){throw a.Z.dispatch({type:\"QUESTS_FETCH_PREVIEW_FAILURE\",error:new o.Z(t),questId:e}),t}}}"},{"code":"function z(e,t){a.Z.dispatch({type:\"QUESTS_SELECT_TASK_PLATFORM\",questId:e,platform:t})}"},{"code":"async function W(e){try{a.Z.dispatch({type:\"QUESTS_DOCK_RESET_SOFT_DISMISSAL\"});let t=await i.tn.del({url:T.ANM.QUESTS_PREVIEW_DISMISSIBILITY(e),body:{},rejectWithError:!1});a.Z.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,S.U3)(t.body)})}catch(t){a.Z.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new o.Z(t),questId:e})}}"},{"code":"async function H(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{let n=await i.tn.post({url:T.ANM.QUESTS_PREVIEW_COMPLETE(e),body:{percent:t},rejectWithError:!1});a.Z.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,S.U3)(n.body)})}catch(t){a.Z.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new o.Z(t),questId:e})}}"},{"code":"async function ee(e,t){a.Z.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_BEGIN\",content:t});try{let n=await (0,l.Gg)(),r=e.join(\",\"),o=await i.tn.get({url:T.ANM.QUEST_EARNED_DECISION(r,t,null==n?void 0:n.uuid),rejectWithError:!1}),s=o.body.quests,c=new Map;if(null!=s)for(let[e,t]of Object.entries(s))(0,S.Qe)(t)&&c.set(e,(0,S.WP)(t));let u=o.body.metadata_raw;return a.Z.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_SUCCESS\",quests:c,metadataRaw:u,content:t}),{quests:c,metadataRaw:u}}catch(e){a.Z.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_FAILURE\",error:new o.Z(e),content:t})}}"},{"code":"async function et(e,t){var n;await _.Z.post({url:T.ANM.QUESTS_VIDEO_PROGRESS(e),body:{timestamp:t},trackedActionData:{event:r.NetworkActionNames.QUEST_VIDEO_PROGRESS,properties:{quest_id:e,timestamp_sec:t.toString(),stack_trace:null!=(n=Error().stack)?n:\"\"}},rejectWithError:!1})}"},{"code":"async function Y(e){try{let t=await i.tn.del({url:T.ANM.QUESTS_PREVIEW_STATUS(e),body:{},rejectWithError:!1});a.Z.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,S.U3)(t.body)})}catch(t){a.Z.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new o.Z(t),questId:e})}}"},{"code":"async function er(e){let t=await i.tn.get({url:T.ANM.QUEST(e),rejectWithError:!1});return(0,S.q6)(t.body)}"},{"code":"async function L(){await i.tn.del({url:T.ANM.QUESTS_RESET_RECENT_QUEST_COMPLETIONS,rejectWithError:!1})}"},{"code":"function $(e,t){a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_SUCCESS\",quest:void 0,placement:e,fetchedAt:Date.now(),responseTtlSeconds:t/1e3})}"},{"code":"async function en(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,O.fh)(e,O.eC.VIDEO_PLAYER_TRANSCRIPT,void 0,t);if(null==n)return void y.ZP.getState().setTranscriptAsset({questId:e.id,fetchStatus:y.iF.FAILURE});y.ZP.getState().setTranscriptAsset({questId:e.id,fetchStatus:y.iF.FETCHING});try{let t=await i.tn.get({url:n.url,rejectWithError:!0});y.ZP.getState().setTranscriptAsset({questId:e.id,fetchStatus:y.iF.SUCCESS,text:t.text,url:n.url})}catch(t){y.ZP.getState().setTranscriptAsset({questId:e.id,fetchStatus:y.iF.FAILURE})}}"},{"code":"function X(e){a.Z.dispatch({type:\"QUESTS_RESET_OPTIMISTIC_PROGRESS\",questId:e})}"},{"code":"function Q(e,t,n){a.Z.dispatch({type:\"QUESTS_UPDATE_OPTIMISTIC_PROGRESS\",questId:e,taskEventName:t,progress:n})}"},{"code":"async function J(e,t){var n,r,c,d,p,_,h,E;let y=Date.now();g.Z.recordQuestRequestAttempt(\"/quests/decision\",t,e),a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_BEGIN\",placement:e});try{let o=await (0,l.Gg)(),E=await (0,s.Gy)(),O=(await i.tn.get({url:T.ANM.QUEST_FETCH_QUEST_TO_DELIVER(e,null==o?void 0:o.uuid,E.uuid),rejectWithError:!1})).body,v=O.quest,I=null!=v?(0,S.q6)(v):void 0;if(a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_SUCCESS\",quest:I,adDecisionData:{ad_id:null==(n=O.ad_identifiers)?void 0:n.ad_id,adset_id:null==(r=O.ad_identifiers)?void 0:r.adset_id,ad_set_id:null==(c=O.ad_identifiers)?void 0:c.ad_set_id,campaign_id:null==(d=O.ad_identifiers)?void 0:d.campaign_id,creative_id:null==(p=O.ad_identifiers)?void 0:p.creative_id,creative_type:null==(_=O.ad_identifiers)?void 0:_.creative_type,decision_id:O.request_id,is_targeted:null!=O.ad_identifiers},metadataRaw:O.metadata_raw,metadataSealed:O.metadata_sealed,trafficMetadataRaw:O.traffic_metadata_raw,trafficMetadataSealed:O.traffic_metadata_sealed,adContext:O.ad_context,responseTtlSeconds:O.response_ttl_seconds,placement:e,fetchedAt:y}),g.Z.recordQuestRequestApiResponse(\"/quests/decision\",{wasSuccessful:!0,adRequestId:String(O.request_id),currentQuestId:null!=(h=null==I?void 0:I.id)?h:null,currentFetchedAt:y}),null==I)return;e===b.Ok.DESKTOP_ACCOUNT_PANEL_AREA&&m.Z.startTracking(I.id),f.default.track(T.rMx.QUEST_DECISION_RECEIVED,w(N({},(0,u.Z)()),{quest_id:I.id,caller_source:t,ad_request_id:String(O.request_id)}))}catch(n){g.Z.recordQuestRequestApiResponse(\"/quests/decision\",{wasSuccessful:!1}),f.default.track(T.rMx.QUEST_DECISION_ROUNDTRIP_ERROR,w(N({},(0,u.Z)()),{reason:null!=(E=null==n?void 0:n.message)?E:null,api_error:new o.Z(n).getAnyErrorMessage(),caller_source:t})),a.Z.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_FAILURE\",error:new o.Z(n),placement:e})}}"}]