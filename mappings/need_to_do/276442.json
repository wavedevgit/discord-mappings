[{"code":"function y(e){let{analyticsData:t,initialPlanId:n,breadcrumbSteps:r,handleStepChange:l,onReturn:_,continueSessionToInitialStep:h}=e,{contextMetadata:g,step:y,paymentSources:O,paymentSourceId:v,setPaymentSourceId:S,purchaseError:I,setPurchaseError:T,purchaseErrorBlockRef:C,paymentAuthenticationState:A,selectedSkuId:N,activeSubscription:P,previousStepRef:w,setPurchaseState:R,paymentElementsEnabled:D,isPremiumGroupPurchase:x,isEligibleForTrial:L}=(0,u.JL)(),{isGift:j}=(0,c.wD)(),M=E(m({},(0,o.fL)()),{paymentSources:O,paymentSourceId:v,setPaymentSourceId:S,purchaseError:I,setPurchaseError:T,purchaseErrorBlockRef:C,paymentAuthenticationState:A,selectedSkuId:N,isGift:j}),k=()=>{l(Object.values(O).length<1&&null==n?d.h8.PLAN_SELECT:d.h8.REVIEW,{trackedFromStep:D?d.h8.PAYMENT_ELEMENT:d.h8.PAYMENT_TYPE})},U=null!=_?_:k;i()(y,\"Step should be set here\");let G=(0,a.Z)(()=>Date.now(),[y]),Z=(0,a.Z)(()=>null!=h&&null==w.current?D?d.h8.PAYMENT_ELEMENT:h:D?d.h8.PAYMENT_ELEMENT:d.h8.PAYMENT_TYPE,[h,w.current,D]);return(0,o.vP)({paymentModalArgs:M,initialStep:Z,prependSteps:[d.h8.PROMOTION_INFO],appendSteps:[d.h8.REVIEW,d.h8.CONFIRM],breadcrumpSteps:r,currentBreadcrumpStep:y,usePaymentModalStep:!0,analyticsData:t,onReturn:x?void 0:U,onComplete:e=>{d.Nj.has(e)?(R(f.A.COMPLETED),l(d.h8.CONFIRM,{trackedFromStep:e})):l(d.h8.REVIEW,{trackedFromStep:e})},onStepChange:e=>{let{currentStep:n,toStep:r}=e,i=Date.now();s.default.track(p.rMx.PAYMENT_FLOW_STEP,E(m({},t),{from_step:n,to_step:r,step_duration_ms:i-G,flow_duration_ms:i-g.startTime}))},isEligibleForTrial:L,allowDesktopRedirectPurchase:b(N,j,P),continueSessionToInitialStep:h})}"}]