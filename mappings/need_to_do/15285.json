[{"code":"function ew(e){if((0,A.n1)(e))return\"\".concat(e.exePath,\":\").concat(e.id);let t=null!=e.name?e.name:\"\";return\"\".concat(e.exePath,\":\").concat(t)}"},{"code":"function ex(e){let t=es.enableDetection[ew(e)];return null==t||t}"},{"code":"function eA(e){return e}"},{"code":"function eD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[I.A,S.A],i=eA(e);if(i.isLauncher)return{source:b.yp.LAUNCHER,enabledOOP:!1,enabledLegacy:!1,overlayMethod:b.Ue.Disabled,reason:\"Game is launcher\"};if(\"pid\"in i&&!v.A.acquireLock(i.pid))return{source:b.yp.GLOBAL_OVERLAY_LOCK_FAILED,enabledOOP:!1,enabledLegacy:!1,overlayMethod:b.Ue.Disabled,reason:\"Another Discord instance running overlay for this pid\"};let a=n.getGameByName(i.name);if(null!=a){let e=r.getActiveLibraryApplication(a.id);if(null!=e)return{source:b.yp.LIBRARY_APPLICATION,enabledOOP:e.isOverlayV3Enabled(),enabledLegacy:e.isLegacyOverlayEnabled(),overlayMethod:b.Ue.Disabled,reason:\"Some library application thing?\"}}let o=(0,L.supportsOutOfProcess)()&&!t,s=eP(null!=a?a:i),l=y.x.legacyEnabled,c=o&&!s,u=es.enableOverlay[ew(i)],d=es.enableOverlayV3[ew(i)];if(null!=u||null!=d){let e=null!=d?d:c,t=null!=u?u:l,n=e?b.Ue.OutOfProcess:b.Ue.Hook;return{source:e&&!s?b.yp.OOP_DEFAULT:b.yp.USER_OVERRIDE,enabledOOP:e,enabledLegacy:t,overlayMethod:c?n:b.Ue.Hook,reason:\"Enabled from persistent\"}}let f=null==i.id?null:ec[i.id];if(null!=f){var p,_;let e=null!=(p=f.enabledOOP)?p:c,t=null!=(_=f.enabled)?_:l,n=e?b.Ue.OutOfProcess:b.Ue.Hook;return{source:e&&!s?b.yp.OOP_DEFAULT_DATABASE:b.yp.DATABASE,enabledOOP:e,enabledLegacy:t,overlayMethod:c?n:b.Ue.Hook,reason:\"Enabled from overlayOptions\"}}return{source:b.yp.DEFAULT,enabledOOP:Y||c,enabledLegacy:Y,overlayMethod:c?b.Ue.OutOfProcess:b.Ue.Disabled,reason:\"Default enablement\"}}"},{"code":"function ek(e,t,n,r){let i=V(G({},e),{played:null!=e.lastFocused&&0!==e.lastFocused?l()(new Date(e.lastFocused*N.A.Millis.SECOND)).fromNow():\" \",overlay:eL(e),verified:n.isGameInDatabase(e),detectable:ex(e)});return null!=e.id&&null!=ec[e.id]&&(i.overlayWarn=ec[e.id].warn),i}"}]