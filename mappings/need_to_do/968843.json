[{"code":"function e0(){return r.useMemo(()=>Object.keys(H.yq).map(e=>({label:(0,M.NL)(H.yq[e]),value:H.yq[e]})),[])}"},{"code":"function eH(e){var t;return null!=(t=(0,c.e7)([P.Z],()=>P.Z.quests).get(e))?t:null}"},{"code":"function eO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dateStyle:\"short\"},n=(0,c.e7)([_.default],()=>_.default.locale);return r.useMemo(()=>null==e?\"\":new Date(e).toLocaleDateString(n,t),[e,t,n])}"},{"code":"function eR(e){let t=r.useMemo(()=>{let t=new Set;for(let n of e){let e=(0,F.Gs)(n);null!=e&&t.add(e)}return Array.from(t)},[e]);return(0,p.Z)(t)}"},{"code":"e=>{let{questId:t,preview:n,beforeRequest:i,afterRequest:a}=e,[o,l]=r.useState([]),[u,d]=r.useState(!1),f=(0,c.e7)([m.Z],()=>m.Z.getAccounts());return r.useEffect(()=>{l(e=>e.filter(e=>e.type!==s.K.EXPIRED_CREDENTIAL))},[f]),{startConsoleQuest:r.useCallback(async()=>{if(u)return;null==i||i(),d(!0);let e=null;try{e=await (0,C.CS)(t,n),l(e.errorHints)}finally{var r;d(!1),null==a||a(null!=(r=null==e?void 0:e.errorHints)?r:[])}},[u,i,a,n,t]),startingConsoleQuest:u,errorHints:o}}"},{"code":"function eW(e,t){let n=(0,c.e7)([P.Z],()=>P.Z.getQuest(e),[e]),i=(0,u.ZP)();return r.useMemo(()=>{if(null==n)return null;let e=null!=t?t:(0,l.wj)(i)?Y.BRd.DARK:Y.BRd.LIGHT;return(0,j.fh)(n,j.eC.COSPONSOR_LOGO_TYPE,e)},[i,t,n])}"},{"code":"function eZ(e){let t=(0,c.e7)([_.default],()=>_.default.locale),{percentComplete:n}=eA(e),r=eN(e),i=null!=r?r.percentComplete:n,a=100*i,o=null!=r?\"\".concat(null==r?void 0:r.progress,\"/\").concat(null==r?void 0:r.target):(0,S.T3)(t,i,{roundingMode:\"floor\"});return{completedRatio:i,percentComplete:a,completedRatioDisplay:o}}"},{"code":"function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchPolicy:\"cache-only\",callerSource:\"unknown\"},[t,n]=r.useState(!1),i=(0,c.Wu)([P.Z],()=>[...P.Z.quests.values()]),a=(0,c.Wu)([P.Z],()=>[...P.Z.excludedQuests.values()]),{isFetchingCurrentQuests:o,lastFetchedCurrentQuests:s}=(0,c.cj)([P.Z],()=>({isFetchingCurrentQuests:P.Z.isFetchingCurrentQuests,lastFetchedCurrentQuests:P.Z.lastFetchedCurrentQuests})),l=(0,x.c)({location:H.dr.USE_QUESTS}),u=R.DL.useConfig({location:H.dr.USE_QUESTS});return r.useEffect(()=>{if(\"cache-only\"!==e.fetchPolicy&&(\"cache-and-network\"===e.fetchPolicy||\"cache-or-network\"===e.fetchPolicy&&0===s)&&l&&!t&&!o&&!(0,v.C)()){if(n(!0),(0,C.xw)(),u.enabled&&\"focused\"!==f.Z.getState())return;let{enableNewRequestBehavior:t}=D.Z.getConfig({location:\"QuestHookUseQuests\"});if(!t)(0,C.w)(w.Ok.DESKTOP_ACCOUNT_PANEL_AREA,\"use_quests_\".concat(e.callerSource))}},[e.fetchPolicy,l,t,o,s,e.callerSource,u.enabled]),{quests:i,excludedQuests:a,isFetchingCurrentQuests:o,hasFetched:t}}"},{"code":"function eN(e){return r.useMemo(()=>(0,F.b7)(e),[e])}"},{"code":"()=>{let{xboxAccounts:e,playstationAccounts:t}=eL(),n=e.length>0,r=t.length>0,i=n&&!r||!n&&r,a=y.Z.getArticleURL(Y.BhN.QUEST_HOW_TO_PLAYSTATION),o=y.Z.getArticleURL(Y.BhN.QUEST_HOW_TO_XBOX),s=K.intl.format(K.t.beN4DG,{psHelpdeskArticle:a,xboxHelpdeskArticle:o}),l=K.intl.format(K.t.HVS7nh,{helpdeskArticle:r?a:o});return{message:i?l:s,xboxURL:o,playstationURL:a}}"},{"code":"()=>{let e=(0,c.Wu)([P.Z],()=>[...P.Z.quests.values()]);return r.useMemo(()=>e.filter(e=>e.preview),[e])}"},{"code":"function e$(){return r.useMemo(()=>H.Ew.map(e=>{let[t,n]=e;return{heading:(0,M.T2)(t),options:n}}),[])}"},{"code":"function e4(){let{enabled:e}=R.n0.useConfig({location:H.dr.QUEST_HOME_DESKTOP}),[t,n]=r.useState(e),[i,a]=r.useState(e),[o,s]=r.useState(!1),[l,u]=r.useState(!1),{isFetching:d,takeoverConfig:f}=(0,c.cj)([P.Z],()=>({isFetching:P.Z.isFetchingQuestHomeTakeover(),takeoverConfig:P.Z.getQuestHomeTakeoverConfig()})),p=r.useMemo(()=>{if(!e||null==f)return null;let t=new Date,n=new Date(f.startsAt),r=new Date(f.expiresAt);return t<n||t>r?null:f},[e,f]);return r.useEffect(()=>{e&&t();async function t(){try{await (0,C.Kh)()}catch(e){a(!1),s(!0)}finally{n(!1)}}},[e]),r.useEffect(()=>{!async function(){try{if(null==f)return;await Promise.all([(0,O.pt)(f.assetHeroImage.url),(0,O.pt)(f.assetSponsorImage.url)])}catch(e){u(!0)}finally{a(!1)}}()},[f]),{takeover:o||l?null:p,isLoading:t||d||i}}"},{"code":"function eK(e){let t=(0,Z.w8)(e),n=(0,Z.Kr)(e),r=(0,Z.FX)(e),i=(0,Z._p)(e),a=(0,Z.f$)(e),o=(0,c.e7)([g.default],()=>g.default.getCurrentUser()),s=(0,T.I5)(o,W.PremiumTypes.TIER_2);if(null==n)return K.intl.formatToPlainString(K.t.l9uXL8,{decorationName:t});let l=K.intl.formatToPlainString(K.t.o97tNn,{rewardName:t}),u=K.intl.formatToPlainString(K.t.PkyRZo,{rewardName:t,expirationDate:r}),d=K.intl.formatToPlainString(K.t.ie4YK0,{rewardName:t,duration:n}),f=K.intl.formatToPlainString(K.t.yCpc0U,{duration:n,rewardName:t}),p=s?l:d,_=s?u:f,h=i?p:_;return a?h:K.intl.formatToPlainString(K.t.tTlItm,{duration:n,decorationName:t})}"},{"code":"e=>{let t=r.useCallback(()=>(0,F.il)(e),[e]),[n,i]=r.useState(t()),a=r.useCallback(()=>i(t()),[t]),o=eT(e);return r.useEffect(()=>{var t,n,r;if((null==(t=e.userStatus)?void 0:t.enrolledAt)==null||(null==(n=e.userStatus)?void 0:n.completedAt)!=null||(null==(r=e.userStatus)?void 0:r.claimedAt)!=null||!o)return void a();let i=window.setInterval(()=>{a()},b.Z.Millis.SECOND*eC);return()=>{clearInterval(i),a()}},[e,o,a]),n}"},{"code":"function e1(e){let{selectedSortMethod:t,selectedFilters:n,numQuestsVisible:i}=e,a=r.useRef(null),o=r.useRef(null);r.useEffect(()=>{E.default.track(Y.rMx.QUEST_HOME_SORT_METHOD_CHANGED,{sort_method:t,previous_sort_method:a.current}),a.current=t},[t]),r.useEffect(()=>{var e;let t=n.map(e=>e.filter);E.default.track(Y.rMx.QUEST_HOME_FILTERS_CHANGED,{filters:t,previous_filters:null!=(e=o.current)?e:[],num_quests_visible:i}),o.current=t},[n,i])}"},{"code":"function ey(e,t,n){var r;let i=(0,c.e7)([h.Z],()=>{var e;return null!=(e=h.Z.getChannel(null==t?void 0:t.channelId))?e:null}),a=(0,c.e7)([P.Z],()=>null!=P.Z.questEnrollmentBlockedUntil,[]),o=(0,c.e7)([g.default],()=>{var e;return null==(e=g.default.getCurrentUser())?void 0:e.id})===n,s=(0,c.e7)([P.Z],()=>null!=e&&P.Z.isQuestExpired(e.id),[e]);if(null==e||a||s||o)return!1;let l=(null==(r=e.userStatus)?void 0:r.claimedAt)!=null,u=(0,B.Rc)(t,i);return!l||!!u}"},{"code":"function eG(e){var t,n,r;let i=(null==(t=e.userStatus)?void 0:t.enrolledAt)!=null,a=(null==(n=e.userStatus)?void 0:n.completedAt)!=null,o=(null==(r=e.userStatus)?void 0:r.claimedAt)!=null,s=eA(e).percentComplete>0;return o?4:a?3:s&&i?2:1*!!i}"},{"code":"e=>{let{quest:t}=e,{xboxAndPlaystationAccounts:n}=eL(),r=eT(t),i=0===n.length;return(0,F.$J)(t)&&i&&!r}"},{"code":"()=>{let e=(0,L.T)({location:H.dr.QUEST_PREVIEW_TOOL_2}),t=eq();return e&&t}"},{"code":"function em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ec,{quests:n,excludedQuests:r,isFetchingCurrentQuests:i,hasFetched:a}=Q({fetchPolicy:\"cache-and-network\",callerSource:\"use_filtered_quests\"}),o=new Map(n.map(e=>[e.id,e])),s=ef(n,t),l=ep(n),c=[],u=[];for(let t of c=\"all\"===e?s:l){let e=o.get(t);null!=e&&u.push(e)}return{quests:u,excludedQuests:r,isFetchingCurrentQuests:i,hasFetched:a}}"},{"code":"function eg(){let e=r.useRef(!1),t=(0,c.Wu)([P.Z],()=>Array.from(P.Z.claimedQuests.values())),n=(0,c.e7)([P.Z],()=>P.Z.isFetchingClaimedQuests);return r.useEffect(()=>{n||e.current||(e.current=!0,(0,C.Ag)())},[n]),{claimedQuests:t,isFetchingClaimedQuests:n}}"},{"code":"function eD(e){let t=(0,c.e7)([P.Z],()=>P.Z.quests),n=eR(Array.from(t.values())),i=r.useMemo(()=>{let n=(0,B.NI)(t,H.tt);return(0,U.Jg)(n,e)},[e,t,n]);return eb(i)?null:i}"},{"code":"function ew(){let{quests:e,isFetchingCurrentQuests:t}=Q({fetchPolicy:\"cache-or-network\",callerSource:\"settings_badge\"}),n=eE();return r.useMemo(()=>{let r=[];if(t||0===e.length)return r;for(let t of e){var i;if(!(0,k.vR)(t,w.jn.GIFT_INVENTORY_SETTINGS_BADGE)||null!=(i=n.get(t.id))&&i)continue;if((null==t?void 0:t.userStatus)==null){r.push(t);continue}let e=null!=t.userStatus.claimedAt,a=(0,k.zE)(t.userStatus,w.jn.GIFT_INVENTORY_SETTINGS_BADGE);if(!e&&!a){r.push(t);continue}}return r},[e,n,t])}"},{"code":"function ex(e){return r.useMemo(()=>({handleComplete:()=>(0,C.Wf)(e),handleProgress:t=>(0,C.Wf)(e,t),handleResetStatusClick:()=>(0,C.eT)(e),handleResetDismissibilityClick:()=>(0,C.T0)(e),handleOverrideDeliveryClick:()=>(0,C.EW)(e)}),[e])}"},{"code":"e=>{let t=!1,n=r.useMemo(()=>{var e;return(null==(e=g.default.getCurrentUser())?void 0:e.isStaff())===!0},[]);return t||n||e.preview}"},{"code":"function eB(e,t){let[n,i]=eF(e.id),s=r.useMemo(()=>(0,G.yH)(e),[e]),l=s.includes(H.cd.DESKTOP),c=s.includes(H.cd.CONSOLE),u=ev(e),d=eS(e),f=r.useMemo(()=>(0,a.EQ)(t).with({percentComplete:0},()=>null).with({taskType:o.X.PLAY_ON_DESKTOP},()=>H.cd.DESKTOP).with({taskType:o.X.PLAY_ON_DESKTOP_V2},()=>H.cd.DESKTOP).with({taskType:o.X.PLAY_ACTIVITY},()=>H.cd.DESKTOP).with({taskType:o.X.WATCH_VIDEO},()=>H.cd.DESKTOP).with({taskType:o.X.WATCH_VIDEO_ON_MOBILE},()=>H.cd.DESKTOP).with({taskType:o.X.STREAM_ON_DESKTOP},()=>H.cd.DESKTOP).with({taskType:o.X.PLAY_ON_XBOX},()=>H.cd.CONSOLE).with({taskType:o.X.PLAY_ON_PLAYSTATION},()=>H.cd.CONSOLE).with({taskType:o.X.ACHIEVEMENT_IN_GAME},()=>H.cd.DESKTOP).with({taskType:o.X.ACHIEVEMENT_IN_ACTIVITY},()=>H.cd.DESKTOP).exhaustive(),[t]),p=u?H.cd.DESKTOP:d?H.cd.CONSOLE:null;return[r.useMemo(()=>(0,a.EQ)({lastPlatformProgress:f,currentProgressingPlatform:p,selectedPlatform:n}).with({currentProgressingPlatform:H.cd.CONSOLE},()=>w.LI.CONSOLE).with({currentProgressingPlatform:H.cd.DESKTOP},()=>w.LI.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:H.cd.CONSOLE},()=>w.LI.CONSOLE).with({currentProgressingPlatform:null,lastPlatformProgress:H.cd.DESKTOP},()=>w.LI.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:H.cd.CONSOLE},()=>w.LI.CONSOLE).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:H.cd.DESKTOP},()=>w.LI.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:null},()=>c&&l?w.LI.SELECT:c?w.LI.CONSOLE:w.LI.DESKTOP).exhaustive(),[c,l,f,p,n]),s,i]}"},{"code":"function eY(e){let{mode:t,questContent:n,sourceQuestContent:i,questId:a}=e,o=r.useRef(null);r.useEffect(()=>{null!=a&&o.current!==t&&((0,A.Ic)({mode:t,prevMode:o.current,questContent:n,questId:a,sourceQuestContent:i}),o.current=t)},[a,n,t,i]),r.useEffect(()=>{if(null!=a)return()=>{(0,A.Ic)({mode:null,prevMode:o.current,questContent:n,questId:a,sourceQuestContent:i})}},[a,n,i])}"},{"code":"function eV(e){var t,n;let r=eN(e),i=eA(e),[a]=eB(e,i),s=eb(e),l=(null==(t=e.userStatus)?void 0:t.enrolledAt)!=null,c=(null==(n=e.userStatus)?void 0:n.completedAt)!=null,u=null==r,d=o.T.DESKTOP.has(i.taskType)&&i.percentComplete>0,f=0===i.percentComplete,p=l&&!c&&!s&&u&&(d||f&&a===w.LI.DESKTOP),_=(0,I.isWeb)()&&p&&!(0,G.Gd)(e),h=(0,I.isMac)()&&i.taskType===o.X.STREAM_ON_DESKTOP&&p,m=[];return h&&m.push(K.intl.string(K.t.MFGxFM)),_&&m.push(K.intl.string(K.t.BV6xDm)),m}"},{"code":"function eb(e){return(0,c.e7)([P.Z],()=>null!=e&&P.Z.isQuestExpired(e.id),[e])}"},{"code":"e=>{let{quest:t,questContent:n,sourceQuestContent:r}=e,i=eM({quest:t}),a=(0,N.WD)();return()=>{i?(0,G.gI)({quest:t},{content:n,ctaContent:A.jZ.CONNECT_CONSOLE_LINK,impressionId:null==a?void 0:a.getId(),sourceQuestContent:r}):(0,G.V$)({quest:t},{content:n,ctaContent:A.jZ.VIEW_CONSOLE_CONNECTIONS_LINK,impressionId:null==a?void 0:a.getId(),sourceQuestContent:r})}}"},{"code":"function eT(e){let t=ev(e),n=eS(e),r=eI(e);return t||n||r}"},{"code":"e=>{var t;let n=(null==e?void 0:e.userStatus)!=null&&(0,k.zE)(e.userStatus,w.jn.ACTIVITY_PANEL),r=eb(null!=e?e:null),i=(null==e||null==(t=e.userStatus)?void 0:t.claimedAt)!=null,a=(0,c.e7)([P.Z],()=>null!=P.Z.questEnrollmentBlockedUntil,[]);return!n&&!r&&!i&&!a}"},{"code":"function eL(){let{fetching:e,accounts:t}=(0,c.cj)([m.Z],()=>({fetching:m.Z.isFetching(),accounts:m.Z.getAccounts()})),{xboxAccounts:n,playstationAccounts:i,xboxAndPlaystationAccounts:a}=r.useMemo(()=>{let e=t.filter(e=>!1===e.revoked),n=e.filter(e=>e.type===Y.ABu.XBOX),r=e.filter(e=>e.type===Y.ABu.PLAYSTATION),i=n.concat(r);return{xboxAccounts:n,playstationAccounts:r,xboxAndPlaystationAccounts:i}},[t]);return{fetching:e,xboxAccounts:n,playstationAccounts:i,xboxAndPlaystationAccounts:a}}"},{"code":"function ez(e){let t=(0,F.nY)(e);return{launchInGameActivity:(0,d.Z)({applicationId:t})}}"}]