[{"code":"function e$(){return r.useMemo(()=>Object.keys(V.yq).map(e=>({label:(0,j.NL)(V.yq[e]),value:V.yq[e]})),[])}"},{"code":"function eV(e){var t;return null!=(t=(0,c.e7)([N.Z],()=>N.Z.quests).get(e))?t:null}"},{"code":"function ey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dateStyle:\"short\"},n=(0,c.e7)([_.default],()=>_.default.locale);return r.useMemo(()=>null==e?\"\":new Date(e).toLocaleDateString(n,t),[e,t,n])}"},{"code":"function ew(e){let t=r.useMemo(()=>{let t=new Set;for(let n of e){let e=(0,Z.Gs)(n);null!=e&&t.add(e)}return Array.from(t)},[e]);return(0,p.Z)(t)}"},{"code":"e=>{let{questId:t,preview:n,beforeRequest:i,afterRequest:a}=e,[o,l]=r.useState([]),[u,d]=r.useState(!1),f=(0,c.e7)([m.Z],()=>m.Z.getAccounts());return r.useEffect(()=>{l(e=>e.filter(e=>e.type!==s.K.EXPIRED_CREDENTIAL))},[f]),{startConsoleQuest:r.useCallback(async()=>{if(u)return;null==i||i(),d(!0);let e=null;try{e=await (0,T.CS)(t,n),l(e.errorHints)}finally{var r;d(!1),null==a||a(null!=(r=null==e?void 0:e.errorHints)?r:[])}},[u,i,a,n,t]),startingConsoleQuest:u,errorHints:o}}"},{"code":"function eY(e,t){let n=(0,c.e7)([N.Z],()=>N.Z.getQuest(e),[e]),i=(0,u.ZP)();return r.useMemo(()=>{if(null==n)return null;let e=null!=t?t:(0,l.wj)(i)?H.BRd.DARK:H.BRd.LIGHT;return(0,L.fh)(n,L.eC.COSPONSOR_LOGO_TYPE,e)},[i,t,n])}"},{"code":"function eG(e){let t=(0,c.e7)([_.default],()=>_.default.locale),{percentComplete:n}=eC(e),r=eA(e),i=null!=r?r.percentComplete:n,a=100*i,o=null!=r?\"\".concat(null==r?void 0:r.progress,\"/\").concat(null==r?void 0:r.target):(0,v.T3)(t,i,{roundingMode:\"floor\"});return{completedRatio:i,percentComplete:a,completedRatioDisplay:o}}"},{"code":"function q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchPolicy:\"cache-only\",callerSource:\"unknown\"},[t,n]=r.useState(!1),i=(0,c.Wu)([N.Z],()=>[...N.Z.quests.values()]),a=(0,c.Wu)([N.Z],()=>[...N.Z.excludedQuests.values()]),{isFetchingCurrentQuests:o,lastFetchedCurrentQuests:s}=(0,c.cj)([N.Z],()=>({isFetchingCurrentQuests:N.Z.isFetchingCurrentQuests,lastFetchedCurrentQuests:N.Z.lastFetchedCurrentQuests})),l=(0,D.c)({location:V.dr.USE_QUESTS}),u=w.DL.useConfig({location:V.dr.USE_QUESTS});return r.useEffect(()=>{if(\"cache-only\"!==e.fetchPolicy&&(\"cache-and-network\"===e.fetchPolicy||\"cache-or-network\"===e.fetchPolicy&&0===s)&&l&&!t&&!o){if(n(!0),(0,T.xw)(),u.enabled&&\"focused\"!==f.Z.getState())return;let{enableNewRequestBehavior:t}=R.Z.getConfig({location:\"QuestHookUseQuests\"});if(!t)(0,T.w)(P.Ok.DESKTOP_ACCOUNT_PANEL_AREA,\"use_quests_\".concat(e.callerSource))}},[e.fetchPolicy,l,t,o,s,e.callerSource,u.enabled]),{quests:i,excludedQuests:a,isFetchingCurrentQuests:o,hasFetched:t}}"},{"code":"function eA(e){return r.useMemo(()=>(0,Z.b7)(e),[e])}"},{"code":"()=>{let{xboxAccounts:e,playstationAccounts:t}=ex(),n=e.length>0,r=t.length>0,i=n&&!r||!n&&r,a=y.Z.getArticleURL(H.BhN.QUEST_HOW_TO_PLAYSTATION),o=y.Z.getArticleURL(H.BhN.QUEST_HOW_TO_XBOX),s=W.intl.format(W.t.beN4DG,{psHelpdeskArticle:a,xboxHelpdeskArticle:o}),l=W.intl.format(W.t.HVS7nh,{helpdeskArticle:r?a:o});return{message:i?l:s,xboxURL:o,playstationURL:a}}"},{"code":"()=>{let e=(0,c.Wu)([N.Z],()=>[...N.Z.quests.values()]);return r.useMemo(()=>e.filter(e=>e.preview),[e])}"},{"code":"function eJ(){return r.useMemo(()=>V.Ew.map(e=>{let[t,n]=e;return{heading:(0,j.T2)(t),options:n}}),[])}"},{"code":"function e2(){let{enabled:e}=w.n0.useConfig({location:V.dr.QUEST_HOME_DESKTOP}),[t,n]=r.useState(e),[i,a]=r.useState(e),[o,s]=r.useState(!1),[l,u]=r.useState(!1),{isFetching:d,takeoverConfig:f}=(0,c.cj)([N.Z],()=>({isFetching:N.Z.isFetchingQuestHomeTakeover(),takeoverConfig:N.Z.getQuestHomeTakeoverConfig()})),p=r.useMemo(()=>{if(!e||null==f)return null;let t=new Date,n=new Date(f.startsAt),r=new Date(f.expiresAt);return t<n||t>r?null:f},[e,f]);return r.useEffect(()=>{e&&t();async function t(){try{await (0,T.Kh)()}catch(e){a(!1),s(!0)}finally{n(!1)}}},[e]),r.useEffect(()=>{!async function(){try{if(null==f)return;await Promise.all([(0,O.pt)(f.assetHeroImage.url),(0,O.pt)(f.assetSponsorImage.url)])}catch(e){u(!0)}finally{a(!1)}}()},[f]),{takeover:o||l?null:p,isLoading:t||d||i}}"},{"code":"function eW(e){let t=(0,G.w8)(e),n=(0,G.Kr)(e),r=(0,G.FX)(e),i=(0,G._p)(e),a=(0,G.f$)(e),o=(0,c.e7)([g.default],()=>g.default.getCurrentUser()),s=(0,I.I5)(o,Y.PremiumTypes.TIER_2);if(null==n)return W.intl.formatToPlainString(W.t.l9uXL8,{decorationName:t});let l=W.intl.formatToPlainString(W.t.o97tNn,{rewardName:t}),u=W.intl.formatToPlainString(W.t.PkyRZo,{rewardName:t,expirationDate:r}),d=W.intl.formatToPlainString(W.t.ie4YK0,{rewardName:t,duration:n}),f=W.intl.formatToPlainString(W.t.yCpc0U,{duration:n,rewardName:t}),p=s?l:d,_=s?u:f,h=i?p:_;return a?h:W.intl.formatToPlainString(W.t.tTlItm,{duration:n,decorationName:t})}"},{"code":"e=>{let t=r.useCallback(()=>(0,Z.il)(e),[e]),[n,i]=r.useState(t()),a=r.useCallback(()=>i(t()),[t]),o=eI(e);return r.useEffect(()=>{var t,n,r;if((null==(t=e.userStatus)?void 0:t.enrolledAt)==null||(null==(n=e.userStatus)?void 0:n.completedAt)!=null||(null==(r=e.userStatus)?void 0:r.claimedAt)!=null||!o)return void a();let i=window.setInterval(()=>{a()},b.Z.Millis.SECOND*eT);return()=>{clearInterval(i),a()}},[e,o,a]),n}"},{"code":"function e0(e){let{selectedSortMethod:t,selectedFilters:n,numQuestsVisible:i}=e,a=r.useRef(null),o=r.useRef(null);r.useEffect(()=>{E.default.track(H.rMx.QUEST_HOME_SORT_METHOD_CHANGED,{sort_method:t,previous_sort_method:a.current}),a.current=t},[t]),r.useEffect(()=>{var e;let t=n.map(e=>e.filter);E.default.track(H.rMx.QUEST_HOME_FILTERS_CHANGED,{filters:t,previous_filters:null!=(e=o.current)?e:[],num_quests_visible:i}),o.current=t},[n,i])}"},{"code":"function eb(e,t,n){var r;let i=(0,c.e7)([h.Z],()=>{var e;return null!=(e=h.Z.getChannel(null==t?void 0:t.channelId))?e:null}),a=(0,c.e7)([N.Z],()=>null!=N.Z.questEnrollmentBlockedUntil,[]),o=(0,c.e7)([g.default],()=>{var e;return null==(e=g.default.getCurrentUser())?void 0:e.id})===n,s=(0,c.e7)([N.Z],()=>null!=e&&N.Z.isQuestExpired(e.id),[e]);if(null==e||a||s||o)return!1;let l=(null==(r=e.userStatus)?void 0:r.claimedAt)!=null,u=(0,F.Rc)(t,i);return!l||!!u}"},{"code":"function eU(e){var t,n,r;let i=(null==(t=e.userStatus)?void 0:t.enrolledAt)!=null,a=(null==(n=e.userStatus)?void 0:n.completedAt)!=null,o=(null==(r=e.userStatus)?void 0:r.claimedAt)!=null,s=eC(e).percentComplete>0;return o?4:a?3:s&&i?2:1*!!i}"},{"code":"e=>{let{quest:t}=e,{xboxAndPlaystationAccounts:n}=ex(),r=eI(t),i=0===n.length;return(0,Z.$J)(t)&&i&&!r}"},{"code":"()=>{let e=(0,x.T)({location:V.dr.QUEST_PREVIEW_TOOL_2}),t=ez();return e&&t}"},{"code":"function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:el,{quests:n,excludedQuests:r,isFetchingCurrentQuests:i,hasFetched:a}=q({fetchPolicy:\"cache-and-network\",callerSource:\"use_filtered_quests\"}),o=new Map(n.map(e=>[e.id,e])),s=ed(n,t),l=ef(n),c=[],u=[];for(let t of c=\"all\"===e?s:l){let e=o.get(t);null!=e&&u.push(e)}return{quests:u,excludedQuests:r,isFetchingCurrentQuests:i,hasFetched:a}}"},{"code":"function em(){let e=r.useRef(!1),t=(0,c.Wu)([N.Z],()=>Array.from(N.Z.claimedQuests.values())),n=(0,c.e7)([N.Z],()=>N.Z.isFetchingClaimedQuests);return r.useEffect(()=>{n||e.current||(e.current=!0,(0,T.Ag)())},[n]),{claimedQuests:t,isFetchingClaimedQuests:n}}"},{"code":"function eR(e){let t=(0,c.e7)([N.Z],()=>N.Z.quests),n=ew(Array.from(t.values())),i=r.useMemo(()=>{let n=(0,F.NI)(t,V.tt);return(0,k.Jg)(n,e)},[e,t,n]);return eE(i)?null:i}"},{"code":"function eP(){let{quests:e,isFetchingCurrentQuests:t}=q({fetchPolicy:\"cache-or-network\",callerSource:\"settings_badge\"}),n=eg();return r.useMemo(()=>{let r=[];if(t||0===e.length)return r;for(let t of e){var i;if(!(0,M.vR)(t,P.jn.GIFT_INVENTORY_SETTINGS_BADGE)||null!=(i=n.get(t.id))&&i)continue;if((null==t?void 0:t.userStatus)==null){r.push(t);continue}let e=null!=t.userStatus.claimedAt,a=(0,M.zE)(t.userStatus,P.jn.GIFT_INVENTORY_SETTINGS_BADGE);if(!e&&!a){r.push(t);continue}}return r},[e,n,t])}"},{"code":"function eD(e){return r.useMemo(()=>({handleComplete:()=>(0,T.Wf)(e),handleProgress:t=>(0,T.Wf)(e,t),handleResetStatusClick:()=>(0,T.eT)(e),handleResetDismissibilityClick:()=>(0,T.T0)(e),handleOverrideDeliveryClick:()=>(0,T.EW)(e)}),[e])}"},{"code":"e=>{let t=!1,n=r.useMemo(()=>{var e;return(null==(e=g.default.getCurrentUser())?void 0:e.isStaff())===!0},[]);return t||n||e.preview}"},{"code":"function eF(e,t){let[n,i]=eZ(e.id),s=r.useMemo(()=>(0,U.yH)(e),[e]),l=s.includes(V.cd.DESKTOP),c=s.includes(V.cd.CONSOLE),u=eO(e),d=ev(e),f=r.useMemo(()=>(0,a.EQ)(t).with({percentComplete:0},()=>null).with({taskType:o.X.PLAY_ON_DESKTOP},()=>V.cd.DESKTOP).with({taskType:o.X.PLAY_ON_DESKTOP_V2},()=>V.cd.DESKTOP).with({taskType:o.X.PLAY_ACTIVITY},()=>V.cd.DESKTOP).with({taskType:o.X.WATCH_VIDEO},()=>V.cd.DESKTOP).with({taskType:o.X.WATCH_VIDEO_ON_MOBILE},()=>V.cd.DESKTOP).with({taskType:o.X.STREAM_ON_DESKTOP},()=>V.cd.DESKTOP).with({taskType:o.X.PLAY_ON_XBOX},()=>V.cd.CONSOLE).with({taskType:o.X.PLAY_ON_PLAYSTATION},()=>V.cd.CONSOLE).with({taskType:o.X.ACHIEVEMENT_IN_GAME},()=>V.cd.DESKTOP).with({taskType:o.X.ACHIEVEMENT_IN_ACTIVITY},()=>V.cd.DESKTOP).exhaustive(),[t]),p=u?V.cd.DESKTOP:d?V.cd.CONSOLE:null;return[r.useMemo(()=>(0,a.EQ)({lastPlatformProgress:f,currentProgressingPlatform:p,selectedPlatform:n}).with({currentProgressingPlatform:V.cd.CONSOLE},()=>P.LI.CONSOLE).with({currentProgressingPlatform:V.cd.DESKTOP},()=>P.LI.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:V.cd.CONSOLE},()=>P.LI.CONSOLE).with({currentProgressingPlatform:null,lastPlatformProgress:V.cd.DESKTOP},()=>P.LI.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:V.cd.CONSOLE},()=>P.LI.CONSOLE).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:V.cd.DESKTOP},()=>P.LI.DESKTOP).with({currentProgressingPlatform:null,lastPlatformProgress:null,selectedPlatform:null},()=>c&&l?P.LI.SELECT:c?P.LI.CONSOLE:P.LI.DESKTOP).exhaustive(),[c,l,f,p,n]),s,i]}"},{"code":"function eH(e){let{mode:t,questContent:n,sourceQuestContent:i,questId:a}=e,o=r.useRef(null);r.useEffect(()=>{null!=a&&o.current!==t&&((0,C.Ic)({mode:t,prevMode:o.current,questContent:n,questId:a,sourceQuestContent:i}),o.current=t)},[a,n,t,i]),r.useEffect(()=>{if(null!=a)return()=>{(0,C.Ic)({mode:null,prevMode:o.current,questContent:n,questId:a,sourceQuestContent:i})}},[a,n,i])}"},{"code":"function eB(e){var t,n;let r=eA(e),i=eC(e),[a]=eF(e,i),s=eE(e),l=(null==(t=e.userStatus)?void 0:t.enrolledAt)!=null,c=(null==(n=e.userStatus)?void 0:n.completedAt)!=null,u=null==r,d=o.T.DESKTOP.has(i.taskType)&&i.percentComplete>0,f=0===i.percentComplete,p=l&&!c&&!s&&u&&(d||f&&a===P.LI.DESKTOP),_=(0,S.isWeb)()&&p&&!(0,U.Gd)(e),h=(0,S.isMac)()&&i.taskType===o.X.STREAM_ON_DESKTOP&&p,m=[];return h&&m.push(W.intl.string(W.t.MFGxFM)),_&&m.push(W.intl.string(W.t.BV6xDm)),m}"},{"code":"function eE(e){return(0,c.e7)([N.Z],()=>null!=e&&N.Z.isQuestExpired(e.id),[e])}"},{"code":"e=>{let{quest:t,questContent:n,sourceQuestContent:r}=e,i=ej({quest:t}),a=(0,A.WD)();return()=>{i?(0,U.gI)({quest:t},{content:n,ctaContent:C.jZ.CONNECT_CONSOLE_LINK,impressionId:null==a?void 0:a.getId(),sourceQuestContent:r}):(0,U.V$)({quest:t},{content:n,ctaContent:C.jZ.VIEW_CONSOLE_CONNECTIONS_LINK,impressionId:null==a?void 0:a.getId(),sourceQuestContent:r})}}"},{"code":"function eI(e){let t=eO(e),n=ev(e),r=eS(e);return t||n||r}"},{"code":"e=>{var t;let n=(null==e?void 0:e.userStatus)!=null&&(0,M.zE)(e.userStatus,P.jn.ACTIVITY_PANEL),r=eE(null!=e?e:null),i=(null==e||null==(t=e.userStatus)?void 0:t.claimedAt)!=null,a=(0,c.e7)([N.Z],()=>null!=N.Z.questEnrollmentBlockedUntil,[]);return!n&&!r&&!i&&!a}"},{"code":"function ex(){let{fetching:e,accounts:t}=(0,c.cj)([m.Z],()=>({fetching:m.Z.isFetching(),accounts:m.Z.getAccounts()})),{xboxAccounts:n,playstationAccounts:i,xboxAndPlaystationAccounts:a}=r.useMemo(()=>{let e=t.filter(e=>!1===e.revoked),n=e.filter(e=>e.type===H.ABu.XBOX),r=e.filter(e=>e.type===H.ABu.PLAYSTATION),i=n.concat(r);return{xboxAccounts:n,playstationAccounts:r,xboxAndPlaystationAccounts:i}},[t]);return{fetching:e,xboxAccounts:n,playstationAccounts:i,xboxAndPlaystationAccounts:a}}"},{"code":"function eK(e){let t=(0,Z.nY)(e);return{launchInGameActivity:(0,d.Z)({applicationId:t})}}"}]