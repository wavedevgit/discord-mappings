[{"code":"function eC(e){let{editorRef:t,disabled:n,textValue:r,channelId:a,chatInputType:o,submit:s}=e,{analyticsLocations:l}=(0,b.ZP)();return i.useCallback((e,i)=>{var c,u;n||(o===$.Ie.CREATE_ANNOUNCEMENT_POST||(0,U.Hc)(i,r,a,o.drafts.type)?((0,en._H)({sticker:e,stickerSelectLocation:i,isReplacement:null!=M.Z.getStickerPreview(a,o.drafts.type),analyticsLocations:l}),(0,k.eu)(a,e,o.drafts.type)):(s({value:\"\",uploads:void 0,stickers:[e.id]}),null==(u=t.current)||u.clearValue()),(0,P._Q)(),null==(c=t.current)||c.focus())},[n,r,a,t,l,s,o])}"},{"code":"function eI(e,t,n){return i.useCallback(r=>{var i,a;t===$.Ie.CREATE_FORUM_POST||t===$.Ie.CREATE_ANNOUNCEMENT_POST?null==(a=n.current)||a.insertGIF(r):e(r.url,void 0,void 0,!0),(0,P._Q)(),null==(i=n.current)||i.focus()},[n,e,t])}"},{"code":"function ex(e,t,n,r){let i=e.getGuildId(),a=(0,p.e7)([D.Z],()=>null!=i&&D.Z.isLurking(i),[i]),o=(0,p.e7)([F.ZP,W.default],()=>{var e,t;let n=W.default.getCurrentUser();return null!=(t=null!=i&&null!=n?null==(e=F.ZP.getMember(i,n.id))?void 0:e.isPending:null)&&t}),s=(0,p.cj)([B.Z],()=>{var i,a;let s=e.isPrivate(),l=B.Z.computePermissions(e),c=f.e$(l,ed.Plq.CREATE_PUBLIC_THREADS)||f.e$(l,ed.Plq.CREATE_PRIVATE_THREADS),u=(!(null==(i=t.permissions)?void 0:i.requireCreateTherads)||c)&&(!(null==(a=t.permissions)?void 0:a.requireSendMessages)||f.e$(l,ed.Plq.SEND_MESSAGES)),d=u&&f.e$(l,ed.Plq.ATTACH_FILES),p=null!=n,_=(0,G.xl)(e);return{disabled:r||o||!s&&!u||_,canAttachFiles:!0===t.attachments&&(s||o||d||p),canCreateThreads:c,canEveryoneSendMessages:q.Uu(ed.Plq.SEND_MESSAGES,e)}},[e,t.permissions.requireCreateTherads,t.permissions.requireSendMessages,t.attachments,n,r,o]);return em({isLurking:a,isPendingMember:o},s)}"},{"code":"e=>{let{enabled:t,onlyExactMatch:n}=(0,x.zM)(\"ChannelTextAreaContainer\",{autoTrackExposure:!1}),[r,a]=i.useState(!0),o=i.useRef(null);return i.useLayoutEffect(()=>{t&&!n&&(clearTimeout(o.current),a(!1),o.current=setTimeout(()=>{a(!0)},ey))},[n,t,e]),r}"},{"code":"function eT(e){return i.useCallback(t=>{let{emoji:n,willClose:r}=t,i=e.current;null!=n&&null!=i&&i.insertEmoji({emoji:n,willClose:r}),r&&(0,P._Q)()},[e])}"},{"code":"function eS(e,t,a,o,s){let[l,c]=i.useState(!1),u=i.useCallback((i,d,f,p,m)=>{var g,E,b;if(l)return;c(!0);let y=null!=(E=null==(g=M.Z.getStickerPreview(s,t.drafts.type))?void 0:g.map(e=>e.id))?E:[],O=null!=(b=Y.Z.getUploads(s,t.drafts.type))?b:[];if(null==d&&!p&&!m&&(0,R.CB)(O,s)){c(!1),(0,_.ZDy)(async()=>{let{default:e}=await Promise.all([n.e(\"57804\"),n.e(\"90508\"),n.e(\"87646\"),n.e(\"96551\")]).then(n.bind(n,273602));return t=>(0,r.jsx)(e,eE(em({},t),{threadId:s,attachments:O,sendMessage:()=>u(i,void 0,void 0,void 0,!0)}))});return}e({value:i,uploads:O,stickers:y,command:d,commandOptionValues:f,isGif:p}).then(e=>{var n,r,i;let{shouldClear:l,shouldRefocus:u}=e,d=ev(l,t),f=null!=a.current;d&&(eO(s)?h.Z.saveDraft(s,\"\",t.drafts.type):f&&(null==(r=a.current)||r.clearValue(),null==(i=o.current)||i.hide())),f&&(c(!1),(0,P._Q)(),u&&(null==(n=a.current)||n.focus()))})},[a,o,e,l,t,s]);return{submitting:l,submit:u,handleSubmit:i.useCallback(e=>{var t;null==a||null==(t=a.current)||t.submit(e)},[a])}}"},{"code":"function eN(e,t,n){let r=i.useCallback(()=>{t||(0,P.RO)(ep.X1.EMOJI,e,n)},[t,e,n]),a=i.useCallback(()=>{var r;!t&&(null==(r=e.gifs)?void 0:r.allowSending)&&(0,P.RO)(ep.X1.GIF,e,n)},[t,e,n]),o=i.useCallback(()=>{var r;!t&&(null==(r=e.stickers)?void 0:r.allowSending)&&(0,P.RO)(ep.X1.STICKER,e,n)},[t,e,n]);(0,z.yp)({event:ed.CkL.TOGGLE_EMOJI_POPOUT,handler:r}),(0,z.yp)({event:ed.CkL.TOGGLE_GIF_PICKER,handler:a}),(0,z.yp)({event:ed.CkL.TOGGLE_STICKER_PICKER,handler:o})}"},{"code":"function eL(e,t,n){let[r,a,o]=(0,P.Iu)(e=>[e.activeView,e.activeViewType,e.activeChannelId],u.X),s=(0,p.e7)([O.Z],()=>O.Z.shouldShowPopup()&&O.Z.activeViewType()===e&&O.Z.activeChannelId()===n);i.useEffect(()=>()=>{(0,P._Q)(e,n)},[e,n]);let l=i.useCallback(()=>{var e;null!=r||s||null==(e=t.current)||e.handleOuterClick()},[r,s,t]),c=null==r||null==a||a!==e||o!==n;return{expressionPickerView:r,shouldHideExpressionPicker:c,handleOuterClick:l}}"},{"code":"function ew(){let e=i.useRef(null),t=i.useCallback(()=>{var t;null==(t=e.current)||t.onMaybeShowAutocomplete()},[]),n=i.useCallback(()=>{var t;null==(t=e.current)||t.onHideAutocomplete()},[]);return{autocompleteRef:e,handleMaybeShowAutocomplete:t,handleHideAutocomplete:n}}"},{"code":"function eD(e){let[t,n]=i.useState(0);return{editorHeight:t,handleResize:i.useCallback(t=>{n(null!=t?t:0),null==e||e(t)},[e])}}"},{"code":"function eR(e){let t=i.useRef(null);if(null!=e&&\"function\"==typeof e)throw Error(\"Only Ref objects are supported\");return null==e?t:e}"},{"code":"(e,t)=>{let{enabled:n}=(0,x.zM)(\"ChannelTextAreaContainer\",{autoTrackExposure:!1}),[r,a]=i.useState(null);return{currentAutocompleteType:r,handleAutocompleteVisibilityChange:i.useCallback((r,i)=>{n&&a(i),r&&(0,P._Q)(e,t)},[n,e,t])}}"},{"code":"function eP(e,t,n){let[r]=i.useState(()=>new s.EventEmitter);i.useEffect(()=>{r.emit(\"text-changed\",t,n)},[t,n,r]);let a=t=>{null!=e.current&&r.emit(\"selection-changed\",t)};return{eventEmitter:r,handleEditorSelectionChanged:a}}"}]