[{"code":"function e(t,n,o){var l=this;u(this,e),p(this,\"options\",void 0),p(this,\"actions\",void 0),p(this,\"monitor\",void 0),p(this,\"registry\",void 0),p(this,\"enterLeaveCounter\",void 0),p(this,\"sourcePreviewNodes\",new Map),p(this,\"sourcePreviewNodeOptions\",new Map),p(this,\"sourceNodes\",new Map),p(this,\"sourceNodeOptions\",new Map),p(this,\"dragStartSourceIds\",null),p(this,\"dropTargetIds\",[]),p(this,\"dragEnterTargetIds\",[]),p(this,\"currentNativeSource\",null),p(this,\"currentNativeHandle\",null),p(this,\"currentDragSourceNode\",null),p(this,\"altKeyPressed\",!1),p(this,\"mouseMoveTimeoutTimer\",null),p(this,\"asyncEndDragFrameId\",null),p(this,\"dragOverTargetIds\",null),p(this,\"getSourceClientOffset\",function(e){var t=l.sourceNodes.get(e);return t&&(0,i.Dg)(t)||null}),p(this,\"endDragNativeItem\",function(){l.isDraggingNativeItem()&&(l.actions.endDrag(),l.currentNativeHandle&&l.registry.removeSource(l.currentNativeHandle),l.currentNativeHandle=null,l.currentNativeSource=null)}),p(this,\"isNodeInDocument\",function(e){return!!(e&&l.document&&l.document.body&&l.document.body.contains(e))}),p(this,\"endDragIfSourceWasRemovedFromDOM\",function(){var e=l.currentDragSourceNode;!(null==e||l.isNodeInDocument(e))&&l.clearCurrentDragSourceNode()&&l.monitor.isDragging()&&l.actions.endDrag()}),p(this,\"handleTopDragStartCapture\",function(){l.clearCurrentDragSourceNode(),l.dragStartSourceIds=[]}),p(this,\"handleTopDragStart\",function(e){if(!e.defaultPrevented){var t=l.dragStartSourceIds;l.dragStartSourceIds=null;var n=(0,i.b$)(e);l.monitor.isDragging()&&l.actions.endDrag(),l.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:l.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,o=(0,a.c)(r);if(l.monitor.isDragging()){if(r&&\"function\"==typeof r.setDragImage){var s=l.monitor.getSourceId(),c=l.sourceNodes.get(s),u=l.sourcePreviewNodes.get(s)||c;if(u){var d=l.getCurrentSourcePreviewNodeOptions(),f=d.anchorX,p=d.anchorY,_=d.offsetX,h=d.offsetY,m={anchorX:f,anchorY:p},g={offsetX:_,offsetY:h},E=(0,i.yA)(c,u,n,m,g);r.setDragImage(u,E.x,E.y)}}try{null==r||r.setData(\"application/json\",{})}catch(e){}l.setCurrentDragSourceNode(e.target),l.getCurrentSourcePreviewNodeOptions().captureDraggingState?l.actions.publishDragSource():setTimeout(function(){return l.actions.publishDragSource()},0)}else if(o)l.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute(\"draggable\")))return;e.preventDefault()}}}),p(this,\"handleTopDragEndCapture\",function(){l.clearCurrentDragSourceNode()&&l.monitor.isDragging()&&l.actions.endDrag()}),p(this,\"handleTopDragEnterCapture\",function(e){if(l.dragEnterTargetIds=[],!(!l.enterLeaveCounter.enter(e.target)||l.monitor.isDragging())){var t=e.dataTransfer,n=(0,a.c)(t);n&&l.beginDragNativeItem(n,t)}}),p(this,\"handleTopDragEnter\",function(e){var t=l.dragEnterTargetIds;if(l.dragEnterTargetIds=[],l.monitor.isDragging()){l.altKeyPressed=e.altKey,t.length>0&&l.actions.hover(t,{clientOffset:(0,i.b$)(e)});var n=t.some(function(e){return l.monitor.canDropOnTarget(e)});n&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=l.getCurrentDropEffect()))}}),p(this,\"handleTopDragOverCapture\",function(){l.dragOverTargetIds=[]}),p(this,\"handleTopDragOver\",function(e){var t=l.dragOverTargetIds;if(l.dragOverTargetIds=[],!l.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=\"none\");return}l.altKeyPressed=e.altKey,l.actions.hover(t||[],{clientOffset:(0,i.b$)(e)}),(t||[]).some(function(e){return l.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=l.getCurrentDropEffect())):l.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=\"none\"))}),p(this,\"handleTopDragLeaveCapture\",function(e){l.isDraggingNativeItem()&&e.preventDefault(),l.enterLeaveCounter.leave(e.target)&&l.isDraggingNativeItem()&&setTimeout(function(){return l.endDragNativeItem()},0)}),p(this,\"handleTopDropCapture\",function(e){if(l.dropTargetIds=[],l.isDraggingNativeItem()){var t;e.preventDefault(),null==(t=l.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}else(0,a.c)(e.dataTransfer)&&e.preventDefault();l.enterLeaveCounter.reset()}),p(this,\"handleTopDrop\",function(e){var t=l.dropTargetIds;l.dropTargetIds=[],l.actions.hover(t,{clientOffset:(0,i.b$)(e)}),l.actions.drop({dropEffect:l.getCurrentDropEffect()}),l.isDraggingNativeItem()?l.endDragNativeItem():l.monitor.isDragging()&&l.actions.endDrag()}),p(this,\"handleSelectStart\",function(e){var t=e.target;\"function\"!=typeof t.dragDrop||\"INPUT\"===t.tagName||\"SELECT\"===t.tagName||\"TEXTAREA\"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())}),this.options=new s.s(n,o),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new r.C(this.isNodeInDocument)}"}]