[{"code":"function ee(e){let{subscriptionTier:t,initialPlanId:n,handleStepChange:a,referralTrialOfferId:s,handleClose:o,continueSessionToInitialStep:c}=e,{activeSubscription:u,blockedPayments:f,hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g,selectedSkuId:E,setSelectedPlanId:y,defaultPlanId:b,startedPaymentFlowWithPaymentSourcesRef:O,hasPaymentSources:v}=(0,x.P5)(),{isGift:A}=(0,D.Pv)(),I=O.current,S=(0,U.A)({isGift:A,skuId:E,referralTrialOfferId:s}),[T,C]=i.useState(!0),R=(0,l.bG)([N.A],()=>N.A.applicationIdsFetched.has(Y.tv));return(i.useEffect(()=>{C(!p||!h||g)},[g,h,p]),(0,_.A)(\"Payment Modal\",T,5,{hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g},{tags:{app_context:$}}),i.useEffect(()=>{if(R||(0,d.LM)(Y.tv),T||f)return;let e=(0,k.vT)({isTrial:S,isGift:A,selectedSkuId:E,startedPaymentFlowWithPaymentSources:I});null!=c?a(L.pn.ADD_PAYMENT_STEPS,{emitPaymentFlowLoadedEvent:!0,trackedFromStep:c}):null!=n?n!==Y.gD.PREMIUM_GROUP_MONTH||v?a(L.pn.REVIEW):a(L.pn.ADD_PAYMENT_STEPS):e?(y((0,k.xT)(E,u,b)),a(L.pn.REVIEW)):null!=t?a(L.pn.PLAN_SELECT):a(L.pn.SKU_SELECT)},[c,u,f,R,n,T,a,t,E,y,S,b,A,I,v]),T)?(0,r.jsx)(F.A,{}):f?(0,r.jsx)(m.oO,{onClose:o}):null}"}]