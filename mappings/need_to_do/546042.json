[{"code":"function ee(e){let{subscriptionTier:t,initialPlanId:n,handleStepChange:a,referralTrialOfferId:o,handleClose:s,continueSessionToInitialStep:c}=e,{activeSubscription:u,blockedPayments:f,hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g,selectedSkuId:E,setSelectedPlanId:y,defaultPlanId:b,startedPaymentFlowWithPaymentSourcesRef:O,hasPaymentSources:v}=(0,L.P5)(),{isGift:A}=(0,D.Pv)(),I=O.current,S=(0,U.A)({isGift:A,skuId:E,referralTrialOfferId:o}),[T,C]=i.useState(!0),w=(0,l.bG)([N.A],()=>N.A.applicationIdsFetched.has(Y.tv));return(i.useEffect(()=>{C(!p||!h||g)},[g,h,p]),(0,_.A)(\"Payment Modal\",T,5,{hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g},{tags:{app_context:J}}),i.useEffect(()=>{if(w||(0,d.LM)(Y.tv),T||f)return;let e=(0,k.vT)({isTrial:S,isGift:A,selectedSkuId:E,startedPaymentFlowWithPaymentSources:I});null!=c?a(x.pn.ADD_PAYMENT_STEPS,{emitPaymentFlowLoadedEvent:!0,trackedFromStep:c}):null!=n?n!==Y.gD.PREMIUM_GROUP_MONTH||v?a(x.pn.REVIEW):a(x.pn.ADD_PAYMENT_STEPS):e?(y((0,k.xT)(E,u,b)),a(x.pn.REVIEW)):null!=t?a(x.pn.PLAN_SELECT):a(x.pn.SKU_SELECT)},[c,u,f,w,n,T,a,t,E,y,S,b,A,I,v]),T)?(0,r.jsx)(V.A,{}):f?(0,r.jsx)(m.oO,{onClose:s}):null}"}]