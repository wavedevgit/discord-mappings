[{"code":"function ee(e){let{subscriptionTier:t,initialPlanId:n,handleStepChange:a,referralTrialOfferId:s,handleClose:o,continueSessionToInitialStep:c}=e,{activeSubscription:u,blockedPayments:f,hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g,selectedSkuId:E,setSelectedPlanId:b,defaultPlanId:y,startedPaymentFlowWithPaymentSourcesRef:O,hasPaymentSources:A}=(0,x.P5)(),{isGift:v}=(0,D.Pv)(),S=O.current,I=(0,U.A)({isGift:v,skuId:E,referralTrialOfferId:s}),[T,C]=i.useState(!0),R=(0,l.bG)([N.A],()=>N.A.applicationIdsFetched.has(Y.tv));return(i.useEffect(()=>{C(!p||!h||g)},[g,h,p]),(0,_.A)(\"Payment Modal\",T,5,{hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g},{tags:{app_context:$}}),i.useEffect(()=>{if(R||(0,d.LM)(Y.tv),T||f)return;let e=(0,k.vT)({isTrial:I,isGift:v,selectedSkuId:E,startedPaymentFlowWithPaymentSources:S});null!=c?a(L.pn.ADD_PAYMENT_STEPS,{emitPaymentFlowLoadedEvent:!0,trackedFromStep:c}):null!=n?n!==Y.gD.PREMIUM_GROUP_MONTH||A?a(L.pn.REVIEW):a(L.pn.ADD_PAYMENT_STEPS):e?(b((0,k.xT)(E,u,y)),a(L.pn.REVIEW)):null!=t?a(L.pn.PLAN_SELECT):a(L.pn.SKU_SELECT)},[c,u,f,R,n,T,a,t,E,b,I,y,v,S,A]),T)?(0,r.jsx)(F.A,{}):f?(0,r.jsx)(m.oO,{onClose:o}):null}"}]