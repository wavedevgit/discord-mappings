[{"code":"function g(e,t,n){var r;let{context:l,commandTypes:m,allowNsfw:g,computedPermissions:v,userId:S,roleIds:I,isImpersonating:T,hasBaseAccessPermissions:C}=t,{applicationAllowedForUser:A,applicationAllowedForChannel:N,isGuildInstalled:P,isUserInstalled:w,commandBotId:R}=n;if(!m.includes(e.type))return 2;if(e.nsfw&&!g)return 1;let D=null!=l?(0,p.Vh)(l,R):void 0;if(null!=e.contexts){if(null!=D&&!e.contexts.includes(D))return 4}else if(e.inputType===d.iw.BOT&&(!1===e.dmPermission&&D===s.D.BOT_DM||D===s.D.PRIVATE_CHANNEL))return 4;if(null!=e.predicate&&l instanceof c.Sf){let t=u.Z.getGuild(l.guild_id);if(!e.predicate({channel:l,guild:t}))return 3}if(e.applicationId===_.bi.BUILT_IN)return 0;let x=null!=l?(0,p.ny)(l):void 0;if(null==x||o.e$(v,h.Plq.ADMINISTRATOR)||w&&(null==(r=e.integration_types)?void 0:r.includes(a.Y.USER_INSTALL)))return 0;if(!C&&P&&(null==e.integration_types||e.integration_types.includes(a.Y.GUILD_INSTALL)))return 5;if(l instanceof c.Sf){i()(void 0!==N,\"missing applicationAllowedForChannel\");let t=y(e.permissions,l,x);if(b(t)||!E(t)&&b(N))return 6}let L=O(e.permissions,x,S,I,T);if(E(L))return 0;if(b(L)||b(A))return 7;if(null!=e.defaultMemberPermissions&&!(!o.fS(e.defaultMemberPermissions,f.BO)&&o.e$(v,e.defaultMemberPermissions)))return 7;return 0}"},{"code":"function O(e,t,n,r,i){if(null==e)return null;if(!i){let t=e[(0,l.rE)(n,d.Kw.USER)];if(null!=t)return t.permission}let a=!1;for(let t of r){let n=e[(0,l.rE)(t,d.Kw.ROLE)];if(null!=n){if(n.permission)return!0;a=!0}}if(a)return!1;let o=null!=t?e[(0,l.rE)(t,d.Kw.ROLE)]:null;return null!=o?o.permission:null}"},{"code":"function y(e,t,n){if(null==e)return null;let r=t.id;if(t.isThread()){var i;r=null!=(i=t.parent_id)?i:t.id}let a=e[(0,l.rE)(r,d.Kw.CHANNEL)];if(null!=a)return a.permission;let o=e[(0,l.rE)((0,f.bD)(n),d.Kw.CHANNEL)];return null!=o?o.permission:null}"}]