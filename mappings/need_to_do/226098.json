[{"code":"function A(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:o,onPressUp:s,onClick:l,isDisabled:u,isPressed:v,preventFocusOnPress:A,shouldCancelOnPointerExit:R,allowTextSelectionOnPress:x,ref:L,...j}=O(e),[M,k]=(0,y.useState)(!1),U=(0,y.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:G,removeAllGlobalListeners:Z}=(0,d.x)(),F=(0,f.i)((e,t)=>{let r=U.current;if(u||r.didFirePressStart)return!1;let i=!0;if(r.isTriggeringEvent=!0,a){let n=new S(\"pressstart\",t,e);a(n),i=n.shouldStopPropagation}return n&&n(!0),r.isTriggeringEvent=!1,r.didFirePressStart=!0,k(!0),i}),B=(0,f.i)((e,r,i=!0)=>{let a=U.current;if(!a.didFirePressStart)return!1;a.didFirePressStart=!1,a.isTriggeringEvent=!0;let s=!0;if(o){let t=new S(\"pressend\",r,e);o(t),s=t.shouldStopPropagation}if(n&&n(!1),k(!1),t&&i&&!u){let n=new S(\"press\",r,e);t(n),s&&(s=n.shouldStopPropagation)}return a.isTriggeringEvent=!1,s}),V=(0,f.i)((e,t)=>{let n=U.current;if(u)return!1;if(s){n.isTriggeringEvent=!0;let r=new S(\"pressup\",t,e);return s(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),H=(0,f.i)(e=>{let t=U.current;if(t.isPressed&&t.target){for(let n of(t.didFirePressStart&&null!=t.pointerType&&B(w(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,Z(),x||(0,i.A)(t.target),t.disposables))n();t.disposables=[]}}),Y=(0,f.i)(e=>{R&&H(e)}),W=(0,f.i)(e=>{u||null==l||l(e)}),K=(0,f.i)((e,t)=>{if(!u&&l){let n=new MouseEvent(\"click\",e);(0,r.nh)(n,t),l((0,r.yA)(n))}}),z=(0,y.useMemo)(()=>{let e=U.current,t={onKeyDown(t){if(P(t.nativeEvent,t.currentTarget)&&(0,p.bE)(t.currentTarget,(0,p.NI)(t.nativeEvent))){var r;D((0,p.NI)(t.nativeEvent),t.key)&&t.preventDefault();let i=!0;if(!e.isPressed&&!t.repeat){e.target=t.currentTarget,e.isPressed=!0,e.pointerType=\"keyboard\",i=F(t,\"keyboard\");let r=t.currentTarget,a=t=>{P(t,r)&&!t.repeat&&(0,p.bE)(r,(0,p.NI)(t))&&e.target&&V(w(e.target,t),\"keyboard\")};G((0,_.r3)(t.currentTarget),\"keyup\",(0,h.t)(a,n),!0)}i&&t.stopPropagation(),t.metaKey&&(0,m.V5)()&&(null==(r=e.metaKeyEvents)||r.set(t.key,t.nativeEvent))}else\"Meta\"===t.key&&(e.metaKeyEvents=new Map)},onClick(t){if((!t||(0,p.bE)(t.currentTarget,(0,p.NI)(t.nativeEvent)))&&t&&0===t.button&&!e.isTriggeringEvent&&!g.nG.isOpening){let n=!0;if(u&&t.preventDefault(),!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(\"virtual\"===e.pointerType||(0,E.Z)(t.nativeEvent))){let e=F(t,\"virtual\"),r=V(t,\"virtual\"),i=B(t,\"virtual\");W(t),n=e&&r&&i}else if(e.isPressed&&\"keyboard\"!==e.pointerType){let r=e.pointerType||t.nativeEvent.pointerType||\"virtual\",i=V(w(t.currentTarget,t),r),a=B(w(t.currentTarget,t),r,!0);n=i&&a,e.isOverTarget=!1,W(t),H(t)}e.ignoreEmulatedMouseEvents=!1,n&&t.stopPropagation()}}},n=t=>{var n,r,i;if(e.isPressed&&e.target&&P(t,e.target)){D((0,p.NI)(t),t.key)&&t.preventDefault();let n=(0,p.NI)(t),i=(0,p.bE)(e.target,(0,p.NI)(t));B(w(e.target,t),\"keyboard\",i),i&&K(t,e.target),Z(),\"Enter\"!==t.key&&N(e.target)&&(0,p.bE)(e.target,n)&&!t[I]&&(t[I]=!0,(0,g.nG)(e.target,t,!1)),e.isPressed=!1,null==(r=e.metaKeyEvents)||r.delete(t.key)}else if(\"Meta\"===t.key&&(null==(n=e.metaKeyEvents)?void 0:n.size)){let t=e.metaKeyEvents;for(let n of(e.metaKeyEvents=void 0,t.values()))null==(i=e.target)||i.dispatchEvent(new KeyboardEvent(\"keyup\",n))}};if(\"undefined\"!=typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!(0,p.bE)(t.currentTarget,(0,p.NI)(t.nativeEvent)))return;if((0,E.c)(t.nativeEvent)){e.pointerType=\"virtual\";return}e.pointerType=t.pointerType;let r=!0;if(!e.isPressed){e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,x||(0,i.l)(e.target),r=F(t,e.pointerType);let o=(0,p.NI)(t.nativeEvent);\"releasePointerCapture\"in o&&o.releasePointerCapture(t.pointerId),G((0,_.r3)(t.currentTarget),\"pointerup\",n,!1),G((0,_.r3)(t.currentTarget),\"pointercancel\",a,!1)}r&&t.stopPropagation()},t.onMouseDown=t=>{if((0,p.bE)(t.currentTarget,(0,p.NI)(t.nativeEvent))&&0===t.button){if(A){let n=(0,r.WZ)(t.target);n&&e.disposables.push(n)}t.stopPropagation()}},t.onPointerUp=t=>{(0,p.bE)(t.currentTarget,(0,p.NI)(t.nativeEvent))&&\"virtual\"!==e.pointerType&&(0!==t.button||e.isPressed||V(t,e.pointerType||t.pointerType))},t.onPointerEnter=t=>{t.pointerId===e.activePointerId&&e.target&&!e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!0,F(w(e.target,t),e.pointerType))},t.onPointerLeave=t=>{t.pointerId===e.activePointerId&&e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,B(w(e.target,t),e.pointerType,!1),Y(t))};let n=t=>{if(t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target){if((0,p.bE)(e.target,(0,p.NI)(t))&&null!=e.pointerType){let n=!1,r=setTimeout(()=>{e.isPressed&&e.target instanceof HTMLElement&&(n?H(t):((0,b.A)(e.target),e.target.click()))},80);G(t.currentTarget,\"click\",()=>n=!0,!0),e.disposables.push(()=>clearTimeout(r))}else H(t);e.isOverTarget=!1}},a=e=>{H(e)};t.onDragStart=e=>{(0,p.bE)(e.currentTarget,(0,p.NI)(e.nativeEvent))&&H(e)}}return t},[G,u,A,Z,x,H,Y,B,F,V,W,K]);return(0,y.useEffect)(()=>{if(!L)return;let e=(0,_.r3)(L.current);if(!e||!e.head||e.getElementById(T))return;let t=e.createElement(\"style\");t.id=T,t.textContent=`\n@layer {\n  [${C}] {\n    touch-action: pan-x pan-y pinch-zoom;\n  }\n}\n    `.trim(),e.head.prepend(t)},[L]),(0,y.useEffect)(()=>{let e=U.current;return()=>{var t;for(let n of(x||(0,i.A)(null!=(t=e.target)?t:void 0),e.disposables))n();e.disposables=[]}},[x]),{isPressed:v||M,pressProps:(0,c.d)(j,z,{[C]:!0})}}"}]