[{"code":"e=>{let{skuId:t,analyticsLocations:n,analyticsSourceLocation:r,orbProductContext:a,onClose:o}=e,{emitOrbCheckoutPaymentFlowEvent:s}=(0,v.S)({skuId:t,orbProductContext:a,analyticsLocations:n,analyticsSourceLocation:r});return{analyticsDataOverride:(0,i.useMemo)(()=>{var e,t;if(null!=a)return{price:null!=(e=a.orbPriceAmount)?e:void 0,regular_price:null!=(t=a.orbPriceAmount)?t:void 0,currency:I.pKx.DISCORD_ORB}},[a]),onClose:(0,i.useCallback)(async e=>{e||s(I.rMx.PAYMENT_FLOW_CANCELED),await o()},[o,s])}}"},{"code":"e=>{let{handleClose:t}=e,{purchaseState:n}=(0,f.JL)();(0,i.useEffect)(()=>{n===_.A.COMPLETED&&t()},[n,t])}"},{"code":"e=>{var{skuId:t,loadId:n,onCheckoutSuccess:i,analyticsSourceLocation:a,analyticsLocations:o=[],rentalDuration:s}=e,l=N(e,[\"skuId\",\"loadId\",\"onCheckoutSuccess\",\"analyticsSourceLocation\",\"analyticsLocations\",\"rentalDuration\"]);return(0,r.jsx)(f.PaymentContextProvider,{applicationId:(0,b.Nb)(t),activeSubscription:null,loadId:n,stepConfigs:L,purchaseType:I.GZQ.ONE_TIME,skuIDs:[t],paymentGateway:I.gg$.VIRTUAL_CURRENCY,excludeSubscriptionPlansBySKU:!0,excludeSKUPurchasePreviews:!0,children:(0,r.jsx)(O.dv,{skuId:t,loadId:n,onCheckoutSuccess:i,analyticsLocations:o,analyticsSourceLocation:a,rentalDuration:s,children:(0,r.jsx)(d.b6,{children:(0,r.jsx)(k,A({skuId:t,analyticsLocations:o},l))})})})}"},{"code":"e=>{var t;let{skuId:n,onRedeemVirtualCurrency:r,orbRedemptionError:a,orbProductContext:l,analyticsLocations:d,analyticsSourceLocation:p}=e,{selectedSkuId:h,setPurchaseState:m}=(0,f.JL)(),{product:g}=(0,c.T)(h),E=(0,y.cR)(),b=(0,i.useRef)(E),{emitOrbCheckoutPaymentFlowEvent:O}=(0,v.S)({skuId:n,orbProductContext:l,analyticsLocations:d,analyticsSourceLocation:p});(0,s.ZP)(()=>{O(I.rMx.PAYMENT_FLOW_LOADED)}),(0,i.useEffect)(()=>{null!=a&&null!==b.current&&(O(I.rMx.PAYMENT_FLOW_FAILED,a),b.current=null)},[a,O]);let S=(0,i.useCallback)(()=>{b.current=E,O(I.rMx.PAYMENT_FLOW_COMPLETED),r(()=>{m(_.A.COMPLETED),O(I.rMx.PAYMENT_FLOW_SUCCEEDED)})},[r,m,E,O]),C=null!=(t=b.current)?t:E,A=null!=l?l.orbPriceAmount:null;return{isStepLoading:null==h||null==g,showCollectiblesDiscountWarning:(0,u.N3)({skuId:n,isOrbsPurchase:!0}),errorMessage:(0,i.useMemo)(()=>null==a?null:a.code===o.SM.VIRTUAL_CURRENCY_INSUFFICIENT_BALANCE?T.intl.string(T.t.keFvXM):a.code===o.SM.ALREADY_PURCHASED?T.intl.string(T.t.m371Mx):T.intl.string(T.t.fqJZ11),[a]),orbPriceAmount:A,orbBalanceToDisplay:C,onClickCheckout:S,selectedSkuId:h,product:g}}"}]