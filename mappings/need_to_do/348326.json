[{"code":"class o{get prefix(){return this.table.prefix}withoutLogging(){return new o(this.originalPrefix,this.table.tableId,this.table.database,!1)}get(e,t){return this.table.get([e,t])}getMany(e,t){return this.table.getMany([e],t)}getRange(e,t,n,r){return this.table.getRange([e,t],[e,n],r)}getKvEntries(){return this.table.getKvEntries()}getMapEntries(){return this.table.getMapEntries()}getIds(e){return this.table.getChildIds([e])}getGuildIds(){return this.table.getChildIds([])}getGuildId(e){return this.table.getParentId([null,e])}put(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Sn.Replace;return this.putWithGeneration(e,t,n,null,i)}putWithGeneration(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.Sn.Replace;return this.table.put({key:[e,t],data:n,generation:i},a)}delete(e,t){switch(arguments.length){case 0:return this.table.delete([]);case 1:return this.table.delete([e]);default:return this.table.delete([e,t])}}deleteGeneration(e,t){return this.table.deleteGeneration([],e,t)}transaction(e,t){return this.table.transaction(t=>e(new s(t)),t)}upgradeTransaction(e){return new s(this.table.upgradeTransaction(e))}getManySyncUnsafe(e,t){return this.table.getManySyncUnsafe([e],t)}getMapEntriesSyncUnsafe(){return this.table.getMapEntriesSyncUnsafe()}constructor(e,t,n,r=!0){a(this,\"originalPrefix\",void 0),a(this,\"table\",void 0),this.originalPrefix=e,this.table=new i.i([e],t,n,r)}}"},{"code":"class o{get prefix(){return this.table.prefix}withoutLogging(){return new o(this.originalPrefix,this.table.tableId,this.table.database,!1)}get(e){return this.table.get([e])}getMany(e){return this.table.getMany([],e)}getRange(e,t,n){return this.table.getRange([e],[t],n)}getKvEntries(){return this.table.getKvEntries()}getMapEntries(){return this.table.getMapEntries()}getIds(){return this.table.getChildIds([])}getParentId(e){return this.table.getParentId([null,e])}put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Sn.Replace;return this.transaction(n=>n.put(e,t),\"\".concat(this.prefix,\" put\"))}putAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Sn.Replace;return this.transaction(n=>n.putAll(e,t),\"\".concat(this.prefix,\" putAll\"))}replaceAll(e){return this.transaction(t=>t.replaceAll(e),\"\".concat(this.prefix,\" replaceAll\"))}delete(e){return this.transaction(t=>t.delete(e),\"\".concat(this.prefix,\" delete\"))}transaction(e,t){return this.table.transaction(t=>e(new s(t)),t)}upgradeTransaction(e){return new s(this.table.upgradeTransaction(e))}getManySyncUnsafe(e){return this.table.getManySyncUnsafe([],e)}getMapEntriesSyncUnsafe(){return this.table.getMapEntriesSyncUnsafe()}static cell(e,t){return{key:[e.id],data:e,generation:t}}constructor(e,t,n,r=!0){a(this,\"originalPrefix\",void 0),a(this,\"table\",void 0),this.originalPrefix=e,this.table=new i.i([e],t,n,r)}}"},{"code":"class o{get prefix(){return this.table.prefix}withoutLogging(){return new o(this.originalPrefix,this.table.tableId,this.table.database,!1)}get(e,t){return this.table.get([e,t])}getMany(e,t){return this.table.getMany([e],t)}getRange(e,t,n,r){return this.table.getRange([e,t],[e,n],r)}getKvEntries(){return this.table.getKvEntries()}getMapEntries(){return this.table.getMapEntries()}getIds(e){return this.table.getChildIds([e])}getGuildIds(){return this.table.getChildIds([])}getGuildId(e){return this.table.getParentId([null,e])}put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Sn.Replace;return this.transaction(r=>r.put(e,t,n),\"\".concat(this.prefix,\" put\"))}putAll(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Sn.Replace;return this.transaction(r=>r.putAll(e,t,n),\"\".concat(this.prefix,\" putAll\"))}replaceAll(e,t){return this.transaction(n=>n.replaceAll(e,t),\"\".concat(this.prefix,\" replaceAll\"))}delete(e,t){return this.transaction(n=>n.delete(e,t),\"\".concat(this.prefix,\" delete\"))}deleteGeneration(e,t){return this.transaction(n=>n.deleteGeneration(e,t),\"\".concat(this.prefix,\" deleteGeneration\"))}transaction(e,t){return this.table.transaction(t=>e(new s(t)),t)}upgradeTransaction(e){return new s(this.table.upgradeTransaction(e))}getManySyncUnsafe(e,t){return this.table.getManySyncUnsafe([e],t)}getMapEntriesSyncUnsafe(){return this.table.getMapEntriesSyncUnsafe()}static cell(e,t,n){return{key:[e,t.id],data:t,generation:n}}constructor(e,t,n,r=!0){a(this,\"originalPrefix\",void 0),a(this,\"table\",void 0),this.originalPrefix=e,this.table=new i.i([e],t,n,r)}}"},{"code":"class o{get prefix(){return this.table.prefix}withoutLogging(){return new o(this.originalPrefix,this.table.tableId,this.table.database,!1)}get(e){return this.table.get([e])}getMany(e){return this.table.getMany([],e)}getRange(e,t,n){return this.table.getRange([e],[t],n)}getKvEntries(){return this.table.getKvEntries()}getMapEntries(){return this.table.getMapEntries()}getIds(){return this.table.getChildIds([])}getParentId(e){return this.table.getParentId([null,e])}put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Sn.Replace;return this.table.put({key:[e],data:t,generation:null},n)}delete(e){return 0==arguments.length?this.table.delete():this.table.delete([e])}transaction(e,t){return this.table.transaction(t=>e(new s(t)),t)}upgradeTransaction(e){return new s(this.table.upgradeTransaction(e))}getManySyncUnsafe(e){return this.table.getManySyncUnsafe([],e)}getMapEntriesSyncUnsafe(){return this.table.getMapEntriesSyncUnsafe()}constructor(e,t,n,r=!0){a(this,\"originalPrefix\",void 0),a(this,\"table\",void 0),this.originalPrefix=e,this.table=new i.i([e],t,n,r)}}"},{"code":"class o{get prefix(){return this.table.prefix}withoutLogging(){return new o(this.originalPrefix,this.table.tableId,this.table.database,!1)}get(e,t,n){return this.table.get([e,t,c(n)])}getLatest(e,t,n){return this.table.getMany([e,t],{ordering:r.Sk.Descending,limit:n})}getRange(e,t,n,r,i){return this.table.getRange([e,t,c(n)],[e,t,c(r)],i)}getMostRecents(e){return this.table.messages.getLatest(e)}put(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Sn.Replace;return this.table.put(l(e,t,n),i)}putAll(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.Sn.Replace,a=n.map(n=>l(e,t,n));return this.table.putAll(a,i)}deleteAll(){return this.table.delete()}deleteGuild(e){return this.table.delete([e])}deleteChannel(e,t){return this.table.delete([e,t])}deleteMessage(e,t,n){return this.table.delete([e,t,c(n)])}transaction(e,t){return this.table.transaction(t=>e(new s(t)),t)}upgradeTransaction(e){return new s(this.table.upgradeTransaction(e))}constructor(e,t,n,r=!0){a(this,\"originalPrefix\",void 0),a(this,\"table\",void 0),this.originalPrefix=e,this.table=new i.i([e],t,n,r)}}"},{"code":"class d{static async open(e,t){return new d(await i.A.open(e,t))}static openSyncUnsafe(e,t){return new d(i.A.openSyncUnsafe(e,t))}static delete(e){return i.A.delete(e)}close(){var e;this.lastState=o.hi.Closed,null==(e=this.raw)||e.close(),this.raw=null,a.r.removeCompletionCallback(this.databaseStateCallback)}disable(e){return null==this.raw?Promise.resolve():(this.lastState=o.hi.Disabled,this.execute({type:\"db.disable\",handle:0,reason:e}))}execute(e,t){if(null==this.raw)throw Error(\"database is no longer open (database: \".concat(this));let n=\"key\"in e?e.key[0]:e.table,i=()=>a.r.executeAsync(null!=t?t:e.type,t=>{this.raw.execute(t,u(l({},e),{handle:0}))});return null===t?i():r.Z.timeAsync(\"\\uD83D\\uDCBE\",\"\".concat(null!=t?t:e.type,\" \").concat(null!=n?n:\"\"),i)}executeSync(e){if(null==this.raw)throw Error(\"database is no longer open (database: \".concat(this));let t=\"key\"in e?e.key[0]:e.table;return r.Z.time(\"\\uD83D\\uDCBE\",\"SYNC: \".concat(e.type,\" \").concat(null!=t?t:\"\"),()=>this.raw.execute(null,u(l({},e),{handle:0}),{synchronous:!0}))}fullVacuum(){return this.execute({type:\"db.vacuum\",handle:0,complete:!0})}fsInfo(){return this.execute({type:\"db.fs_info\",handle:0})}incrementalVacuum(){return this.execute({type:\"db.vacuum\",handle:0,complete:!1})}instantaneousState(){return null==this.raw?o.hi.Closed:this.lastState=this.executeSync({type:\"db.state\"})}async instantaneousStateAsync(){return null==this.raw?o.hi.Closed:this.lastState=await this.execute({type:\"db.state\"})}state(){return this.lastState}transaction(e,t){let n=new f(this);return Promise.resolve(e(n)).then(()=>n.operations.length>0?this.execute({type:\"db.transaction\",operations:n.complete()},t):Promise.resolve())}constructor(e){s(this,\"name\",void 0),s(this,\"handle\",void 0),s(this,\"raw\",void 0),s(this,\"lastState\",void 0),s(this,\"databaseStateCallback\",void 0),this.raw=e,this.name=e.name,this.lastState=o.hi.Open,this.handle=e.handle,this.databaseStateCallback=a.r.addDatabaseStateCallback((e,t)=>{this.handle===e&&(this.lastState=t)})}}"}]