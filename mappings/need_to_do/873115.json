[{"code":"function m(){let e=a.Z.getClient();if(null==e)throw Error(\"braintree client must be initialized before calling this\");(0,s.S)().then(t=>{t.paypal.create({client:e}).then(e=>{if(null==e._navigateFrameToAuth)throw Error(\"braintree client missing _navigateFrameToAuth. did someone upgrade the braintree library?\");e._navigateFrameToAuth=function(e){let t=this._formatPaymentResourceData(e);return r.tn.post({url:u.ANM.BILLING_PAYPAL_BILLING_AGREEMENT_TOKENS,oldFormErrors:!0,body:{return_url:t.returnUrl,cancel_url:t.cancelUrl},rejectWithError:!1}).then(e=>{let{body:{token:t}}=e;this._frameService.redirect(p(t))}).catch(e=>(this._frameService.close(),this._authorizationInProgress=!1,Promise.reject(Error(e.body&&e.body.message))))},i.Z.dispatch({type:\"BRAINTREE_CREATE_PAYPAL_CLIENT_SUCCESS\",paypalClient:e})}).catch(()=>i.Z.dispatch({type:\"BRAINTREE_CREATE_PAYPAL_CLIENT_FAIL\"}))})}"},{"code":"function y(){return b(a.Z.getPayPalClient(),{type:\"BRAINTREE_TEARDOWN_PAYPAL_CLIENT\"})}"},{"code":"function O(){return b(a.Z.getVenmoClient(),{type:\"BRAINTREE_TEARDOWN_VENMO_CLIENT\"})}"},{"code":"function E(){let e=a.Z.getVenmoClient();if(null==e)throw Error(\"Braintree Venmo client must be initialized before calling tokenize.\");i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_VENMO_START\"}),e.tokenize().then(e=>{let{username:t}=e.details;i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_VENMO_SUCCESS\",nonce:e.nonce,username:t})}).catch(e=>{let{message:t,code:n,details:r}=e;[u.U66.VENMO_APP_CANCELED,u.U66.VENMO_DESKTOP_CANCELED,u.U66.VENMO_CANCELED].includes(n)?i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_VENMO_FAIL_CANCELED\"}):(i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_VENMO_FAIL\",message:t,code:n}),o.q2(Error(\"Braintree Venmo Error: \".concat(t,\" \").concat(n,\" \").concat(r))))})}"},{"code":"function _(){(0,s.S)().then(e=>{e.client.create({authorization:u.Ai1.BRAINTREE.KEY}).then(e=>{i.Z.dispatch({type:\"BRAINTREE_CREATE_CLIENT_SUCCESS\",client:e}),m(),h()}).catch(()=>i.Z.dispatch({type:\"BRAINTREE_CREATE_CLIENT_FAIL\"}))})}"},{"code":"function g(){let e=a.Z.getPayPalClient();if(null==e)throw Error(\"braintree paypal client must be initialized before calling this\");i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_PAYPAL_START\"});let t=Promise.resolve(\"\");(0,l.isDesktop)()&&(t=(0,c.EH)(u.HeQ.PAYPAL)),t.then(()=>e.tokenize({flow:\"vault\"})).then(e=>{let{email:t,firstName:n,lastName:r,billingAddress:a}=e.details;i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_PAYPAL_SUCCESS\",nonce:e.nonce,email:t,billingAddress:{name:\"\".concat(n,\" \").concat(r),line1:a.line1,line2:a.line2,city:a.city,state:a.state,country:a.countryCode,postalCode:a.postalCode}})}).catch(e=>{let{message:t,code:n,details:r}=e;n===u.U66.PAYPAL_POPUP_CLOSED||null==n?i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED\"}):(i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_PAYPAL_FAIL\",message:t,code:n}),o.q2(Error(\"Braintree Paypal Error: \".concat(t,\" \").concat(n,\" \").concat(r))))})}"},{"code":"function v(){let e=a.Z.getLastURL();null==e?g():(i.Z.dispatch({type:\"BRAINTREE_TOKENIZE_PAYPAL_START\"}),window.open(e))}"},{"code":"function h(){let e=a.Z.getClient();if(null==e)throw Error(\"Braintree client must be initialized before creating Venmo client.\");(0,s.S)().then(t=>{t.venmo.create({client:e,allowDesktop:!0,paymentMethodUsage:\"multi_use\"}).then(e=>{i.Z.dispatch({type:\"BRAINTREE_CREATE_VENMO_CLIENT_SUCCESS\",venmoClient:e})}).catch(()=>{i.Z.dispatch({type:\"BRAINTREE_CREATE_VENMO_CLIENT_FAIL\"})})})}"},{"code":"function S(){E()}"}]