[{"code":"function b(e){let{initialCurrency:t,subscriptionPlanId:n,paymentSourceId:i,isGift:a,skuIDs:s,excludeSubscriptionPlansBySKU:o}=e,[u,d]=r.useReducer((e,t)=>_({},e,t),null!=i?{paymentSourceId:i,currency:t,loaded:!1}:{currency:t,loaded:!1}),f=(0,l.Y)(s),p=JSON.stringify(s),E=r.useRef(s);r.useEffect(()=>{E.current=s}),r.useEffect(()=>{(async()=>{let{current:e}=E;try{e.length>0&&!o&&await m(i,e)}catch(e){if(e.code!==h)throw e}let t=[];null!=n&&null!=c.A.get(n)&&(t=g(n,i,a)),t.length>0?d({paymentSourceId:i,currency:t[0],loaded:!0}):d({paymentSourceId:i,loaded:!1})})()},[i,p,n,a,f,o]);let b=u.paymentSourceId!==i||null==n||!f||!0!==u.loaded;return{hasFetchedSubscriptionPlans:f,priceOptions:u,setCurrency:e=>{d({currency:e})},currencyLoading:b}}"},{"code":"function g(e,t,n){let r,i=[],s=[],o={purchaseType:n?d.lid.GIFT:d.lid.DEFAULT};return r=\"string\"==typeof e?c.A.get(e):e,a()(r,\"subscription plan not loaded\"),null!=t&&c.A.hasPaymentSourceForSKUId(t,r.skuId)&&(o.paymentSourceId=t),(i=(s=(0,u.pb)(r.id,o)).map(e=>e.currency)).length<1&&(i=[d.Yri.USD]),i}"},{"code":"function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[...f.oz];return null==e||c.A.hasPaymentSourceForSKUIds(e,t)?Promise.resolve():new Promise((e,n)=>{s.h.wait(async()=>{try{await (0,o.jv)(t),e()}catch(e){n(e)}})})}"},{"code":"function E(e,t,n){let r=c.A.get(e);return a()(null!=r,\"plan is undefined\"),g(r,n,!1).includes(t)}"}]