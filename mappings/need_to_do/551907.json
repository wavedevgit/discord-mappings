[{"code":"function e(e){var t,n,r,i,a,s,o,l,c,u,d,f=this;this._isLoading=!0,this._isOpen=!1,this.personaCSS=new h(\"persona-widget-styles\"),this.globalCSS=new h(\"persona-global-styles\"),this.preferredDimensions=null,this.onLoad=function(){var e,t;f._isLoading=!1,f.render(),null==(t=(e=f.options).onLoad)||t.call(e)},this.onReady=function(e){var t,n,r;f.preferredDimensions=null!=(t=null==e?void 0:e.preferredDimensions)?t:null,f.handleResize(),null==(r=(n=f.options).onReady)||r.call(n)},this.onComplete=function(e){var t,n,r=e.inquiryId,i=e.status,a=e.fields;f._isOpen=!1,f.render(),null==(n=(t=f.options).onComplete)||n.call(t,{inquiryId:r,status:i,fields:a})},this.onCancel=function(e){var t,n,r=e.inquiryId,i=e.sessionToken;f._isOpen=!1,f.render(),null==(n=(t=f.options).onCancel)||n.call(t,{inquiryId:r,sessionToken:i})},this.handleResize=function(){var e,t=null!=(e=f.preferredDimensions)?e:{},n=t.minimumWidth,r=t.maximumWidth,i=t.minimumHeight,a=t.maximumHeight;window.matchMedia(\"only screen and (min-width: 600.02px) and (min-height: 600.02px)\").matches?(n&&(f.iframeElement.style.minWidth=n),r&&(f.iframeElement.style.maxWidth=r),i&&(f.iframeElement.style.minHeight=i),a&&(f.iframeElement.style.maxHeight=a)):(f.iframeElement.style.minWidth=\"\",f.iframeElement.style.maxWidth=\"\",f.iframeElement.style.minHeight=\"\",f.iframeElement.style.maxHeight=\"\")},this.options=e,this.containerParent=null!=(n=null!=(t=e.parent)?t:document.body)?n:document.children[0],this.containerElement=g(\"div\",{class:\"persona-widget__overlay\",style:\"display: \".concat(this._isOpen?\"block\":\"none\")}),this.containerId=\"persona-widget-\"+Array(16).fill(void 0).map(function(){return Math.floor(35*Math.random()).toString(35)}).join(\"\"),this.containerElement.setAttribute(\"id\",this.containerId),this.loadingElement=g(\"div\",{class:\"persona-widget__centered-frame\"},[m(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"114\",height:\"114\",class:\"persona-widget__loading-spinner\"},[m(\"path\",{fill:\"none\",stroke:\"#0F2B72\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M25.887 10.432a56.275 56.275 0 0 0-15.455 15.455 55.86 55.86 0 0 0-5.183 9.678A55.576 55.576 0 0 0 2.066 46.07m-.8 5.438A56.678 56.678 0 0 0 1 57m4.249 21.435a55.86 55.86 0 0 0 5.183 9.678 56.275 56.275 0 0 0 6.97 8.485m8.485 6.97a55.86 55.86 0 0 0 9.678 5.183 55.576 55.576 0 0 0 10.506 3.183c3.535.7 7.19 1.066 10.929 1.066 3.74 0 7.394-.367 10.929-1.066a55.576 55.576 0 0 0 10.506-3.183 55.86 55.86 0 0 0 9.678-5.183 56.275 56.275 0 0 0 15.455-15.455 55.86 55.86 0 0 0 5.183-9.678 55.576 55.576 0 0 0 3.183-10.506A56.274 56.274 0 0 0 113 57c0-3.74-.367-7.394-1.066-10.929a55.576 55.576 0 0 0-3.183-10.506M96.598 17.402a56.275 56.275 0 0 0-8.485-6.97 55.86 55.86 0 0 0-9.678-5.183A55.576 55.576 0 0 0 67.93 2.066 56.274 56.274 0 0 0 57 1c-3.74 0-7.394.367-10.929 1.066m-34.94 30.418A51.76 51.76 0 0 0 7.225 41.9a51.633 51.633 0 0 0-1.98 10 52.63 52.63 0 0 0 .744 15.247 51.633 51.633 0 0 0 7.768 18.743 52.188 52.188 0 0 0 10.254 11.308 52.188 52.188 0 0 0 8.472 5.67m9.417 3.905a51.633 51.633 0 0 0 10 1.98 52.63 52.63 0 0 0 10.197 0 51.939 51.939 0 0 0 10-1.98 51.61 51.61 0 0 0 9.418-3.904 51.984 51.984 0 0 0 8.472-5.671m3.782-3.43a52.308 52.308 0 0 0 3.429-3.78m9.575-17.89a51.633 51.633 0 0 0 1.98-10 52.63 52.63 0 0 0-.744-15.247 51.633 51.633 0 0 0-7.768-18.743 52.188 52.188 0 0 0-10.254-11.308m-4.097-3.043a51.984 51.984 0 0 0-4.375-2.628M67.148 5.99a51.939 51.939 0 0 0-5.05-.743 52.63 52.63 0 0 0-15.246.743 51.633 51.633 0 0 0-18.743 7.768M24.012 16.8a52.308 52.308 0 0 0-3.782 3.43\"})])]),this.containerElement.append(this.loadingElement),this.isLoading?this.loadingElement.style.display=\"block\":this.loadingElement.style.display=\"none\",this.iframeElement=document.createElement(\"iframe\"),this.unsubscribeFromEvents=v(this.containerId,{onLoad:null!=(r=this.onLoad)?r:null,onReady:null!=(i=this.onReady)?i:null,onComplete:null!=(a=this.onComplete)?a:null,onCancel:null!=(s=this.onCancel)?s:null,onEvent:null!=(o=this.options.onEvent)?o:null,onError:null!=(l=this.options.onError)?l:null,templateId:null!=(c=this.options.templateId)?c:null,templateVersionId:null!=(u=this.options.templateVersionId)?u:null,host:null!=(d=this.options.host)?d:null}),window.addEventListener(\"resize\",this.handleResize),this.containerElement.appendChild(this.iframeElement),this.containerParent.appendChild(this.containerElement),this.personaCSS.mount(\"@keyframes persona-widget__fadeIn {\\n  from {\\n    background-color: rgba(0, 0, 0, 0);\\n    opacity: 0;\\n  }\\n  to {\\n    /* persona-widget__overlay opacity = 0.7 */\\n    background-color: rgba(0, 0, 0, 0.7);\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes persona-widget__genieSlideIn {\\n  from {\\n    transform: translate(-50%, -40%) scale(0.8);\\n  }\\n  90% {\\n    transform: translate(-50%, -51%) scale(1.01);\\n  }\\n  to {\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n\\n@keyframes persona-widget__slideDown {\\n  from {\\n    transform: translate(-50%, -55%);\\n  }\\n  to {\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n\\n.persona-widget__overlay {\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  z-index: 9999;\\n  animation: persona-widget__fadeIn 0.3s;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n\\n.persona-widget__overlay .persona-widget__centered-frame {\\n  width: 120px;\\n  height: 120px;\\n  position: absolute;\\n  left: calc(50% - 60px);\\n  top: calc(50% - 60px);\\n  z-index: 9999;\\n}\\n\\n.persona-widget__overlay .persona-widget__loading-spinner {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.persona-widget__overlay .persona-widget__iframe {\\n  animation: persona-widget__genieSlideIn 0.3s, persona-widget__slideDown ease-out 0.3s;\\n\\n  width: 100%;\\n  height: 100%;\\n\\n  margin-left: auto;\\n  margin-right: auto;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n\\n  background-color: #ffffff;\\n  border: none;\\n  border-radius: 4px;\\n  box-shadow: 0px 12px 40px 2px rgba(0, 0, 0, 0.4);\\n\\n  @media only screen and (min-width: 600.02px) and (min-height: 600.02px) {\\n    max-width: 400px;\\n    max-height: 650px;\\n  }\\n}\\n\");try{this.iframeElement=O(this.iframeElement,this.containerId,\"embedded\",this.options)}catch(e){throw console.error(\"Persona\",e),this.destroy(),e}this.render()}"},{"code":"function O(e,t,n,r){var i=r.accountId,a=r.accountTypeId,o=r.environment,c=r.environmentId,u=r.fields,d=r.frameAncestors,p=r.frameHeight,_=r.frameWidth,h=r.host,m=r.iframeTitle,g=r.inquiryId,O=r.language,A=r.messageTargetOrigin,v=r.referenceId,S=r.routingCountry,I=r.sandboxAttributes,T=void 0===I?y:I,C=r.sessionToken,N=r.styleVariant,R=r.templateId,w=r.templateVersionId,P=r.themeSetId,D=r.widgetPadding,x=!(!R&&!w),L=null==R?void 0:R.startsWith(\"itmpl_\");if(!x&&!g)throw Error(\"Either templateId/templateVersionId or inquiryId must be specified to start a flow\");if(x&&g)throw Error(\"Only one of templateId/templateVersionId or inquiryId should be specified to start a flow\");if(i){if(v)throw Error(\"Cannot pass both accountId and referenceId\");if(a)throw Error(\"Cannot pass both accountId and accountTypeId\")}var j=l(h),M=s()({\"client-version\":\"5.3.1\",\"container-id\":t,\"flow-type\":n,\"routing-country\":S,\"template-id\":(L?null:R)||null,\"inquiry-template-id\":(L?R:null)||null,\"inquiry-template-version-id\":w||null,environment:o,\"environment-id\":c,\"iframe-origin\":window.location.origin,\"frame-ancestors\":null!=d?d:null,\"message-target-origin\":A||null,\"inquiry-id\":g||null,language:O,\"session-token\":C,\"reference-id\":v,\"account-id\":i,\"account-type-id\":a,fields:f(null!=u?u:{}),\"style-variant\":N||null,\"theme-set-id\":P,\"widget-padding\":D},{addQueryPrefix:!0,skipNulls:!0});return e.style.maxHeight=E(p),e.style.maxWidth=E(_),e.setAttribute(\"data-testid\",\"persona-widget__iframe\"),\"embedded\"===n&&e.setAttribute(\"aria-modal\",\"true\"),e.title=null!=m?m:\"Verify your identity\",e.className=\"persona-widget__iframe\",e.allow=\"camera;microphone;clipboard-write\",e.setAttribute(\"sandbox\",b.concat(T).join(\" \")),e.frameBorder=\"0\",e.src=j+\"/widget\"+M,e.onload=function(){},e}"},{"code":"function v(t,n){var r=n.onLoad,i=n.onReady,a=n.onComplete,s=n.onEvent,o=n.onCancel,c=n.onError,u=n.templateId,d=n.templateVersionId,f=n.host,p=function(n){var p,_,h=l(null!=f?f:\"production\");if(\"\"!==n.origin)try{if(A(new URL(n.origin).host)!==A(new URL(h).host))return}catch(e){return}if(!(u&&u!==n.data.templateId||d&&d!==n.data.templateVersionId||n.data.containerId&&t!==n.data.containerId))switch(null==s||s(n.data.name,n.data.metadata),n.data.name){case e.Load:null==r||r();break;case e.Ready:null==i||i({preferredDimensions:null==(p=n.data.metadata)?void 0:p.preferredDimensions});break;case e.Complete:case e.Fail:null==a||a({inquiryId:n.data.metadata.inquiryId,status:n.data.metadata.status,fields:null!=(_=n.data.metadata.fields)?_:n.data.metadata.scopes});break;case e.Cancel:null==o||o({inquiryId:n.data.metadata.inquiryId,sessionToken:n.data.metadata.sessionToken});break;case e.Error:null==c||c(n.data.error)}};return window.addEventListener(\"message\",p),function(){window.removeEventListener(\"message\",p)}}"}]