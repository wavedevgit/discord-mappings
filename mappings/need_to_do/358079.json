[{"code":"(e,t)=>{let n=(0,c.j)(e.invoiceItems),r=n.find(e=>e.subscriptionPlanId===t.id);i()(null!=r,\"Expected newPlanInvoiceItem\");let o=n.find(e=>!(0,s.Z8)(e.subscriptionPlanId)&&e.amount<0),d=n.find(e=>null==e.subscriptionPlanId&&null!=e.discounts&&e.discounts.find(e=>e.type===a.eW.PREMIUM_LEGACY_UPGRADE_PROMOTION)),f=g(r,a.eW.PREMIUM_TRIAL),_=E(r,a.eW.SUBSCRIPTION_PLAN),h=r.quantity*_,m=r.amount+(null!=o?o.amount:0)-h+(null!=d?d.amount:0),b=n.filter(e=>e.subscriptionPlanId===u.Xh.PREMIUM_MONTH_GUILD||e.subscriptionPlanId===u.Xh.PREMIUM_YEAR_GUILD),y=b.reduce((e,t)=>e+t.amount,0),O=[];return 0===m||f||O.push({id:\"base-plan-adjustment\",label:p.intl.formatToPlainString(p.t.ZSVged,{planName:(0,s.PV)(t.id)?(0,s.MF)(t.id):t.name}),tooltipText:p.intl.string(p.t.JmwQJM),tooltipAriaLabel:\"\",value:(0,l.T4)(m,e.currency),amount:m}),0!==y&&O.push({id:\"guild-subscription-adjustment\",label:p.intl.string(p.t[\"+as5ZZ\"]),tooltipText:p.intl.format(p.t.UDop9c,{}),tooltipAriaLabel:p.intl.string(p.t.P68ePO),value:(0,l.T4)(y,e.currency),amount:y}),{newPlanInvoiceItem:r,basePlanFullAmount:h,basePlanAdjustment:m,guildSubscriptionAdjustment:y,isTrialItem:f,invoiceAdjustmentDisplayItems:O,guildSubscriptionInvoiceItems:b,promotionItem:d,basePlanCreditItem:o}}"},{"code":"e=>h(_((0,c.j)(e.invoiceItems)))"},{"code":"(e,t)=>{let{premiumTrialOffer:n,subscriptionPlan:r,overrideAmount:a,isPrepaidPaymentSource:c,currency:u}=t,d=null!=r?r:o.Z.get(e.subscriptionPlanId),f=null==n?void 0:n.subscription_trial;i()(null!=d,\"Missing subscriptionPlan\");let p=b(e,d,c,(0,s.if)({intervalType:null==f?void 0:f.interval,intervalCount:null==f?void 0:f.interval_count})),_=null!=a?a:e.amount,h=(0,l.T4)(_,u);return{label:p,value:c?h:(0,l.og)(h,d.interval,d.intervalCount),amount:_,formattedPrice:h,subscriptionPlan:d,subscriptionTrial:f}}"}]