[{"code":"function p(e,t){var n,p,_,h;let{type:m,withMutualGuilds:g=!1,withMutualFriendsCount:E=!1,withMutualFriends:b=!1,dispatchWait:y=!1,waitForRefetch:O=!0,guildId:v,channelId:S,joinRequestId:I,abortSignal:T}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(\"\"===e||u.Z.isFetchingProfile(e,v))return Promise.resolve();let C=u.Z.getUserProfile(e),A=Date.now()-(null!=(h=null==C?void 0:C.fetchEndedAt)?h:0)>=f;if(((null==C||null==(n=C.fetchError)?void 0:n.status)===404||(null==C||null==(p=C.fetchError)?void 0:p.status)===429)&&!A)return Promise.resolve();let N=u.Z.getGuildMemberProfile(e,v),P=u.Z.getMutualGuilds(e),w=u.Z.getMutualFriends(e),R=u.Z.getMutualFriendsCount(e),D=null==w&&b,x=null==R&&E,L=null==P&&g||D||x,j=null==v?null==C:null==N,M=!j&&(A||L);if(!j&&!M)return Promise.resolve();let k=null!=v?null==N?void 0:N.profileEffect:null==C?void 0:C.profileEffect;null!=k&&(0,o.lW)(k.skuId),null!=t&&(0,a.vM)(t);let U={type:m,withMutualGuilds:g,withMutualFriends:b,withMutualFriendsCount:E,guildId:v,joinRequestId:I,abortSignal:T,connectionsRoleId:null==v||null==(_=(0,s.Ur)({guildMember:c.ZP.getMember(v,e),channel:l.Z.getChannel(S)}))?void 0:_.id};if(y)return r.Z.wait(()=>(0,i.In)(e,U,d.Z)),Promise.resolve();let G=(0,i.In)(e,U,d.Z);return M&&!O?Promise.resolve():G}"}]