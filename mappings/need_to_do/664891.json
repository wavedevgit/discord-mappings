[{"code":"function q(e){let t,{premiumSubscription:n,paymentSources:a,priceOptions:s,onPaymentSourceChange:m,onPaymentSourceAdd:g,planId:R,setHasAcceptedTerms:x,legalTermsNodeRef:k,hasLegalTermsFlash:U,onInvoiceError:V,planGroup:Y,currencies:W,onCurrencyChange:K,hasOpenInvoice:z,purchaseState:q,handleClose:et}=e,{selectedSkuId:en,defaultPlanId:er,isPremium:ei,startedPaymentFlowWithPaymentSourcesRef:ea,hasPaymentSources:eo,enablePremiumBrandRefresh:es,isPremiumGroupPurchase:el}=(0,y.JL)(),{isGift:ec}=(0,b.wD)(),eu=s.paymentSourceId,ed=(0,I.$)(a,eu),ef=(0,u.e7)([A.Z],()=>A.Z.get(R));l()(null!=ef,\"Missing newPlan\");let ep=(0,u.e7)([T.Z],()=>T.Z.hidePersonalInformation),e_=(0,E.Z)(),eh=c.M.EEA_COUNTRIES.has(C.Z.ipCountryCodeWithFallback),em=q===O.A.PURCHASING||q===O.A.COMPLETED,eg=(0,v.Kp)({isTrial:!1,isGift:ec,selectedSkuId:en,startedPaymentFlowWithPaymentSources:ea.current}),eE=null==n?void 0:n.isPausedAllowsResumeButNotUpdates,eb=i.useMemo(()=>(0,P.V7)({skuId:en,isPremium:ei,multiMonthPlans:[],currentSubscription:n,defaultPlanId:er}),[en,n,er,ei]);t=z||eE?B.intl.string(B.t.nyzoFb):el?B.intl.formatToPlainString(F.default[\"3m9DJK\"],{premiumGroupProductName:(0,G.sO)()}):(0,P.PV)(R)?(0,P.W_)(n,ef):B.intl.formatToPlainString(B.t[\"sBpy9/\"],{planName:ef.name});let ey=null;null!=n&&(ey=z?(0,r.jsx)(Q,{premiumSubscription:n,onInvoiceError:V,priceOptions:s,preventFetch:!1}):eE?(0,r.jsx)($,{premiumSubscription:n,onInvoiceError:V,priceOptions:s,preventFetch:em}):(0,w.R4)(n,R,Y)?(0,r.jsx)(X,{premiumSubscription:n,newPlan:ef,onInvoiceError:V,planGroup:Y,priceOptions:s,fractionalPremiumInfo:e_,preventFetch:em}):(0,r.jsx)(ee,{premiumSubscription:n,newPlan:ef,planGroup:Y,fractionalPremiumInfo:e_,priceOptions:s,preventFetch:em}));let eO=null==n?void 0:n.eligiblePaymentGateways,ev=null!=eO&&eO.length>0&&(eu===N.c||null===ed)&&eo?j.w.SELECT_PAYMENT_METHOD:void 0;return(0,r.jsxs)(\"div\",{className:H.stepBody,children:[(0,r.jsx)(j.Y,{paymentRestrictionBannerType:ev}),!eE&&eg&&!el&&(0,r.jsxs)(\"div\",{children:[(0,r.jsx)(D.UN,{negativeMarginBottom:!0,negativeMarginTop:!0}),(0,r.jsx)(S.a,{planSkuId:ef.skuId}),(0,r.jsx)(M.O,{planOptions:eb,eligibleForMultiMonthPlans:!1,selectedPlanId:R,planGroup:Y,showTotal:!1,handleClose:et}),(0,r.jsx)(D.UN,{})]}),el&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Text,{variant:\"text-md/medium\",children:B.intl.formatToPlainString(F.default[\"h1i+H8\"],{premiumGroupProductName:(0,G.sO)(),cooldownMonths:G.T9})}),(0,r.jsx)(D.UN,{})]}),(0,r.jsx)(d.gNt,{label:t,children:ey}),(0,r.jsx)(\"div\",{className:H.paymentSourceWrapper,children:(0,r.jsx)(_.ZP,{label:B.intl.string(B.t[\"mmDvV+\"]),paymentSources:Object.values(a),selectedPaymentSourceId:eu,onChange:m,onPaymentSourceAdd:g,hidePersonalInformation:ep,disabled:em,paymentGatewayRestrictions:null==n?void 0:n.eligiblePaymentGateways,className:o()({[H.premiumBrandRefreshInputBackground]:es})})}),(0,r.jsx)(f.b,{currencies:W,className:H.currencyWrapper,children:(0,r.jsx)(f.Z,{label:B.intl.string(B.t[\"/AAR02\"]),selectedCurrency:s.currency,currencies:W,onChange:K,disabled:em})}),(0,r.jsx)(L.Z,{isActive:U,ref:k,children:null!=n&&(0,w.R4)(n,R,Y)?(0,r.jsx)(J,{premiumSubscription:n,newPlan:ef,onInvoiceError:V,planGroup:Y,priceOptions:s,preventFetch:em,disabled:em,isEEA:eh,paymentSources:a,setHasAcceptedTerms:x}):(0,r.jsx)(h.Z,{onChange:x,finePrint:(0,r.jsx)(p.Z,{subscriptionPlan:ef,paymentSourceType:ed,basePrice:(0,P.aS)(ef.id,!1,ec,s),currentSubscription:n,planGroup:Y}),forceShow:!0,showPricingLink:ef.currency!==Z.pKx.USD,showWithdrawalWaiver:eh,disabled:em,subscriptionPlan:ef,currentSubscription:n,planGroup:Y})})]})}"}]