[{"code":"function A(e){let{src:t,width:n,height:r,hasMultiple:i=!1,options:a}=e,{width:o,height:s}=(0,b.p)(i,{width:n,height:r});f.ZP.preloadImage({src:t,dimensions:{maxWidth:o,maxHeight:s,imageWidth:n,imageHeight:r},options:a})}"},{"code":"function w(e,t){if(\"IMAGE\"===e.type){if(!(0,m._H)(e))return void(0,d.po)(e.url);A({src:(0,_.q)({proxyURL:e.proxyUrl,url:e.url}),width:e.width,height:e.height,hasMultiple:t,options:e})}}"},{"code":"function R(e){let{items:t,onIndexChange:n,startIndex:a=0,enabledContentHarmTypeFlags:c=0,shouldHideMediaOptions:d=!1}=e,[f,p]=i.useState(a),_=i.useRef(a),{zoomed:m,setZoomed:A}=(0,E.Y)(),w=i.useCallback(e=>{p(e=N(e,t.length)),_.current=e,null==n||n(e),A(!1)},[n,t,A]);i.useEffect(()=>{let e=()=>w(_.current+1),t=()=>w(_.current-1);return h.S.subscribe(I.CkL.MODAL_CAROUSEL_NEXT,e),h.S.subscribe(I.CkL.MODAL_CAROUSEL_PREV,t),()=>{h.S.unsubscribe(I.CkL.MODAL_CAROUSEL_NEXT,e),h.S.unsubscribe(I.CkL.MODAL_CAROUSEL_PREV,t)}},[w,A]);let R=t[f],D=(0,u.g4)({type:l.l.GenericMedia,media:R},c),x=d?e=>{e.stopPropagation(),e.preventDefault()}:()=>(0,g.yg)(g.uG.CONTEXT_MENU_OPENED),L=t.length>1;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.ZP,{children:e=>L?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{onClick:e=>{e.stopPropagation(),h.S.dispatch(I.CkL.MODAL_CAROUSEL_PREV)},icon:s.j9r,tooltip:T.intl.string(T.t.vgfxaA),className:o()(C.navPrev,e)}),(0,r.jsx)(v.Z,{onClick:e=>{e.stopPropagation(),h.S.dispatch(I.CkL.MODAL_CAROUSEL_NEXT)},icon:s.d4D,tooltip:T.intl.string(T.t.XiOHRX),className:o()(C.navNext,e)})]}):void 0}),(0,r.jsx)(b.Z,{items:t,currentIndex:f,children:(e,t)=>(0,r.jsx)(P,{isObscured:!m&&D,src:R.url,children:n=>(0,r.jsx)(S.ZP,{media:R,maxWidth:e,maxHeight:t,obscured:n,onContextMenu:x})})}),L&&(0,r.jsx)(y.ZP,{children:e=>(0,r.jsx)(O.Z,{items:t,currentIndex:f,onGalleryItemClick:w,className:e,enabledContentHarmTypeFlags:c})})]})}"}]