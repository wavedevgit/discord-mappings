[{"code":"function el(e){var t;let{animatedStyle:n,y:a,x:f,channel:h}=e,{analyticsLocations:y}=(0,m.ZP)(_.Z.INCOMING_CALL_MODAL),[O,v]=i.useState(!1),S=(0,l.e7)([D.Z],()=>D.Z.getGuild(h.guild_id)),I=null!=S?k.ZP.getGuildIconURL({id:S.id,icon:S.icon,size:ea}):null,T=null!=(t=(0,g.x)(h,ea,!0))?t:I,C=(0,E.ZP)(h),[A,N]=(0,l.Wu)([x.Z],()=>[x.Z.supports(W.AN.VIDEO),Object.keys(x.Z.getVideoDevices()).length]),P=null!=S?\"\".concat(C,\", \").concat(S.name):C,L=(0,l.e7)([j.Z],()=>j.Z.isFocused()),M=(0,l.e7)([U.Z],()=>U.Z.getMode(h.id)),Z=i.useCallback(e=>{null!=e.top&&null!=e.left&&d.Z.move(e.left,e.top)},[]),F=(0,c.q_F)({value:+!!O,config:ee(J({},s.config.stiff),{clamp:!0})},\"animate-always\");i.useEffect(()=>{let e=e=>{e.key===Y.vn.ESCAPE&&u.Z.stopRinging(h.id)};return window.addEventListener(\"keydown\",e),()=>window.removeEventListener(\"keydown\",e)},[h]);let B=M===H.WtW.VIDEO&&A&&N>0,{enabled:V}=w.Z.useExperiment({guildId:null==h?void 0:h.guild_id,location:\"IncomingCallModal\"}),X=M===H.WtW.VOICE||V&&h.type===H.d4z.GUILD_VOICE?K.intl.string(K.t.Js8cK3):K.intl.string(K.t.KcnWCO),$=(0,r.jsxs)(r.Fragment,{children:[null!=S&&null==I?(0,r.jsx)(\"div\",{className:o()(q.icon,z.wrapper,z.ringingIncoming),children:(0,r.jsx)(b.ZP,{className:q.mask,mask:b.QS.AVATAR_DEFAULT,width:O?40:80,height:O?40:80,children:(0,r.jsx)(\"div\",{className:o()(q.guildIcon,q.guildIconWithoutImage),children:(0,r.jsx)(\"div\",{className:q.guildAcronym,children:(0,R.gM)(S)})})})}):(0,r.jsx)(G.Z,{className:q.icon,ringing:L,src:null!=T?T:\"\",ringingType:G.Z.RingingType.INCOMING,size:O?c.EFr.SIZE_40:c.EFr.SIZE_80}),(0,r.jsxs)(\"div\",{className:q.titleGroup,children:[(0,r.jsx)(c.Text,{className:q.title,color:\"text-strong\",variant:O?\"text-md/semibold\":\"text-lg/semibold\",children:P}),(0,r.jsx)(c.Text,{color:\"text-default\",className:q.subtitle,variant:O?\"text-sm/normal\":\"text-md/normal\",children:X})]})]}),el=B?et:en,ec=(0,l.e7)([j.Z],()=>j.Z.windowSize());return(0,r.jsx)(m.Gt,{value:y,children:(0,r.jsx)(p.Z,{className:q.wrapper,selector:\".\".concat(q.root),initialPosition:{left:f,top:a},maxX:ec.width,maxY:ec.height,onDragEnd:Z,dragAnywhere:!0,children:(0,r.jsx)(c.f6W,{theme:O?H.BRd.DARK:void 0,children:e=>(0,r.jsxs)(s.animated.div,{className:o()(q.root,Q.elevationHigh,{[q.previewCamera]:O},e),style:ee(J({},n),{minWidth:F.value.interpolate([0,1],[el.width,er]),minHeight:F.value.interpolate([0,1],[el.height,ei]),translateX:F.value.interpolate([0,1],[0,-1*Math.abs(er-el.width)/2])}),children:[O?(0,r.jsx)(eo,{header:$}):(0,r.jsx)(\"div\",{className:q.mainChannelInfo,children:$}),(0,r.jsx)(es,{canVideo:B,channel:h,numVideoDevices:N}),B&&!O?(0,r.jsx)(\"div\",{\"data-button-hoisted-classname-wrapper\":!0,className:q.previewButton,children:(0,r.jsx)(c.Button,{variant:\"secondary\",size:\"sm\",text:K.intl.string(K.t[\"8B0UDr\"]),fullWidth:!0,onClick:()=>v(!0)})}):null]})})})})}"}]