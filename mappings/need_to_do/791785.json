[{"code":"function et(e){let{subscriptionTier:t,initialPlanId:n,handleStepChange:a,referralTrialOfferId:o,handleClose:s,continueSessionToInitialStep:c}=e,{activeSubscription:u,blockedPayments:f,hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g,selectedSkuId:E,setSelectedPlanId:b,defaultPlanId:y,startedPaymentFlowWithPaymentSourcesRef:O,hasPaymentSources:v}=(0,x.JL)(),{isGift:S}=(0,D.wD)(),I=O.current,T=(0,U.Z)({isGift:S,skuId:E,referralTrialOfferId:o}),[C,A]=i.useState(!0),P=(0,l.e7)([N.Z],()=>N.Z.applicationIdsFetched.has(Y.CL));return(i.useEffect(()=>{A(!p||!h||g)},[g,h,p]),(0,_.Z)(\"Payment Modal\",C,5,{hasFetchedSubscriptions:p,hasFetchedSubscriptionPlans:h,currencyLoading:g},{tags:{app_context:$}}),i.useEffect(()=>{if(P||(0,d.yD)(Y.CL),C||f)return;let e=(0,k.Kp)({isTrial:T,isGift:S,selectedSkuId:E,startedPaymentFlowWithPaymentSources:I});null!=c?a(L.h8.ADD_PAYMENT_STEPS,{emitPaymentFlowLoadedEvent:!0,trackedFromStep:c}):null!=n?n!==Y.Xh.PREMIUM_GROUP_MONTH||v?a(L.h8.REVIEW):a(L.h8.ADD_PAYMENT_STEPS):e?(b((0,k.nA)(E,u,y)),a(L.h8.REVIEW)):null!=t?a(L.h8.PLAN_SELECT):a(L.h8.SKU_SELECT)},[c,u,f,P,n,C,a,t,E,b,T,y,S,I,v]),C)?(0,r.jsx)(F.Z,{}):f?(0,r.jsx)(m.Vq,{onClose:s}):null}"}]