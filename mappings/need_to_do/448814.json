[{"code":"function C(e){let t,{id:n,tabIndex:a=0,required:u=!1,disabled:d=!1,selectionMode:f=\"single\",items:b,defaultSelectedItems:O,selectedItems:I,onSelectionChange:C,activeDescendantIndex:P,shouldFocusWrap:w=!1,renderListItem:R,renderEmptyState:D,maxVisibleItems:x=5,loading:L=!1,onBlur:j,onFocus:M,typeahead:k=!1}=e,U=i.useId(),G=null!=n?n:U,Z=i.useRef(null),F=i.useMemo(()=>b.map((e,t)=>v(y({},e),{index:t})),[b]),[B,V]=i.useState(null!=O?O:[]),H=null!=I,Y=H?I:B,W=(0,s.ZP)({id:G,defaultFocused:null!=P?(0,g.cA)(G,P):void 0,async scrollToEnd(){},async scrollToStart(){},isEnabled:!d,wrap:w,preserveFocusPosition:!1});i.useEffect(()=>{requestAnimationFrame(()=>{if(null!=P){var e;null==(e=Z.current)||e.scrollToIndex({section:0,row:P})}})},[G,P]);let{activeIndex:K,handleKeyDown:z}=N(k,F);i.useEffect(()=>{if(null!=K&&k){let e=(0,l.jb)(G,(0,g.cA)(G,K)),t=document.querySelector((0,l.P1)(e));null==t||t.focus()}},[K,F,k,G]);let q=i.useCallback(e=>{if(!0===u&&1===Y.length&&Y.includes(e))return;let t=(0,g.cq)(f,Y,e);H||V(t),null==C||C(t)},[u,Y,C,H,f]),Q=i.useCallback(e=>(0,r.jsx)(\"div\",{className:E.listBoxItemContent,children:(0,r.jsx)(h.x,{variant:\"text-md/medium\",color:\"currentColor\",className:E.listBoxItemLabel,children:e.label})}),[]);if(L)t=(0,r.jsx)(\"div\",{className:E.loadingSpinnerWrapper,\"aria-busy\":!0,children:(0,r.jsx)(_.$,{type:_.R.PULSING_ELLIPSIS,className:E.loadingSpinner,itemClassName:E.loadingSpinnerInner})});else if(F.length>0)t=(0,r.jsx)(p._2,{ref:Z,style:{height:null!=x?\"\".concat(Math.min(F.length,x)*T,\"px\"):\"100%\"},role:void 0,tabIndex:a,rowHeight:T,sections:[F.length],sectionHeight:0,renderSection:()=>null,renderRow:e=>{var t;let{row:n}=e,i=F[n],o=(0,g.cA)(G,n),s=0!==Y.length&&null!=Y.find(e=>e.id===i.id);return(0,r.jsx)(A,v(y({},i),{id:o,tabIndex:a,selectionMode:f,selected:s,disabled:d||i.disabled,focused:n===P,onClick:()=>{d||i.disabled||q(i)},children:null!=(t=null==R?void 0:R(i))?t:Q(i)}),i.index)}});else{var X;t=null!=(X=null==D?void 0:D())?X:(0,r.jsx)(m.z,{})}return(0,r.jsx)(c.bG,{navigator:W,children:(0,r.jsx)(c.SJ,{children:e=>{var{ref:n,onKeyDown:i}=e,s=S(e,[\"ref\",\"onKeyDown\"]);return(0,r.jsx)(\"div\",v(y({onBlur:j,onFocus:M,\"aria-busy\":L,ref:n,onKeyDown:e=>{null==i||i(e),z(e)}},s),{role:\"listbox\",tabIndex:a,\"aria-multiselectable\":\"multiple\"===f,className:o()(E.listBox,{[E.scrollable]:F.length>x}),\"data-mana-component\":\"listbox\",children:t}))}})})}"}]