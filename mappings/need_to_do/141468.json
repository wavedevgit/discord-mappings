[{"code":"function P(e,t){if(null!=t.edited_timestamp)return R(t,{reactions:e.reactions,interactionData:e.interactionData});let n=e,r=!1;if(null!=t.call&&(n=n.set(\"call\",x(t.call,e.timestamp))),null!=t.attachments&&(n=n.set(\"attachments\",D(t))),null!=t.application&&(n=n.set(\"application\",t.application)),null!=t.activity&&(n=n.set(\"activity\",t.activity)),null!=t.content&&\"\"!==t.content&&(n=n.set(\"content\",t.content)),null!=t.embeds&&(n=n.set(\"embeds\",L(t))),null!=t.message_snapshots&&(n=n.set(\"messageSnapshots\",M(t))),t.pinned!==n.pinned&&(n=n.set(\"pinned\",t.pinned)),null!=n.webhookId&&null!=t.author&&(n=n.set(\"author\",new d.A(t.author))),null!=t.flags&&t.flags!==n.flags&&(n=n.set(\"flags\",t.flags)),null!=t.components&&(n=n.set(\"components\",(0,s.ZV)(t.components))),null!=t.role_subscription_data&&(n=n.set(\"roleSubscriptionData\",t.role_subscription_data)),null!=t.reactions){var i;n=n.set(\"reactions\",j(null!=(i=e.reactions)?i:t.reactions))}return null!=t.poll&&(n=n.set(\"poll\",(0,o.A)(t.poll))),null!=t.mentions&&(n=n.set(\"mentions\",t.mentions.map(e=>e.id)),r=!0),null!=t.mention_games&&(n=n.set(\"mentionGames\",t.mention_games),r=!0),null!=t.mention_everyone&&(n=n.set(\"mentionEveryone\",t.mention_everyone),r=!0),null!=t.mention_roles&&(n=n.set(\"mentionRoles\",t.mention_roles),r=!0),r&&(n=n.set(\"mentioned\",(0,E.Ay)({message:n,userId:f.default.getId()}))),n}"},{"code":"function w(e,t){return null!=t.edited_timestamp?S(A({},t),{reactions:e.reactions,interaction_data:e.interaction_data}):A({},e,t)}"},{"code":"function U(e){return e.hasFlag(y.pr7.EPHEMERAL)&&e.type!==y.lAJ.IN_GAME_MESSAGE_NUX}"},{"code":"e=>0===(0,l.o6)(e).length||\"\"!==e.content"},{"code":"function R(e){var t,n,r,i,a,s,l,d;let _,h,{reactions:b,interactionData:O}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=N(e),I=null!=(t=null==(s=e.mentions)?void 0:s.map(e=>e.id))?t:[],R=null!=(n=e.mention_roles)?n:[],w=null!=(r=e.mention_channels)?r:[],P=null!=(i=e.mention_games)?i:[],D=e.message_reference,L=T(e),k=null,U=null==e?void 0:e.gift_info,G=e.gifting_prompt,V=null!=e.interaction?c.A.createFromServer(e.interaction):null,F=e.type===y.lAJ.THREAD_STARTER_MESSAGE?null==(d=e.referenced_message)||null==(l=d.author)?void 0:l.id:void 0,B=e.content;return new u.Ay((e.type===y.lAJ.PREMIUM_REFERRAL&&(_=g.default.isProbablyAValidSnowflake(e.content)?e.content:void 0,B=\"\"),e.type===y.lAJ.PREMIUM_GROUP_INVITE&&(h=g.default.isProbablyAValidSnowflake(e.content)?e.content:void 0,B=\"\"),C(e))?S(A({},k),{id:e.id,channel_id:e.channel_id,type:y.lAJ.DEFAULT,author:L,timestamp:v.timestamp,isUnsupported:!0}):S(A({},e,k,v.toJS()),{author:L,webhookId:e.webhook_id,blocked:p.A.isBlockedForMessage(e)||null!=F&&p.A.isBlocked(F),ignored:p.A.isIgnoredForMessage(e)||null!=F&&p.A.isIgnored(F),mentionEveryone:e.mention_everyone,mentions:I,mentionRoles:R,mentionChannels:w,mentionGames:P,messageReference:D,mentioned:(0,E.Uj)({userId:f.default.getId(),channelId:e.channel_id,mentionEveryone:null!=(a=e.mention_everyone)&&a,mentionUsers:I,mentionRoles:R,mentionGames:P.map(e=>e.id)}),giftCodes:(0,m.pF)(e)?(0,m.e7)(null==e?void 0:e.embeds[0].url):(0,m.e7)(e.content),content:B,referralTrialOfferId:_,premiumGroupInviteId:h,call:x(e.call,v.timestamp),messageSnapshots:M(e),reactions:j(null!=b?b:e.reactions,e.poll),interaction:V,interactionData:null!=O?O:e.interaction_data,interactionMetadata:e.interaction_metadata,roleSubscriptionData:e.role_subscription_data,purchaseNotification:e.purchase_notification,poll:null==e.poll?void 0:(0,o.A)(e.poll),sharedClientTheme:e.shared_client_theme,giftInfo:null==U?void 0:U,giftingPrompt:G}))}"}]