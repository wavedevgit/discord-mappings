[{"code":"async e=>{let{userId:t,content:n,location:d,openChannel:f=!0,whenReady:p=!1,entry:_,nonce:h}=e,{valid:m,failureReason:g}=await (0,c.v)({type:a.Ie.NORMAL,content:n,channel:null});if(!m)throw Error(g);let E=f?await r.Z.openPrivateChannel({recipientIds:t,location:d}):await r.Z.getOrEnsurePrivateChannel(t),b=l.Z.getChannel(E);if(null==b)throw Error(\"Failed to open private channel\");if(null!=_)(0,o.p)({channel:b,content:n,entry:_,whenReady:p,doNotNotifyOnError:!1,location:u.dy.USER_PROFILE});else{let e=s.ZP.parse(b,n);return i.Z.sendMessage(b.id,e,p,{location:u.dy.USER_PROFILE,nonce:h})}}"}]