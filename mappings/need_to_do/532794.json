[{"code":"function C(e){var t;let{initialPlanId:i,followupSKUInfo:O,onClose:v,onComplete:T,onSubscriptionConfirmation:C,analyticsLocations:N,analyticsObject:R,analyticsLocation:w,analyticsSourceLocation:P,confirmationFooter:D,isGift:x=!1,giftMessage:L,giftStyle:j,giftingOrigin:M,subscriptionTier:k,trialId:U,postSuccessGuild:G,openInvoiceId:V,applicationId:F,referralTrialOfferId:B,giftRecipient:H,returnRef:Y,subscription:W,skipConfirm:K}=null!=e?e:{},z=!1,q=null!=(t=(0,g.A)())?t:(0,s.A)(),X=p.default.getCurrentUser(),Z=(0,m.YE)(X,y.PremiumTypes.TIER_2),Q=a()(\"payment-modal\"),$=(0,m.mH)(k),J=!1;return(0,o.mMO)(async()=>{let{default:e}=await Promise.all([n.e(\"14704\"),n.e(\"29716\"),n.e(\"2824\"),n.e(\"58846\")]).then(n.bind(n,674619));return t=>{let{onClose:n}=t,a=I(t,[\"onClose\"]);return(0,r.jsx)(e,S(A({},a),{loadId:q,subscriptionTier:k,skuId:$,isGift:x,giftMessage:L,giftStyle:j,giftingOrigin:M,giftRecipient:H,initialPlanId:i,followupSKUInfo:O,onClose:e=>{if(J)return;J=!0,h._.dispatch(b.jej.WOW_MOMENT_CONFIRMATION_MODAL_CLOSED);let t=()=>{n(),null==v||v(e),e&&(null==C||C()),l.h.dispatch({type:\"PREMIUM_PAYMENT_MODAL_CLOSE\",didSucceed:e})};f.A.isDisplayingWowMomentConfirmation&&f.A.isAnimated?setTimeout(()=>{t()},E.K):t()},onComplete:()=>{z=!0,null==T||T()},onSubscriptionConfirmation:C,analyticsLocations:N,analyticsObject:R,analyticsLocation:w,analyticsSourceLocation:P,confirmationFooter:D,trialId:U,postSuccessGuild:G,planGroup:y.LE,openInvoiceId:V,applicationId:F,referralTrialOfferId:B,returnRef:Y,subscription:W,skipConfirm:!!K,wasTier2PremiumBeforePurchase:Z}))}},{onCloseRequest:()=>{J||(J=!0,h._.dispatch(b.jej.WOW_MOMENT_CONFIRMATION_MODAL_CLOSED),f.A.isDisplayingWowMomentConfirmation&&f.A.isAnimated?setTimeout(()=>{(0,o.OoC)(Q)},E.K):(0,o.OoC)(Q))},modalKey:Q,onCloseCallback:()=>{z||_.default.track(b.HAw.PAYMENT_FLOW_CANCELED,{load_id:q,payment_type:b.frM[b.VVm.SUBSCRIPTION],location:null!=w?w:R,source:P,subscription_type:b.rzx.PREMIUM,is_gift:x,sku_id:$,eligible_for_trial:null!=U,application_id:F,location_stack:N}),(0,u.ET)(),(0,c.ET)(),(0,d.z)(),null==v||v(z),z&&(null==C||C())}})}"}]