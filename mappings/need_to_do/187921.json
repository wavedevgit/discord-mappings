[{"code":"function C(e){let{user:t,guildId:n,channelId:a,sourceType:s,sourceDetails:f,setPopoutRef:p,modalKey:E,onAction:C,onClose:N,entry:w}=e,{resetInteraction:R,setInteractionToast:P}=(0,g.Pq)(),{primaryColor:D}=(0,y.E)(),[L,x]=i.useState(\"\"),[M,j]=i.useState((0,u.x7)(L)),k=i.useRef(!1),U=i.useRef(null),G=i.useCallback(e=>{e.key===O.dh.ESCAPE&&(e.stopPropagation(),R())},[R]);i.useEffect(()=>{null==p||p(null==U?void 0:U.current)},[U,p]);let V=async e=>{if(null==e)return;s===b.dS.AVATAR?C({action:\"SEND_REPLY_AVATAR\"}):s===b.dS.STATUS?C({action:\"SEND_REPLY_CUSTOM_STATUS\"}):C({action:\"SEND_REPLY_ACTIVITY\"});let n=S({input:e,username:h.Ay.getName(t),sourceType:s,sourceDetails:f});P(null);try{await (0,m.p)({userId:t.id,content:n,location:\"UserProfileReplyPopout\",openChannel:!1,whenReady:!1,entry:w})}catch(e){}P(b.AQ.REPLY)},F={[A.h5]:s===b.dS.STATUS,[A.my]:s===b.dS.AVATAR,[A.Eb]:s===b.dS.ACTIVITY};return(0,r.jsx)(l.l,{ref:U,onKeyDown:G,children:(0,r.jsx)(\"div\",{className:o()(A.kL,F,{[A.GE]:null!=D}),children:(0,r.jsx)(d.Ay,{parentModalKey:E,emojiPickerCloseOnModalOuterClick:!0,className:A.hF,innerClassName:A.rn,editorClassName:A.EN,type:c.oU.USER_PROFILE_REPLY,placeholder:v.intl.formatToPlainString(T(s),{username:_.Ay.getName(n,a,t)}),channel:I,textValue:L,richValue:M,onChange:(e,t,n)=>{t!==L&&(x(t),j(n))},focused:k.current,onFocus:()=>{k.current=!0},onSubmit:async e=>{let{value:t}=e,n=t.trim();if(0===n.length)return{shouldClear:!1,shouldRefocus:!1};try{return await V(n),R(),null==N||N(),{shouldClear:!0,shouldRefocus:!1}}catch(e){return{shouldClear:!1,shouldRefocus:!1}}}})})})}"}]