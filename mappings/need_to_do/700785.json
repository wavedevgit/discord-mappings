[{"code":"function W(e){let{permission:t,user:n,context:r,overwrites:i,roles:o,excludeGuildPermissions:s}=e;return a.e$(U({user:n,context:r,overwrites:i,roles:o,checkElevated:!0,excludeGuildPermissions:s}),t)}"},{"code":"function H(e,t){return null==t.hoistRoleId?null:E.Z.getRole(e.id,t.hoistRoleId)}"},{"code":"function k(e){let t,{forceRoles:n,context:r,overwrites:i,roles:a,checkElevated:o=!0,excludeGuildPermissions:s}=e,l=P;if(r instanceof f.Sf){var c;if(r.isScheduledForDeletion())return C;if(f.Ec.has(r.type)){let e=m.Z.getChannel(r.parent_id);return null==e?C:G(r,k({forceRoles:n,context:e,overwrites:i,roles:a,checkElevated:o,excludeGuildPermissions:s}),!1,!1)}l=null!=(c=r.computeLurkerPermissionsAllowList())?c:l,i=null!=i?T({},r.permissionOverwrites,i):r.permissionOverwrites;let e=r.getGuildId();t=null!=e?b.Z.getGuild(e):null}else i=null!=i?i:{},t=r;if(null==t)return C;let u={userId:S.lds,nick:\"\",guildId:t.id,guildMemberAvatar:null,roles:v.default.keys(n),colorString:null,colorStrings:null,hoistRoleId:null,premiumSince:null,isPending:!1,joinedAt:new Date().toISOString(),communicationDisabledUntil:null};return M({userId:S.lds,member:u,guild:t,overwrites:i,roles:a,checkElevated:o,excludeGuildPermissions:s,lurkerPermissionsMask:l})}"},{"code":"function G(e,t,n,r){return e.type!==S.d4z.PRIVATE_THREAD||n||r||a.e$(t,S.Plq.MANAGE_THREADS)?a.e$(t,S.Plq.SEND_MESSAGES_IN_THREADS)?e.isLockedThread()&&!a.e$(t,S.Plq.MANAGE_THREADS)?a.Od(t,S.Plq.SEND_MESSAGES):a.$e(t,S.Plq.SEND_MESSAGES):a.Od(t,S.Plq.SEND_MESSAGES):C}"},{"code":"function K(e,t){let n,r={};if(t instanceof f.Sf){if(t.type===S.d4z.PRIVATE_THREAD||f.Ec.has(t.type)&&null==(t=m.Z.getChannel(t.parent_id)))return!1;r=t.permissionOverwrites;let e=t.getGuildId();n=null!=e?b.Z.getGuild(e):null}else n=t;if(null==n)return!1;let i=E.Z.getEveryoneRole(n).permissions,o=r[n.id];return null!=o&&(i=a.Od(i,o.deny),i=a.IH(i,o.allow)),a.e$(i,e)}"},{"code":"function V(e,t){let n=g.ZP.getMember(e.id,t);if(null!=n)return E.Z.getSortedRoles(e.id).find(e=>n.roles.includes(e.id))}"},{"code":"function F(e){var t;return i().some(E.Z.getUnsafeMutableRoles(e.id),e=>e.hoist&&(0,_.Fs)(e,S.Plq.ADMINISTRATOR))?void 0:null!=(t=e.ownerId)?t:void 0}"},{"code":"function Z(e,t){if(f.Ec.has(e.type))return!0;let{guild_id:n}=e;if(null==t||null==n||n!==t.guild_id)return!1;let r=T({},e.permissionOverwrites),i=T({},t.permissionOverwrites);return null==r[n]&&(r[n]=Y(n)),null==i[n]&&(i[n]=Y(n)),Object.keys(r).length===Object.keys(i).length&&!Object.keys(r).some(e=>{let t=r[e],n=i[e];return!(null!=n&&a.fS(n.deny,t.deny)&&a.fS(n.allow,t.allow))})}"},{"code":"function z(e,t){let n,r={};if(t instanceof f.Sf){if(t.type===S.d4z.PRIVATE_THREAD||f.Ec.has(t.type)&&null==(t=m.Z.getChannel(t.parent_id)))return!1;r=t.permissionOverwrites;let e=t.getGuildId();n=null!=e?b.Z.getGuild(e):null}else n=t;if(null==n)return!1;let o=E.Z.getEveryoneRole(n);return!(!(0,_.Fs)(o,e)||i().some(r,t=>a.e$(t.deny,e)))}"},{"code":"function B(e,t,n,r){return!!(null!=t&&(0,p.eM)(e,t))||null!=n&&(null==r||(0,O.C$)(n,r))}"},{"code":"function U(e){var t,n,r;let i,{user:a,context:o,overwrites:s,roles:l,checkElevated:u=!0,excludeGuildPermissions:_=!1}=e;if(null==a)return C;let h=\"string\"==typeof a?a:a.id,E=P;if(o instanceof f.Sf){if(o.isScheduledForDeletion())return C;if(f.Ec.has(o.type)){let e=m.Z.getChannel(o.parent_id);if(null==e||e.isScheduledForDeletion())return C;let t=h===(null==(n=y.default.getCurrentUser())?void 0:n.id)&&d.Z.hasJoined(o.id);return G(o,U({user:a,context:e,overwrites:s,roles:l,checkElevated:u,excludeGuildPermissions:_}),t,g.ZP.isCurrentUserGuest(o.guild_id))}E=null!=(r=o.computeLurkerPermissionsAllowList())?r:E,s=null!=s?T({},o.permissionOverwrites,s):o.permissionOverwrites;let e=o.getGuildId();i=null!=e?b.Z.getGuild(e):null}else s=null!=s?s:{},i=o;if(null==i)return C;if(!(h===(null==(t=y.default.getCurrentUser())?void 0:t.id)&&c.Z.isViewingRoles(i.id))&&(0,p.eM)(i,h))return L(A,i,h,u);let O=g.ZP.getMember(i.id,h);return M({userId:h,member:O,guild:i,overwrites:s,roles:l,checkElevated:u,excludeGuildPermissions:_,lurkerPermissionsMask:E})}"},{"code":"function Y(e){return{id:e,type:o.BN.ROLE,allow:C,deny:C}}"}]