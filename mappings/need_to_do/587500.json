[{"code":"function el(e){var t;let{animatedStyle:n,y:a,x:f,channel:h}=e,{analyticsLocations:b}=(0,m.Ay)(_.A.INCOMING_CALL_MODAL),[O,v]=i.useState(!1),A=(0,l.bG)([D.A],()=>D.A.getGuild(h.guild_id)),I=null!=A?k.Ay.getGuildIconURL({id:A.id,icon:A.icon,size:ea}):null,S=null!=(t=(0,g.Y)(h,ea,!0))?t:I,T=(0,E.Ay)(h),[C,N]=(0,l.yK)([x.A],()=>[x.A.supports(K.O5.VIDEO),Object.keys(x.A.getVideoDevices()).length]),R=null!=A?\"\".concat(T,\", \").concat(A.name):T,L=(0,l.bG)([j.A],()=>j.A.isFocused()),M=(0,l.bG)([U.A],()=>U.A.getMode(h.id)),V=i.useCallback(e=>{null!=e.top&&null!=e.left&&d.A.move(e.left,e.top)},[]),F=(0,c.zhh)({value:+!!O,config:ee($({},o.config.stiff),{clamp:!0})},\"animate-always\");i.useEffect(()=>{let e=e=>{e.key===W.dh.ESCAPE&&u.A.stopRinging(h.id)};return window.addEventListener(\"keydown\",e),()=>window.removeEventListener(\"keydown\",e)},[h]);let B=M===Y._Of.VIDEO&&C&&N>0,{enabled:H}=w.A.useExperiment({guildId:null==h?void 0:h.guild_id,location:\"IncomingCallModal\"}),Q=M===Y._Of.VOICE||H&&h.type===Y.rbe.GUILD_VOICE?z.intl.string(z.t.Js8cK3):z.intl.string(z.t.KcnWCO),J=(0,r.jsxs)(r.Fragment,{children:[null!=A&&null==I?(0,r.jsx)(\"div\",{className:s()(X.Kk,q.iE,q.hs),children:(0,r.jsx)(y.Ay,{className:X.dK,mask:y.hW.AVATAR_DEFAULT,width:O?40:80,height:O?40:80,children:(0,r.jsx)(\"div\",{className:s()(X.$f,X.Gc),children:(0,r.jsx)(\"div\",{className:X.Hj,children:(0,P.Rb)(A)})})})}):(0,r.jsx)(G.A,{className:X.Kk,ringing:L,src:null!=S?S:\"\",ringingType:G.A.RingingType.INCOMING,size:O?c._3J.SIZE_40:c._3J.SIZE_80}),(0,r.jsxs)(\"div\",{className:X.i8,children:[(0,r.jsx)(c.Text,{className:X.DD,color:\"text-strong\",variant:O?\"text-md/semibold\":\"text-lg/semibold\",children:R}),(0,r.jsx)(c.Text,{color:\"text-default\",className:X.VA,variant:O?\"text-sm/normal\":\"text-md/normal\",children:Q})]})]}),el=B?et:en,ec=(0,l.bG)([j.A],()=>j.A.windowSize());return(0,r.jsx)(m.f5,{value:b,children:(0,r.jsx)(p.A,{className:X.iE,selector:\".\".concat(X.zr),initialPosition:{left:f,top:a},maxX:ec.width,maxY:ec.height,onDragEnd:V,dragAnywhere:!0,children:(0,r.jsx)(c.NPJ,{theme:O?Y.NJ8.DARK:void 0,children:e=>(0,r.jsxs)(o.animated.div,{className:s()(X.zr,Z.a8,{[X.mY]:O},e),style:ee($({},n),{minWidth:F.value.interpolate([0,1],[el.width,er]),minHeight:F.value.interpolate([0,1],[el.height,ei]),translateX:F.value.interpolate([0,1],[0,-1*Math.abs(er-el.width)/2])}),children:[O?(0,r.jsx)(es,{header:J}):(0,r.jsx)(\"div\",{className:X.Rh,children:J}),(0,r.jsx)(eo,{canVideo:B,channel:h,numVideoDevices:N}),B&&!O?(0,r.jsx)(\"div\",{\"data-button-hoisted-classname-wrapper\":!0,className:X.jc,children:(0,r.jsx)(c.Button,{variant:\"secondary\",size:\"sm\",text:z.intl.string(z.t[\"8B0UDr\"]),fullWidth:!0,onClick:()=>v(!0)})}):null]})})})})}"}]