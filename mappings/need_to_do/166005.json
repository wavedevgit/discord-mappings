[{"code":"function J(e){let{userId:t,guild:n,roles:a,className:s,onAddRole:l,onRemoveRole:c,onExpand:u,onCollapse:d,allowEditing:f=!1,readOnly:p=!1}=e,{canAddRoles:_,canRemoveAnyRoles:h,hasDeveloperContextMenu:m,isRoleRemovable:g}=H({userId:t,guild:n,roles:a,allowEditing:f,readOnly:p}),E=_||h||m,y=Y(t,n.id,c),b=W(),O=i.useRef({}),v=(e,t)=>{null!=t?O.current[e]=t:delete O.current[e]},[A,I]=i.useState(a),[S,T]=i.useState(Z),[C,N]=i.useState(!1),w=i.useRef(null),D=i.useRef(null),L=i.useRef(0);i.useLayoutEffect(()=>{L.current=0},[a]),i.useLayoutEffect(()=>{if(C)return;let e=X(w.current),t=X(D.current),n=[],r=Z-e-t;for(let e=0;e<Q;e++){let t=e===Q-1?r:Z;for(let e=0,r=n.length;r<a.length;r++){let i=a[r],o=O.current[i.id];if(null==o){0===L.current&&n.push(i);continue}let s=Math.min(o.getBoundingClientRect().width,t);if(e+s>t)break;e+=s+q,n.push(i)}}I(n.length===A.length?A:n),T(r),L.current++},[a,A,C]);let x=C?a:A,M=()=>{C?(null==d||d(),N(!1)):(null==u||u(),N(!0))},j=()=>A.length<a.length?(0,r.jsx)(z,{isExpanded:C,overflowCount:a.length-A.length,onClick:M,buttonRef:w}):null,k=()=>(0,r.jsx)(B,{buttonRef:D,userId:t,guild:n,showLabel:0===a.length,onAddRole:l});return 0===a.length?_?(0,r.jsx)(\"div\",{className:o()(P.MR,s),children:k()}):null:(0,r.jsx)(\"div\",{className:o()(P.MR,s),children:E?(0,r.jsxs)(F,{roleCount:a.length,children:[x.map((e,t)=>(0,r.jsx)(V,{role:e,guildId:n.id,canRemove:g(e.id),onRemoveRole:h?y:void 0,itemRef:t=>v(e.id,t),onContextMenu:m?t=>b(t,e.id):void 0,style:{maxWidth:C||t!==A.length-1?Z:S}},e.id)),j(),_?k():null]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(\"ul\",{className:P.nt,\"aria-label\":R.intl.string(R.t[\"LPJmL/\"]),children:x.map((e,t)=>(0,r.jsx)(\"li\",{children:(0,r.jsx)(G,{itemRef:t=>v(e.id,t),role:e,guildId:n.id,style:{maxWidth:C||t!==A.length-1?Z:S}})},e.id))}),j()]})})}"},{"code":"function K(e){let{userId:t,guild:n,roles:i,className:a,onRemoveRole:s,onAddRole:l,readOnly:c=!1,allowEditing:u=!1}=e,{canAddRoles:d,canRemoveAnyRoles:f,hasDeveloperContextMenu:p,isRoleRemovable:_}=H({userId:t,guild:n,roles:i,allowEditing:u,readOnly:c}),h=d||f||p,m=Y(t,n.id,s),g=W(),E=()=>(0,r.jsx)(B,{userId:t,guild:n,showLabel:0===i.length,onAddRole:l});return 0===i.length?d?(0,r.jsx)(\"div\",{className:o()(P.MR,a),children:E()}):null:(0,r.jsx)(\"div\",{className:o()(P.MR,a),children:h?(0,r.jsxs)(F,{roleCount:i.length,children:[i.map(e=>(0,r.jsx)(V,{role:e,guildId:n.id,canRemove:_(e.id),onRemoveRole:f?m:void 0,onContextMenu:p?t=>g(t,e.id):void 0},e.id)),d?E():null]}):(0,r.jsx)(\"ul\",{className:P.nt,\"aria-label\":R.intl.string(R.t[\"LPJmL/\"]),children:i.map(e=>(0,r.jsx)(\"li\",{children:(0,r.jsx)(G,{role:e,guildId:n.id})},e.id))})})}"}]