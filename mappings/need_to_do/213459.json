[{"code":"async function en(e){var t,n,r;let i=q(e),a=null!=(t=eh.indices[i])?t:H;if(!eP(a)){if(a.fetchState.fetching){let e=a.fetchState.promise;return await e,null!=(n=eh.indices[i])?n:H}return a}return await er(e),null!=(r=eh.indices[i])?r:H}"},{"code":"function eZ(e,t){var n,r,i,a,o,s;let l,c;if(t===D.bi.BUILT_IN)return{descriptor:S.Tm[D.bi.BUILT_IN],sectionCommands:(0,S.Kh)([d.yU.CHAT],!0,!1),isGuildInstalled:!0,isUserInstalled:!0};let u=eh.getContextState(e),f=eh.getUserState(),p=null!=(o=null==(n=u.result)?void 0:n.sections)?o:{},_=null!=(s=null==(r=f.result)?void 0:r.sections)?s:{},h=p[t],m=_[t],g=null==(a=eh.getApplicationState(t).result)||null==(i=a.sections)?void 0:i[t];if(null!=h&&null!=m){for(let e in l=m.descriptor,c=[],m.commands){let t=m.commands[e];c.push(t)}for(let e in h.commands)if(!(e in m.commands)){let t=h.commands[e];c.push(t)}}else null!=h?(l=h.descriptor,c=Object.values(h.commands)):null!=m?(l=m.descriptor,c=Object.values(m.commands)):null!=g&&(l=g.descriptor,c=Object.values(g.commands));return{descriptor:l,sectionCommands:c,isGuildInstalled:null!=h,isUserInstalled:null!=m}}"},{"code":"function eS(e,t,n,r){let{descriptors:a,commands:o,sectionedCommands:s,loading:l}=eT(e,n,r),c=i.useMemo(()=>\"channel\"===e.type?{channel:e.channel,guild:t}:void 0,[e,t]),u=(0,I.R)(c);return i.useMemo(()=>{if(!r.includeFrecency||0===u.length)return{descriptors:a,commands:o,sectionedCommands:s,loading:l};let e=o.filter(e=>u.includes(e.id)).sort((e,t)=>{let n=T.ZP.getScoreWithoutLoadingLatest(c,e);return T.ZP.getScoreWithoutLoadingLatest(c,t)-n}).splice(0,D.hz);return 0===e.length?{descriptors:a,commands:o,sectionedCommands:s,loading:l}:{descriptors:[S.Tm[D.bi.FRECENCY],...a],commands:e.concat(o),sectionedCommands:[{section:S.Tm[D.bi.FRECENCY],data:e},...s],loading:l}},[l,r.includeFrecency,u,o,a,s,c])}"},{"code":"function eE(e,t){let[n,r]=i.useState(!0),a=(0,l.cj)([eh],()=>{var t;return null!=(t=eh.indices[e])?t:H});return i.useEffect(()=>{n&&null!=e&&(t&&(v.default.track(x.rMx.APPLICATION_COMMAND_CACHE_FETCH,{miss:null==a.result,size:Object.keys(eh.indices).length}),eP(a)&&(0,C.j)({type:\"guild\",guildId:e})),r(!1))},[a,t,e,n]),a}"},{"code":"function eb(e,t){let[n,r]=i.useState(!0),a=(0,l.cj)([eh],()=>eh.getUserState());return i.useEffect(()=>{n&&(t&&eP(a)&&e&&(0,C.j)({type:\"user\"}),r(!1))},[a,t,e,n]),a}"},{"code":"function eg(e,t,n){let[r,a]=i.useState(!0),o=(0,l.cj)([eh],()=>\"channel\"===e.type?eh.getContextState(e):eh.getUserState());return i.useEffect(()=>{if(r){if(\"contextless\"===e.type){n&&eP(o)&&(0,C.j)({type:\"user\"});return}n&&t&&eN(e.channel)&&(v.default.track(x.rMx.APPLICATION_COMMAND_CACHE_FETCH,{miss:null==o.result,size:Object.keys(eh.indices).length}),eP(o)&&(null!=e.channel.guild_id?(0,C.j)({type:\"guild\",guildId:e.channel.guild_id}):(0,C.j)({type:\"channel\",channelId:e.channel.id}))),a(!1)}},[o,n,e,t,r]),o}"},{"code":"function eG(e,t){return eU(e,t)}"},{"code":"function eT(e,t,n){let r=\"channel\"===e.type?e.channel:void 0,a=(0,w.Hs)(r,t.commandTypes),o=!1!==t.applicationCommands,s=eg(e,o,n.allowFetch),l=eb(o,n.allowFetch),c=eO(),u=ev();return ey(n.applicationId,n.allowFetch),i.useMemo(()=>eC({permissionContext:a,text:t.text,allowApplicationCommands:o,builtIns:t.builtIns,scoreMethod:n.scoreMethod,allowEmptySections:n.allowEmptySections,contextState:s,userState:l,launcherContext:e,applicationStates:n.allowApplicationState?c:new Map,sortOptions:n.sortOptions,singleApplicationId:n.applicationId,installOnDemand:n.installOnDemand}),[a,t.text,t.builtIns,o,n.scoreMethod,n.allowEmptySections,n.sortOptions,n.allowApplicationState,n.applicationId,n.installOnDemand,s,l,e,c,u])}"}]