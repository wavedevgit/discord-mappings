[{"code":"function G(e){let{onClose:t,onComplete:n,onStepChange:a,transitionState:o,loadId:s,skuId:l,isGift:c=!1,giftRecipient:u,giftMessage:f,giftingOrigin:p,analyticsLocations:b,returnRef:I}=e,{analyticsLocations:T}=D({analyticsLocations:b}),{confettiCanvas:C,environment:w,setConfettiCanvas:R,customConfettiVisible:G,setCustomConfettiVisible:V,customConfettiDisplayOptions:F,hideConfirmStepConfetti:B}=x({skuId:l}),H=M({skuId:l}),{paymentModalSkuId:Y,paymentModalOnClose:W,paymentModalOnComplete:K}=j({onClose:t,onComplete:n,skuIDs:H,setCustomConfettiVisible:V}),z=(e,t,n)=>(0,r.jsx)(U,{isGift:c,step:n,onClose:t,giftingOrigin:p}),q=i.useMemo(()=>[y.kJ,...c?[A.gA]:[],O.p,...y.hh,y.r2,{key:m.pn.CONFIRM,renderStep:e=>(0,r.jsx)(v.v,P({confettiCanvas:C,analyticsLocations:T,hideConfetti:B},e)),options:L}],[T,C,B,c]);return(0,r.jsxs)(d.f5,{value:T,children:[(0,r.jsx)(k,{environment:w,setConfettiCanvas:R,customConfettiDisplayOptions:F,customConfettiVisible:G}),(0,r.jsx)(h.PaymentContextProvider,{loadId:s,stepConfigs:q,applicationId:S.FYj,skuIDs:H,isGift:c,activeSubscription:null,purchaseType:N.VV.ONE_TIME,excludeSubscriptionPlansBySKU:!0,children:(0,r.jsx)(g.Qt,{children:(0,r.jsx)(_.dX,{isGift:c,giftRecipient:u,giftMessage:f,giftingOrigin:p,children:(0,r.jsx)(E.PaymentModal,{skuId:Y,onClose:W,onComplete:K,applicationId:S.FYj,initialPlanId:null,analyticsLocations:T,renderHeader:z,onStepChange:a,hideShadow:!0,transitionState:o,returnRef:I})})})})]})}"},{"code":"e=>{let{environment:t,setConfettiCanvas:n,customConfettiDisplayOptions:i,customConfettiVisible:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Fk,{ref:n,className:w.Lb,environment:t.current}),(0,r.jsx)(p.K,{options:i,className:o()(w.Oh,{[w.R]:!a})})]})}"},{"code":"e=>{let{analyticsLocations:t}=e,{analyticsLocations:n}=(0,d.Ay)([...t,u.A.COLLECTIBLES_PAYMENT_MODAL]);return{analyticsLocations:n}}"},{"code":"e=>{let{skuId:t}=e,n=i.useRef(new s.OH),[r,a]=i.useState(null),[o,l]=i.useState(!1),c=i.useMemo(()=>(0,T.AB)({purchaseType:C.gs.FIAT,skuId:t}),[t]);return{environment:n,confettiCanvas:r,setConfettiCanvas:a,customConfettiVisible:o,setCustomConfettiVisible:l,customConfettiDisplayOptions:c,hideConfirmStepConfetti:null!=c}}"},{"code":"e=>{let{step:t,onClose:n,isGift:i,giftingOrigin:a}=e;return i?(0,r.jsx)(b.A,{step:t,onClose:()=>n(!1),giftingOrigin:a}):(0,r.jsx)(I.A,{step:t,onClose:()=>n(!1)})}"},{"code":"e=>{var t;let{skuIDs:n,onClose:r,onComplete:a,setCustomConfettiVisible:o}=e,s=null!=(t=n[0])?t:null,l=i.useCallback(()=>{o(!0),null==a||a()},[a,o]);return{paymentModalSkuId:s,paymentModalOnClose:i.useCallback(e=>{o(!1),r(e),c.h.dispatch({type:\"SKU_PURCHASE_MODAL_CLOSE\",error:null})},[r,o]),paymentModalOnComplete:l}}"},{"code":"e=>{let{skuId:t}=e,n=(0,l.yK)([f.A],()=>f.A.recommendedGiftSkuIds,[]);return null!=t?[t]:n}"}]