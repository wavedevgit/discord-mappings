[{"code":"function $(e,t){a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_SUCCESS\",quest:void 0,placement:e,fetchedAt:Date.now(),responseTtlSeconds:t/1e3})}"},{"code":"function X(e,t,n){a.h.dispatch({type:\"QUESTS_UPDATE_OPTIMISTIC_PROGRESS\",questId:e,taskEventName:t,progress:n})}"},{"code":"async function K(e){try{a.h.dispatch({type:\"QUESTS_DOCK_RESET_SOFT_DISMISSAL\"});let t=await i.Bo.del({url:S.Rsh.QUESTS_PREVIEW_DISMISSIBILITY(e),body:{},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,A.tp)(t.body)})}catch(t){a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new s.A(t),questId:e})}}"},{"code":"async function Z(){if(!E.A.isFetchingClaimedQuests){a.h.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_BEGIN\"});try{let e=(await i.Bo.get({url:S.Rsh.QUESTS_CLAIMED_QUESTS,rejectWithError:!1})).body.quests.map(e=>(0,A.S)(e));a.h.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_SUCCESS\",quests:e})}catch(e){a.h.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_FAILURE\",error:new s.A(e)})}}}"},{"code":"async function L(){await i.Bo.del({url:S.Rsh.QUESTS_RESET_RECENT_QUEST_COMPLETIONS,rejectWithError:!1})}"},{"code":"function Q(e){a.h.dispatch({type:\"QUESTS_RESET_OPTIMISTIC_PROGRESS\",questId:e})}"},{"code":"async function es(){if(E.A.isFetchingQuestHomeTakeover())return;let e=E.A.getLastFetchedQuestHomeTakeover();if(!(null!=e&&Date.now()-e<=ea)){a.h.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_BEGIN\"});try{let e=[y.gh.QUEST_HOME_BANNER],t=await i.Bo.get({url:S.Rsh.QUEST_PLACEMENT,query:{placements:e,platform:y.vg.WEB},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_SUCCESS\",takeover:(0,A.Em)(t.body)})}catch(e){throw a.h.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_FAILURE\",error:new s.A(e)}),e}}}"},{"code":"async function W(e){try{let t=await i.Bo.del({url:S.Rsh.QUESTS_PREVIEW_STATUS(e),body:{},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,A.tp)(t.body)})}catch(t){a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new s.A(t),questId:e})}}"},{"code":"async function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{let n=await i.Bo.post({url:S.Rsh.QUESTS_PREVIEW_COMPLETE(e),body:{percent:t},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,A.tp)(n.body)})}catch(t){a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new s.A(t),questId:e})}}"},{"code":"function z(e){a.h.dispatch({type:\"QUESTS_DELIVERY_OVERRIDE\",questId:e})}"},{"code":"async function ei(e){if(!E.A.isFetchingQuestPreview(e)){a.h.dispatch({type:\"QUESTS_FETCH_PREVIEW_BEGIN\",questId:e});try{let t=await i.Bo.get({url:S.Rsh.QUEST_PREVIEW(e),rejectWithError:!1});a.h.dispatch({type:\"QUESTS_FETCH_PREVIEW_SUCCESS\",questId:e,quest:(0,A.rO)(t.body)})}catch(t){throw a.h.dispatch({type:\"QUESTS_FETCH_PREVIEW_FAILURE\",error:new s.A(t),questId:e}),t}}}"},{"code":"function q(e,t){a.h.dispatch({type:\"QUESTS_SELECT_TASK_PLATFORM\",questId:e,platform:t})}"},{"code":"async function en(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,O.tW)(e,O.fY.VIDEO_PLAYER_TRANSCRIPT,void 0,t);if(null==n)return void b.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:b.Lx.FAILURE});b.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:b.Lx.FETCHING});try{let t=await i.Bo.get({url:n.url,rejectWithError:!0});b.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:b.Lx.SUCCESS,text:t.text,url:n.url})}catch(t){b.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:b.Lx.FAILURE})}}"},{"code":"async function J(e,t){var n,r,c,d,p,_,h,E;let b=Date.now();g.A.recordQuestRequestAttempt(\"/quests/decision\",t,e),a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_BEGIN\",placement:e});try{let s=await (0,l.Ht)(),E=await (0,o.sN)(),O=(await i.Bo.get({url:S.Rsh.QUEST_FETCH_QUEST_TO_DELIVER(e,null==s?void 0:s.uuid,E.uuid),rejectWithError:!1})).body,v=O.quest,I=null!=v?(0,A.Yn)(v):void 0;if(a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_SUCCESS\",quest:I,adDecisionData:{ad_id:null==(r=O.ad_identifiers)?void 0:r.ad_id,adset_id:null==(c=O.ad_identifiers)?void 0:c.adset_id,ad_set_id:null==(d=O.ad_identifiers)?void 0:d.ad_set_id,campaign_id:null==(p=O.ad_identifiers)?void 0:p.campaign_id,creative_id:null==(_=O.ad_identifiers)?void 0:_.creative_id,creative_type:null==(h=O.ad_identifiers)?void 0:h.creative_type,decision_id:O.request_id,is_targeted:null!=O.ad_identifiers},metadataRaw:O.metadata_raw,metadataSealed:O.metadata_sealed,trafficMetadataRaw:O.traffic_metadata_raw,trafficMetadataSealed:O.traffic_metadata_sealed,adContext:O.ad_context,responseTtlSeconds:O.response_ttl_seconds,placement:e,fetchedAt:b}),g.A.recordQuestRequestApiResponse(\"/quests/decision\",{wasSuccessful:!0,adRequestId:String(O.request_id),currentQuestId:null!=(n=null==I?void 0:I.id)?n:null,currentFetchedAt:b}),null==I)return;e===y.yW.DESKTOP_ACCOUNT_PANEL_AREA&&m.A.startTracking(I.id),f.default.track(S.HAw.QUEST_DECISION_RECEIVED,R(N({},(0,u.A)()),{quest_id:I.id,caller_source:t,ad_request_id:String(O.request_id)}))}catch(n){g.A.recordQuestRequestApiResponse(\"/quests/decision\",{wasSuccessful:!1}),f.default.track(S.HAw.QUEST_DECISION_ROUNDTRIP_ERROR,R(N({},(0,u.A)()),{reason:null!=(E=null==n?void 0:n.message)?E:null,api_error:new s.A(n).getAnyErrorMessage(),caller_source:t})),a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_FAILURE\",error:new s.A(n),placement:e})}}"},{"code":"async function et(e,t){var n;await _.A.post({url:S.Rsh.QUESTS_VIDEO_PROGRESS(e),body:{timestamp:t},trackedActionData:{event:r.NetworkActionNames.QUEST_VIDEO_PROGRESS,properties:{quest_id:e,timestamp_sec:t.toString(),stack_trace:null!=(n=Error().stack)?n:\"\"}},rejectWithError:!1})}"},{"code":"async function er(e){let t=await i.Bo.get({url:S.Rsh.QUEST(e),rejectWithError:!1});return(0,A.Yn)(t.body)}"},{"code":"async function ee(e,t){a.h.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_BEGIN\",content:t});try{let n=await (0,l.Ht)(),r=e.join(\",\"),s=await i.Bo.get({url:S.Rsh.QUEST_EARNED_DECISION(r,t,null==n?void 0:n.uuid),rejectWithError:!1}),o=s.body.quests,c=new Map;if(null!=o)for(let[e,t]of Object.entries(o))(0,A.s2)(t)&&c.set(e,(0,A.rO)(t));let u=s.body.metadata_raw;return a.h.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_SUCCESS\",quests:c,metadataRaw:u,content:t}),{quests:c,metadataRaw:u}}catch(e){a.h.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_FAILURE\",error:new s.A(e),content:t})}}"}]