[{"code":"function er(e,t){a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_SUCCESS\",quest:void 0,placement:e,fetchedAt:Date.now(),responseTtlSeconds:t/1e3})}"},{"code":"function ee(e,t,n){a.h.dispatch({type:\"QUESTS_UPDATE_OPTIMISTIC_PROGRESS\",questId:e,taskEventName:t,progress:n})}"},{"code":"async function Q(e){try{a.h.dispatch({type:\"QUESTS_DOCK_RESET_SOFT_DISMISSAL\"});let t=await i.Bo.del({url:w.Rsh.QUESTS_PREVIEW_DISMISSIBILITY(e),body:{},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,C.tp)(t.body)})}catch(t){a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new o.A(t),questId:e})}}"},{"code":"async function $(){if(!b.A.isFetchingClaimedQuests){a.h.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_BEGIN\"});try{let e=(await i.Bo.get({url:w.Rsh.QUESTS_CLAIMED_QUESTS,rejectWithError:!1})).body.quests.map(e=>(0,C.S)(e));a.h.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_SUCCESS\",quests:e})}catch(e){a.h.dispatch({type:\"QUESTS_FETCH_CLAIMED_QUESTS_FAILURE\",error:new o.A(e)})}}}"},{"code":"async function U(){await i.Bo.del({url:w.Rsh.QUESTS_RESET_RECENT_QUEST_COMPLETIONS,rejectWithError:!1})}"},{"code":"function et(e){a.h.dispatch({type:\"QUESTS_RESET_OPTIMISTIC_PROGRESS\",questId:e})}"},{"code":"async function eu(){if(b.A.isFetchingQuestHomeTakeover())return;let e=b.A.getLastFetchedQuestHomeTakeover();if(!(null!=e&&Date.now()-e<=ec)){a.h.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_BEGIN\"});try{let e=[O.gh.QUEST_HOME_BANNER],t=await i.Bo.get({url:w.Rsh.QUEST_PLACEMENT,query:{placements:e,platform:O.vg.WEB},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_SUCCESS\",takeover:(0,C.Em)(t.body)})}catch(e){throw a.h.dispatch({type:\"QUESTS_FETCH_QUEST_HOME_TAKEOVER_FAILURE\",error:new o.A(e)}),e}}}"},{"code":"async function Z(e){try{let t=await i.Bo.del({url:w.Rsh.QUESTS_PREVIEW_STATUS(e),body:{},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,C.tp)(t.body)})}catch(t){a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new o.A(t),questId:e})}}"},{"code":"async function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{let n=await i.Bo.post({url:w.Rsh.QUESTS_PREVIEW_COMPLETE(e),body:{percent:t},rejectWithError:!1});a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_SUCCESS\",previewQuestUserStatus:(0,C.tp)(n.body)})}catch(t){a.h.dispatch({type:\"QUESTS_PREVIEW_UPDATE_FAILURE\",error:new o.A(t),questId:e})}}"},{"code":"function X(e){a.h.dispatch({type:\"QUESTS_DELIVERY_OVERRIDE\",questId:e})}"},{"code":"async function el(e){if(!b.A.isFetchingQuestPreview(e)){a.h.dispatch({type:\"QUESTS_FETCH_PREVIEW_BEGIN\",questId:e});try{let t=await i.Bo.get({url:w.Rsh.QUEST_PREVIEW(e),rejectWithError:!1});a.h.dispatch({type:\"QUESTS_FETCH_PREVIEW_SUCCESS\",questId:e,quest:(0,C.rO)(t.body)})}catch(t){throw a.h.dispatch({type:\"QUESTS_FETCH_PREVIEW_FAILURE\",error:new o.A(t),questId:e}),t}}}"},{"code":"function J(e,t){a.h.dispatch({type:\"QUESTS_SELECT_TASK_PLATFORM\",questId:e,platform:t})}"},{"code":"async function eo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,I.tW)(e,I.fY.VIDEO_PLAYER_TRANSCRIPT,void 0,t);if(null==n)return void v.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:v.Lx.FAILURE});v.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:v.Lx.FETCHING});try{let t=await i.Bo.get({url:n.url,rejectWithError:!0});v.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:v.Lx.SUCCESS,text:t.text,url:n.url})}catch(t){v.Ay.getState().setTranscriptAsset({questId:e.id,fetchStatus:v.Lx.FAILURE})}}"},{"code":"async function en(e,t){var n,r,c,f,h,m,g,b;let v=Date.now();y.A.recordQuestRequestAttempt(\"/quests/decision\",t,e),a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_BEGIN\",placement:e});try{let o=await (0,l.Ht)(),b=await (0,s.sN)(),I=A.r.getConfig({location:\"QuestActionCreators.fetchQuestToDeliver\"}),S=d.H1.getSetting(),T=p.A.getGuildId(),N=I.enabled&&S&&null!=T?T:void 0,R=new URLSearchParams({placement:String(e)});(null==o?void 0:o.uuid)!=null&&R.append(\"client_heartbeat_session_id\",o.uuid),null!=b.uuid&&R.append(\"client_ad_session_id\",b.uuid),null!=N&&R.append(\"guild_id\",N);let P=(await i.Bo.get({url:\"\".concat(w.Rsh.QUEST_FETCH_QUEST_TO_DELIVER,\"?\").concat(R.toString()),rejectWithError:!1})).body,L=P.quest,M=null!=L?(0,C.Yn)(L):void 0;if(a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_SUCCESS\",quest:M,adDecisionData:{ad_id:null==(r=P.ad_identifiers)?void 0:r.ad_id,adset_id:null==(c=P.ad_identifiers)?void 0:c.adset_id,ad_set_id:null==(f=P.ad_identifiers)?void 0:f.ad_set_id,campaign_id:null==(h=P.ad_identifiers)?void 0:h.campaign_id,creative_id:null==(m=P.ad_identifiers)?void 0:m.creative_id,creative_type:null==(g=P.ad_identifiers)?void 0:g.creative_type,decision_id:P.request_id,is_targeted:null!=P.ad_identifiers},metadataRaw:P.metadata_raw,metadataSealed:P.metadata_sealed,trafficMetadataRaw:P.traffic_metadata_raw,trafficMetadataSealed:P.traffic_metadata_sealed,adContext:P.ad_context,responseTtlSeconds:P.response_ttl_seconds,placement:e,fetchedAt:v}),y.A.recordQuestRequestApiResponse(\"/quests/decision\",{wasSuccessful:!0,adRequestId:String(P.request_id),currentQuestId:null!=(n=null==M?void 0:M.id)?n:null,currentFetchedAt:v}),null==M)return;e===O.yW.DESKTOP_ACCOUNT_PANEL_AREA&&E.A.startTracking(M.id),_.default.track(w.HAw.QUEST_DECISION_RECEIVED,x(D({},(0,u.A)()),{quest_id:M.id,caller_source:t,ad_request_id:String(P.request_id)}))}catch(n){y.A.recordQuestRequestApiResponse(\"/quests/decision\",{wasSuccessful:!1,currentFetchedAt:v}),_.default.track(w.HAw.QUEST_DECISION_ROUNDTRIP_ERROR,x(D({},(0,u.A)()),{reason:null!=(b=null==n?void 0:n.message)?b:null,api_error:new o.A(n).getAnyErrorMessage(),caller_source:t})),a.h.dispatch({type:\"QUESTS_FETCH_QUEST_TO_DELIVER_FAILURE\",error:new o.A(n),placement:e})}}"},{"code":"async function ea(e,t){var n;await m.A.post({url:w.Rsh.QUESTS_VIDEO_PROGRESS(e),body:{timestamp:t},trackedActionData:{event:r.NetworkActionNames.QUEST_VIDEO_PROGRESS,properties:{quest_id:e,timestamp_sec:t.toString(),stack_trace:null!=(n=Error().stack)?n:\"\"}},rejectWithError:!1})}"},{"code":"async function es(e){let t=await i.Bo.get({url:w.Rsh.QUEST(e),rejectWithError:!1});return(0,C.Yn)(t.body)}"},{"code":"async function ei(e,t,n){let r=Date.now();g.A.recordEarnedRequestAttempt(t,n),a.h.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_BEGIN\",content:t});try{var s;let n=await (0,l.Ht)(),o=e.join(\",\"),c=await i.Bo.get({url:w.Rsh.QUEST_EARNED_DECISION(o,t,null==n?void 0:n.uuid),rejectWithError:!1}),u=c.body.quests,d=new Map;if(null!=u)for(let[e,t]of Object.entries(u))(0,C.s2)(t)&&d.set(e,(0,C.rO)(t));let f=c.body.metadata_raw;return a.h.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_SUCCESS\",quests:d,metadataRaw:f,content:t}),g.A.recordEarnedRequestApiResponse(t,{wasSuccessful:!0,requestId:null!=(s=c.body.request_id)?s:null,fetchedAt:r}),{quests:d,metadataRaw:f}}catch(e){g.A.recordEarnedRequestApiResponse(t,{wasSuccessful:!1,fetchedAt:r}),a.h.dispatch({type:\"QUESTS_FETCH_EARNED_QUEST_TO_DELIVER_FAILURE\",error:new o.A(e),content:t})}}"}]