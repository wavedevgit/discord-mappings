[{"code":"function p(e,t,n){var p;let{node:h,isVirtualized:m,focusMode:g=\"child\",shouldSelectOnPressUp:E,onAction:b}=e,{direction:y}=(0,d.j)(),{keyboardDelegate:O,actions:{onCellAction:v}}=r.B.get(t),S=(0,u.useRef)(null),I=()=>{if(n.current){let e=(0,o.QL)(n.current);if(\"child\"===g){if(n.current.contains(document.activeElement)&&n.current!==document.activeElement)return;let r=\"last\"===t.selectionManager.childFocusStrategy?_(e):e.firstChild();if(r)return void(0,i.e)(r)}(null==S.current||h.key===S.current)&&n.current.contains(document.activeElement)||(0,i.e)(n.current)}},{itemProps:T,isPressed:C}=(0,f.C)({selectionManager:t.selectionManager,key:h.key,ref:n,isVirtualized:m,focus:I,shouldSelectOnPressUp:E,onAction:v?()=>v(h.key):b,isDisabled:0===t.collection.size}),A=e=>{var r,a,c,u,d;if(!e.currentTarget.contains(e.target)||t.isKeyboardNavigationDisabled||!n.current||!document.activeElement)return;let f=(0,o.QL)(n.current);switch(f.currentNode=document.activeElement,e.key){case\"ArrowLeft\":{let t=\"rtl\"===y?f.nextNode():f.previousNode();if(\"child\"===g&&t===n.current&&(t=null),e.preventDefault(),e.stopPropagation(),t)(0,i.e)(t),(0,s.G)(t,{containingElement:(0,l.r)(n.current)});else{if((null==(r=O.getKeyLeftOf)?void 0:r.call(O,h.key))!==h.key){null==(a=n.current.parentElement)||a.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent));break}\"cell\"===g&&\"rtl\"===y?((0,i.e)(n.current),(0,s.G)(n.current,{containingElement:(0,l.r)(n.current)})):(f.currentNode=n.current,(t=\"rtl\"===y?f.firstChild():_(f))&&((0,i.e)(t),(0,s.G)(t,{containingElement:(0,l.r)(n.current)})))}break}case\"ArrowRight\":{let t=\"rtl\"===y?f.previousNode():f.nextNode();if(\"child\"===g&&t===n.current&&(t=null),e.preventDefault(),e.stopPropagation(),t)(0,i.e)(t),(0,s.G)(t,{containingElement:(0,l.r)(n.current)});else{if((null==(c=O.getKeyRightOf)?void 0:c.call(O,h.key))!==h.key){null==(u=n.current.parentElement)||u.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent));break}\"cell\"===g&&\"ltr\"===y?((0,i.e)(n.current),(0,s.G)(n.current,{containingElement:(0,l.r)(n.current)})):(f.currentNode=n.current,(t=\"rtl\"===y?_(f):f.firstChild())&&((0,i.e)(t),(0,s.G)(t,{containingElement:(0,l.r)(n.current)})))}break}case\"ArrowUp\":case\"ArrowDown\":!e.altKey&&n.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),null==(d=n.current.parentElement)||d.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},N=e=>{if(S.current=h.key,e.target!==n.current){(0,a.E)()||t.selectionManager.setFocusedKey(h.key);return}requestAnimationFrame(()=>{\"child\"===g&&document.activeElement===n.current&&I()})},P=(0,c.d)(T,{role:\"gridcell\",onKeyDownCapture:A,\"aria-colspan\":h.colSpan,\"aria-colindex\":null!=h.colIndex?h.colIndex+1:void 0,colSpan:m?void 0:h.colSpan,onFocus:N});return m&&(P[\"aria-colindex\"]=(null!=(p=h.colIndex)?p:h.index)+1),E&&null!=P.tabIndex&&null==P.onPointerDown&&(P.onPointerDown=e=>{let t=e.currentTarget,n=t.getAttribute(\"tabindex\");t.removeAttribute(\"tabindex\"),requestAnimationFrame(()=>{null!=n&&t.setAttribute(\"tabindex\",n)})}),{gridCellProps:P,isPressed:C}}"}]