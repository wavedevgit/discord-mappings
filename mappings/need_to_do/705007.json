[{"code":"function J(e){let{userId:t,guild:n,roles:a,className:s,onAddRole:l,onRemoveRole:c,onExpand:u,onCollapse:d,allowEditing:f=!1,readOnly:p=!1}=e,{canAddRoles:_,canRemoveAnyRoles:h,hasDeveloperContextMenu:m,isRoleRemovable:g}=V({userId:t,guild:n,roles:a,allowEditing:f,readOnly:p}),E=_||h||m,b=H(t,n.id,c),y=Y(),O=i.useRef({}),v=(e,t)=>{null!=t?O.current[e]=t:delete O.current[e]},[S,I]=i.useState(a),[T,C]=i.useState(q),[A,N]=i.useState(!1),P=i.useRef(null),D=i.useRef(null),x=i.useRef(0);i.useLayoutEffect(()=>{x.current=0},[a]),i.useLayoutEffect(()=>{if(A)return;let e=X(P.current),t=X(D.current),n=[],r=q-e-t;for(let e=0;e<Q;e++){let t=e===Q-1?r:q;for(let e=0,r=n.length;r<a.length;r++){let i=a[r],o=O.current[i.id];if(null==o){0===x.current&&n.push(i);continue}let s=Math.min(o.getBoundingClientRect().width,t);if(e+s>t)break;e+=s+z,n.push(i)}}I(n.length===S.length?S:n),C(r),x.current++},[a,S,A]);let L=A?a:S,j=()=>{A?(null==d||d(),N(!1)):(null==u||u(),N(!0))},M=()=>S.length<a.length?(0,r.jsx)(K,{isExpanded:A,overflowCount:a.length-S.length,onClick:j,buttonRef:P}):null,k=()=>(0,r.jsx)(B,{buttonRef:D,userId:t,guild:n,showLabel:0===a.length,onAddRole:l});return 0===a.length?_?(0,r.jsx)(\"div\",{className:o()(R.roleListContainer,s),children:k()}):null:(0,r.jsx)(\"div\",{className:o()(R.roleListContainer,s),children:E?(0,r.jsxs)(F,{roleCount:a.length,children:[L.map((e,t)=>(0,r.jsx)(Z,{role:e,guildId:n.id,canRemove:g(e.id),onRemoveRole:h?b:void 0,itemRef:t=>v(e.id,t),onContextMenu:m?t=>y(t,e.id):void 0,style:{maxWidth:A||t!==S.length-1?q:T}},e.id)),M(),_?k():null]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(\"ul\",{className:R.listContentsStatic,\"aria-label\":w.intl.string(w.t[\"LPJmL/\"]),children:L.map((e,t)=>(0,r.jsx)(\"li\",{children:(0,r.jsx)(G,{itemRef:t=>v(e.id,t),role:e,guildId:n.id,style:{maxWidth:A||t!==S.length-1?q:T}})},e.id))}),M()]})})}"},{"code":"function W(e){let{userId:t,guild:n,roles:i,className:a,onRemoveRole:s,onAddRole:l,readOnly:c=!1,allowEditing:u=!1}=e,{canAddRoles:d,canRemoveAnyRoles:f,hasDeveloperContextMenu:p,isRoleRemovable:_}=V({userId:t,guild:n,roles:i,allowEditing:u,readOnly:c}),h=d||f||p,m=H(t,n.id,s),g=Y(),E=()=>(0,r.jsx)(B,{userId:t,guild:n,showLabel:0===i.length,onAddRole:l});return 0===i.length?d?(0,r.jsx)(\"div\",{className:o()(R.roleListContainer,a),children:E()}):null:(0,r.jsx)(\"div\",{className:o()(R.roleListContainer,a),children:h?(0,r.jsxs)(F,{roleCount:i.length,children:[i.map(e=>(0,r.jsx)(Z,{role:e,guildId:n.id,canRemove:_(e.id),onRemoveRole:f?m:void 0,onContextMenu:p?t=>g(t,e.id):void 0},e.id)),d?E():null]}):(0,r.jsx)(\"ul\",{className:R.listContentsStatic,\"aria-label\":w.intl.string(w.t[\"LPJmL/\"]),children:i.map(e=>(0,r.jsx)(\"li\",{children:(0,r.jsx)(G,{role:e,guildId:n.id})},e.id))})})}"}]