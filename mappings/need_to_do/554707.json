[{"code":"async function p(e){let t;if(null==e)throw Error(\"file is null or undefined\");o.verbose(\"[WebP] Starting conversion for: \".concat(e.name));let n=performance.now(),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.size;return{success:!1,originalFile:e,sizeBefore:e.size,sizeAfter:r,compressionRatio:e.size>0?r/e.size:1,reason:t,compressTimeMs:Math.round(performance.now()-n)}};try{let a=await u(e);if(null!=a)return o.verbose(\"[WebP] Conversion rejected: \".concat(a)),r(a);let s=await f(e);if(!s.success||null==s.webpBlob){var i;return r(null!=(i=s.reason)?i:\"unknown_error\")}let l=s.webpBlob,d=e.size>0?l.size/e.size:1,p=1-d;if(p<c)return o.verbose(\"[WebP] Insufficient savings: \".concat(Math.round(100*p),\"% < \").concat(100*c,\"% (\").concat(e.size,\" -> \").concat(l.size,\" bytes)\")),r(\"insufficient_savings\",l.size);return t=performance.now()-n,o.verbose(\"[WebP] Conversion successful: \".concat(e.name,\" to WebP in \").concat(Math.round(t),\"ms\")),{success:!0,originalFile:e,convertedBlob:l,sizeBefore:e.size,sizeAfter:l.size,compressionRatio:d,hashTimeMs:s.pixelHashTimeMs,compressTimeMs:Math.round(t)}}catch(t){return o.error(\"[WebP] Conversion failed for \".concat(e.name,\":\"),t),r(\"conversion_failed\")}}"}]