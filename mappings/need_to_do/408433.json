[{"code":"function x(e){return\"\"!==e.content||e.messageSnapshots.some(e=>\"\"!==e.message.content||e.message.attachments.length>0)}"},{"code":"function w(e){return e.type===u.hBH.ARTICLE&&null!=e.url&&(y.test(e.url)||b.test(e.url))}"},{"code":"function A(e){let{image:t,video:n,type:r,author:i,rawTitle:a}=e;return(null!=t||null!=n)&&(r===u.hBH.GIFV||r!==u.hBH.RICH&&null==i&&null==a)}"},{"code":"function D(e,t){return e.isPrivate()?!e.isManaged():t.can(u.Plq.EMBED_LINKS,e)}"},{"code":"function P(e){return e.type===u.hBH.ARTICLE&&null!=e.url&&E.test(e.url)}"},{"code":"function I(e,t,n){let r={id:i().uniqueId(\"embed_\"),url:n.url,type:n.type,rawTitle:n.title,rawDescription:n.description,referenceId:n.reference_id,flags:n.flags,contentScanVersion:n.content_scan_version};if(null!=n.footer&&(r.footer={text:n.footer.text,iconURL:n.footer.icon_url,iconProxyURL:n.footer.proxy_icon_url}),null!=n.author&&null!=n.author.name&&(r.author={name:n.author.name,url:n.author.url,iconURL:n.author.icon_url,iconProxyURL:n.author.proxy_icon_url}),null!=n.provider&&null!=n.provider.name&&(r.provider={name:n.provider.name,url:n.provider.url}),null!=n.timestamp&&(r.timestamp=o()(new Date(n.timestamp))),null!=n.color&&(r.color=(0,s.ho)(n.color,!0)),null!=n.thumbnail&&O(n.thumbnail))switch(r.type){case u.hBH.ARTICLE:case u.hBH.IMAGE:r.image=S(n.thumbnail);break;default:r.thumbnail=S(n.thumbnail)}if(null!=n.image&&O(n.image)&&(r.image=S(n.image)),null!=n.video&&(null==r.thumbnail&&null!=n.video.proxy_url&&O(n.video)&&(r.thumbnail={width:n.video.width,height:n.video.height,url:T(n.video.proxy_url,{format:\"webp\"})}),null!=r.thumbnail&&O(n.video)&&v(t,n.provider,n.video)&&(r.video=S(n.video))),d.k.has(r.type)){var a;r.fields=(null!=(a=n.fields)?a:[]).map(e=>{let{name:t,value:n,inline:r}=e;return{rawName:t,rawValue:n,inline:r}})}else r.fields=[];return r}"},{"code":"function N(e){return e.type===u.hBH.ARTICLE&&null!=e.url&&(g.test(e.url)||m.test(e.url))}"},{"code":"function C(e){let t=new Map,n=[];return e.forEach(e=>{if(null==e.url)return void n.push(e);let r=t.get(e.url);if(null==r){n.push(e),t.set(e.url,e);return}null!=e.image&&(null==r.images&&(r.images=[],null!=r.image&&r.images.push(r.image)),r.images.push(e.image))}),n}"},{"code":"function R(e,t,n){var r;return null!=t&&null!=n?{maxMediaWidth:t,maxMediaHeight:n}:(null==(r=e.provider)?void 0:r.name)===\"TikTok\"?{maxMediaWidth:400,maxMediaHeight:450}:{maxMediaWidth:400,maxMediaHeight:300}}"}]