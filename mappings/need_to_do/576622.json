[{"code":"function p(e,t){var n,p,_,h;let{type:m,withMutualGuilds:g=!1,withMutualFriendsCount:E=!1,withMutualFriends:y=!1,dispatchWait:b=!1,waitForRefetch:O=!0,guildId:v,channelId:A,joinRequestId:I,abortSignal:S}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(\"\"===e||u.A.isFetchingProfile(e,v))return Promise.resolve();let T=u.A.getUserProfile(e),C=Date.now()-(null!=(n=null==T?void 0:T.fetchEndedAt)?n:0)>=f;if(((null==T||null==(p=T.fetchError)?void 0:p.status)===404||(null==T||null==(_=T.fetchError)?void 0:_.status)===429)&&!C)return Promise.resolve();let N=u.A.getGuildMemberProfile(e,v),R=u.A.getMutualGuilds(e),w=u.A.getMutualFriends(e),P=u.A.getMutualFriendsCount(e),D=null==w&&y,x=null==P&&E,L=null==R&&g||D||x,j=null==v?null==T:null==N,M=!j&&(C||L);if(!j&&!M)return Promise.resolve();let k=null!=v?null==N?void 0:N.profileEffect:null==T?void 0:T.profileEffect;null!=k&&(0,s.RE)(k.skuId),null!=t&&(0,a.l0)(t);let U={type:m,withMutualGuilds:g,withMutualFriends:y,withMutualFriendsCount:E,guildId:v,joinRequestId:I,abortSignal:S,connectionsRoleId:null==v||null==(h=(0,o._g)({guildMember:c.Ay.getMember(v,e),channel:l.A.getChannel(A)}))?void 0:h.id};if(b)return r.h.wait(()=>(0,i.eO)(e,U,d.A)),Promise.resolve();let G=(0,i.eO)(e,U,d.A);return M&&!O?Promise.resolve():G}"}]