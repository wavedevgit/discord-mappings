[{"code":"e=>{let{enabled:t,onlyExactMatch:n}=(0,x.us)(\"ChannelTextAreaContainer\",{autoTrackExposure:!1}),[r,a]=i.useState(!0),o=i.useRef(null);return i.useLayoutEffect(()=>{t&&!n&&(clearTimeout(o.current),a(!1),o.current=setTimeout(()=>{a(!0)},eb))},[n,t,e]),r}"},{"code":"function eT(e){let{editorRef:t,disabled:n,textValue:r,channelId:a,chatInputType:o,submit:s}=e,{analyticsLocations:l}=(0,y.Ay)();return i.useCallback((e,i)=>{var c,u;n||(o===ee.oU.CREATE_ANNOUNCEMENT_POST||(0,G.YS)(i,r,a,o.drafts.type)?((0,er.fh)({sticker:e,stickerSelectLocation:i,isReplacement:null!=k.A.getStickerPreview(a,o.drafts.type),analyticsLocations:l}),(0,U.$x)(a,e,o.drafts.type)):(s({value:\"\",uploads:void 0,stickers:[e.id]}),null==(u=t.current)||u.clearValue()),(0,w.v8)(),null==(c=t.current)||c.focus())},[n,r,a,t,l,s,o])}"},{"code":"function eP(e){let t=i.useRef(null);if(null!=e&&\"function\"==typeof e)throw Error(\"Only Ref objects are supported\");return null==e?t:e}"},{"code":"function ex(e,t,n){let[r,a,o]=(0,w.RQ)(e=>[e.activeView,e.activeViewType,e.activeChannelId],u.x),s=(0,p.bG)([O.A],()=>O.A.shouldShowPopup()&&O.A.activeViewType()===e&&O.A.activeChannelId()===n);i.useEffect(()=>()=>{(0,w.v8)(e,n)},[e,n]);let l=i.useCallback(()=>{var e;null!=r||s||null==(e=t.current)||e.handleOuterClick()},[r,s,t]),c=null==r||null==a||a!==e||o!==n;return{expressionPickerView:r,shouldHideExpressionPicker:c,handleOuterClick:l}}"},{"code":"function eS(e){return i.useCallback(t=>{let{emoji:n,willClose:r}=t,i=e.current;null!=n&&null!=i&&i.insertEmoji({emoji:n,willClose:r}),r&&(0,w.v8)()},[e])}"},{"code":"function eN(e,t,n){let r=i.useCallback(()=>{t||(0,w.r$)(ep.kx.EMOJI,e,n)},[t,e,n]),a=i.useCallback(()=>{var r;!t&&(null==(r=e.gifs)?void 0:r.allowSending)&&(0,w.r$)(ep.kx.GIF,e,n)},[t,e,n]),o=i.useCallback(()=>{var r;!t&&(null==(r=e.stickers)?void 0:r.allowSending)&&(0,w.r$)(ep.kx.STICKER,e,n)},[t,e,n]);(0,Q.Vo)({event:ef.jej.TOGGLE_EMOJI_POPOUT,handler:r}),(0,Q.Vo)({event:ef.jej.TOGGLE_GIF_PICKER,handler:a}),(0,Q.Vo)({event:ef.jej.TOGGLE_STICKER_PICKER,handler:o})}"},{"code":"function eL(e,t,n,r){let i=e.getGuildId(),a=(0,p.bG)([L.A],()=>null!=i&&L.A.isLurking(i),[i]),o=(0,p.bG)([B.Ay,z.default],()=>{var e,t;let n=z.default.getCurrentUser();return null!=(e=null!=i&&null!=n?null==(t=B.Ay.getMember(i,n.id))?void 0:t.isPending:null)&&e}),s=(0,p.cf)([H.A],()=>{var i,a;let s=e.isPrivate(),l=H.A.computePermissions(e),c=f.zy(l,ef.xBc.CREATE_PUBLIC_THREADS)||f.zy(l,ef.xBc.CREATE_PRIVATE_THREADS),u=(!(null==(i=t.permissions)?void 0:i.requireCreateTherads)||c)&&(!(null==(a=t.permissions)?void 0:a.requireSendMessages)||f.zy(l,ef.xBc.SEND_MESSAGES)),d=u&&f.zy(l,ef.xBc.ATTACH_FILES),p=null!=n,_=(0,F.UJ)(e);return{disabled:r||o||!s&&!u||_,canAttachFiles:!0===t.attachments&&(s||o||d||p),canCreateThreads:c,canEveryoneSendMessages:X.MJ(ef.xBc.SEND_MESSAGES,e)}},[e,t.permissions.requireCreateTherads,t.permissions.requireSendMessages,t.attachments,n,r,o]);return em({isLurking:a,isPendingMember:o},s)}"},{"code":"function eI(e,t,n){return i.useCallback(r=>{var i,a,o;if(t===ee.oU.CREATE_FORUM_POST||t===ee.oU.CREATE_ANNOUNCEMENT_POST)null==(a=n.current)||a.insertGIF(r);else{let t={gif_provider:null!=(o=r.provider)?o:(0,D.cf)(),load_id:q.A.getAnalyticsID(),source_object:\"GIF Picker\",gif_url:r.url,gif_id:r.id};e(r.url,void 0,void 0,!0,void 0,t)}(0,w.v8)(),null==(i=n.current)||i.focus()},[n,e,t])}"},{"code":"function eA(e,t,a,o,s){let[l,c]=i.useState(!1),u=i.useCallback((i,d,f,p,m,g)=>{var E,y,b;if(l)return;c(!0);let O=null!=(E=null==(b=k.A.getStickerPreview(s,t.drafts.type))?void 0:b.map(e=>e.id))?E:[],v=null!=(y=K.A.getUploads(s,t.drafts.type))?y:[];if(null==d&&!p&&!m&&(0,P.xz)(v,s)){c(!1),(0,_.mMO)(async()=>{let{default:e}=await Promise.all([n.e(\"49681\"),n.e(\"99011\"),n.e(\"94857\"),n.e(\"7034\"),n.e(\"12907\"),n.e(\"7602\"),n.e(\"39289\")]).then(n.bind(n,538899));return t=>(0,r.jsx)(e,eE(em({},t),{threadId:s,attachments:v,sendMessage:()=>u(i,void 0,void 0,void 0,!0)}))});return}e({value:i,uploads:v,stickers:O,command:d,commandOptionValues:f,isGif:p,gifMetadata:g}).then(e=>{var n,r,i;let{shouldClear:l,shouldRefocus:u}=e,d=ev(l,t),f=null!=a.current;d&&(eO(s)?h.A.saveDraft(s,\"\",t.drafts.type):f&&(null==(r=a.current)||r.clearValue(),null==(i=o.current)||i.hide())),f&&(c(!1),(0,w.v8)(),u&&(null==(n=a.current)||n.focus()))})},[a,o,e,l,t,s]);return{submitting:l,submit:u,handleSubmit:i.useCallback(e=>{var t;null==a||null==(t=a.current)||t.submit(e)},[a])}}"},{"code":"function eD(e){let[t,n]=i.useState(0);return{editorHeight:t,handleResize:i.useCallback(t=>{n(null!=t?t:0),null==e||e(t)},[e])}}"},{"code":"function ew(e,t,n){let[r]=i.useState(()=>new s.EventEmitter);i.useEffect(()=>{r.emit(\"text-changed\",t,n)},[t,n,r]);let a=t=>{null!=e.current&&r.emit(\"selection-changed\",t)};return{eventEmitter:r,handleEditorSelectionChanged:a}}"},{"code":"(e,t)=>{let{enabled:n}=(0,x.us)(\"ChannelTextAreaContainer\",{autoTrackExposure:!1}),[r,a]=i.useState(null);return{currentAutocompleteType:r,handleAutocompleteVisibilityChange:i.useCallback((r,i)=>{n&&a(i),r&&(0,w.v8)(e,t)},[n,e,t])}}"},{"code":"function eR(){let e=i.useRef(null),t=i.useCallback(()=>{var t;null==(t=e.current)||t.onMaybeShowAutocomplete()},[]),n=i.useCallback(()=>{var t;null==(t=e.current)||t.onHideAutocomplete()},[]);return{autocompleteRef:e,handleMaybeShowAutocomplete:t,handleHideAutocomplete:n}}"}]