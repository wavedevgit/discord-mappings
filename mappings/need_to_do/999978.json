[{"code":"function a(e){let{apply:t,deleteBackward:n,deleteForward:a,deleteFragment:o,insertText:l}=e;return e.apply=n=>{var r;if(\"set_selection\"===n.type&&(null==(r=e.composition)?void 0:r.startedInsideInline)&&i.ZF.isRange(n.properties)&&i.ZF.isRange(n.newProperties)&&i.ZF.isCollapsed(n.newProperties)){let t=i.VW.getParentInline(e,n.properties),r=i.VW.getParentInline(e,n.newProperties);if(null!=t&&(null==r||!i.PW.equals(t[1],r[1])))return}t(n)},e.insertText=t=>{null!=e.selection&&null!=i.VW.getCurrentInline(e)?r.b.insertText(e,t):l(t)},e.deleteBackward=t=>{s(e,t,!0)||n(t)},e.deleteForward=t=>{s(e,t,!1)||a(t)},e.deleteFragment=t=>{if(null!=e.selection&&i.ZF.isExpanded(e.selection)){var n,a,s,l;let c=e.selection.anchor,u=e.selection.focus,d=i.VW.getParentInline(e,c),f=i.VW.getParentInline(e,u);if(null!=d&&null!=f&&i.PW.equals(d[1],f[1]))return void o(t);let p=i.ZF.isForward(e.selection);if(null!=d){let[,t]=d,[r,s]=i.VW.edges(e,t);p&&i.Kh.equals(c,r)?c=null!=(n=i.VW.before(e,r))?n:i.VW.start(e,[]):!p&&i.Kh.equals(c,s)&&(c=null!=(a=i.VW.after(e,s))?a:i.VW.end(e,[]))}if(null!=f){let[,t]=f,[n,r]=i.VW.edges(e,t);!p&&i.Kh.equals(u,n)?u=null!=(s=i.VW.before(e,n))?s:i.VW.start(e,[]):p&&i.Kh.equals(u,r)&&(u=null!=(l=i.VW.after(e,r))?l:i.VW.end(e,[]))}return void r.b.delete(e,{at:{anchor:c,focus:u},reverse:\"backward\"===t,select:!0})}o(t)},e}"}]