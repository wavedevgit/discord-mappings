[{"code":"function M(e){var t,n,r,i,c,u,d;let{channelId:p,sessionId:_}=e,m=l.A.getChannel(p);if(null==m||!m.isForumPost())return null;let g=l.A.getChannel(m.parent_id);return null!=g&&g.isForumLikeChannel()?A(O({},x({channelId:g.id,sessionId:_})),{thread_approximate_member_count:o.A.getMemberCount(p),thread_approximate_message_count:s.A.getCount(p),thread_archived:(null==(r=m.threadMetadata)?void 0:r.archived)===!0,thread_locked:null!=(t=null==(i=m.threadMetadata)?void 0:i.locked)&&t,thread_auto_archive_duration_minutes:null!=(n=null==(c=m.threadMetadata)?void 0:c.autoArchiveDuration)?n:0,thread_approximate_creation_date:f.default.extractTimestamp(p),forum_post_id:m.id,forum_post_first_message_id:f.default.castChannelIdAsMessageId(m.id),forum_post_num_reactions:P(m.id),forum_post_num_unique_reactions:R(m.id),forum_post_applied_tag_ids:D(m.id),forum_post_is_pinned:m.hasFlag(E.lx.PINNED),forum_post_is_new:null==(u=h.A.getReadStateSnapshotAnalytics(m.id))?void 0:u.isNew,forum_post_is_unread:null==(d=h.A.getReadStateSnapshotAnalytics(m.id))?void 0:d.hasUnreads,forum_post_is_following:a.A.hasJoined(m.id),forum_post_attachment_mimetypes:L(m.id)}):null}"},{"code":"function C(e){var t,n;let r=l.A.getChannel(e);if(null==r)return[];let i=l.A.getChannel(r.parent_id),a=null==i?void 0:i.availableTags;if(null==i||null==a)return[];let o=null!=(t=null==(n=c.A.getThreadSettings(e))?void 0:n.appliedTags)?t:new Set,s=new Set(a.map(e=>e.id));return Array.from(o).filter(e=>s.has(e))}"},{"code":"function I(e){return m.A.getForumChannelSessionId(e)}"},{"code":"function T(e){return d.A.getUploads(e,c.C.FirstThreadMessage).length}"},{"code":"function x(e){var t,n,r,i;let{channelId:a,sessionId:o}=e,s=l.A.getChannel(a);return null!=s&&s.isForumLikeChannel()?{forum_channel_has_guidelines:null!=s.topic&&s.topic.trim().length>0,forum_channel_default_emoji_reaction_id:null==(n=s.defaultReactionEmoji)?void 0:n.emojiId,forum_channel_default_emoji_reaction_name:null==(r=s.defaultReactionEmoji)?void 0:r.emojiName,forum_channel_available_tag_ids:null!=(t=null==(i=s.availableTags)?void 0:i.map(e=>e.id))?t:[],forum_channel_tag_required:s.hasFlag(E.lx.REQUIRE_TAG),forum_channel_can_create_post:u.A.can(g.xBc.SEND_MESSAGES,s),forum_channel_filter_tag_ids:_.A.getFilterTagIdsAnalytics(),forum_channel_sort_order:_.A.getSortOrderAnalytics(s.id),forum_channel_session_id:null!=o?o:I(s.id),forum_channel_layout:_.A.getLayoutAnalytics(s.id),forum_channel_default_sort_order:s.defaultSortOrder,forum_channel_tag_setting:_.A.getTagSettingAnalytics(s.id),forum_channel_default_layout:s.defaultForumLayout,forum_channel_is_moderator_report_channel:s.isModeratorReportChannel()}:null}"},{"code":"function N(e,t){return Object.keys(i.A.getThreadsForParent(e,t)).length}"},{"code":"function S(e){switch(e){case r.T.CREATION_DATE:return y.az.CREATION_DATE;case r.T.LATEST_ACTIVITY:return y.az.LATEST_ACTIVITY;default:throw Error(\"Unexpected sort order \".concat(e))}}"}]