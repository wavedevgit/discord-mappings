[{"code":"function eo(e){let{label:t,title:n,subtitle:i,header:a,body:o,actions:l,nextStep:c,appDetails:u,hasContentBackground:d,noPadding:f,modalSize:p}=ec(er({},e)),_=A.v.useExperiment({location:\"oauth2_authorize\"}),h=null!=a||null!=o||null!=u?(0,r.jsxs)(\"div\",{className:et.Gq,children:[a,(0,r.jsxs)(\"div\",{className:et.FG,children:[(0,r.jsxs)(\"div\",{className:s()(et.Qs,d?et.cw:null,f?et.pN:null),children:[o,null!=c||_.enabled?null:u]}),null==c&&_.enabled?(0,r.jsx)(\"div\",{className:s()(et.Qs,d?et.cw:null,f?et.pN:null),children:u}):null]})]}):null;return(0,r.jsx)(X.f,ea(er({},e),{onClose:()=>{var t;return Promise.resolve(null==(t=e.onClose)?void 0:t.call(e))},size:p,actions:l,title:n,subtitle:i,\"aria-label\":t,children:h}))}"},{"code":"function es(){let e=(0,o.zy)(),t=i.useMemo(()=>(0,M._)(e.search),[e.search]);(0,O.A)();let a=!e.search.includes(\"response_type\"),[s,l]=i.useState(!1),u=i.useRef(!1),[d,f]=i.useState(null),p=!c.Fr&&!s&&(a||!x.default.isAuthenticated());if(i.useEffect(()=>{if(c.Ct&&a){let t=new URL(\"discord://action/oauth2/authorize\");t.search=e.search,window.open(t.toString(),\"_self\")}else c.Fr||!a&&x.default.isAuthenticated()||u.current||(u.current=!0,Promise.resolve().then(n.bind(n,129014)).then(t=>{let{default:n}=t;if(a)n.request($.e$_.DEEP_LINK,{type:J.XK.OAUTH2,params:{search:e.search}}).then(e=>{f(null!=e&&e)}).catch(()=>f(!1)).then(()=>n.disconnect());else{f(!0);let t=new URLSearchParams(e.search);n.request($.e$_.AUTHORIZE,{client_id:t.get(\"client_id\"),scope:t.get(\"scope\"),response_type:t.get(\"response_type\"),redirect_uri:t.get(\"redirect_uri\"),code_challenge:t.get(\"code_challenge\"),code_challenge_method:t.get(\"code_challenge_method\"),state:t.get(\"state\"),permissions:t.get(\"permissions\"),guild_id:t.get(\"guild_id\"),channel_id:t.get(\"channel_id\"),prompt:t.get(\"prompt\"),disable_guild_select:t.get(\"disable_guild_select\"),integration_type:t.get(\"integration_type\"),nonce:t.get(\"nonce\")}).then(e=>{let{location:t}=e;t&&(window.location.href=t)}).catch(()=>f(!1)).then(()=>n.disconnect())}}))},[e.search,a]),p&&!1!==d){let e;return e=!0===d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.hE,{children:ee.intl.string(ee.t.csrAMJ)}),(0,r.jsx)(T.tK,{children:a?ee.intl.string(ee.t[\"m1+IBn\"]):ee.intl.string(ee.t.kRzrSO)}),(0,r.jsx)(g.$nd,{onClick:()=>l(!0),variant:\"primary\",text:ee.intl.string(ee.t.fIv16B)})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.hE,{children:ee.intl.string(ee.t[\"Z+hCVU\"])}),(0,r.jsx)(E.y$y,{})]}),(0,r.jsx)(X.$,{removeChildWrapper:!0,children:(0,r.jsx)(\"div\",{className:et.ah,children:e})})}return(0,r.jsx)(X.$,{removeChildWrapper:!0,children:(0,r.jsx)(eo,ea(er({transitionState:_.ip4.ENTERED},t),{showLogout:!0,isExternalStandaloneOAuthPage:!0,hideHeader:!0}))})}"},{"code":"function ep(e){var t;let{hostname:n=\"\",host:r,pathname:i,search:a}=null!=(t=j.A.toURLSafe(e))?t:{};return null!=i&&null!=a&&(j.A.isDiscordHostname(n)||r===window.location.host)&&(i.startsWith(\"/api\".concat($.Rsh.OAUTH2_AUTHORIZE))||i.startsWith($.BVt.OAUTH2_AUTHORIZE))?(0,M._)(a):null}"},{"code":"function ef(e,t){(0,m.openModal)(t=>(0,r.jsx)(eo,ea(er({},t,e),{cancelCompletesFlow:!1,callback:eu.bind(null,e)})),{onCloseCallback:t})}"},{"code":"function ed(e,t){(0,R._9)()?C.A.openCreateGuildModal({onSuccess:n=>ef(ea(er({},e),{guildId:n}),t)}):ef(e,t)}"}]