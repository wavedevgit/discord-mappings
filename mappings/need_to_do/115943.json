[{"code":"function r(t){for(var n,r=new Uint8Array(t),s=8,l=e,c=l.readUshort,u=l.readUint,f={tabs:{},frames:[]},p=new Uint8Array(r.length),_=0,h=0,m=[137,80,78,71,13,10,26,10],g=0;g<8;g++)if(r[g]!=m[g])throw\"The input is not a PNG file!\";for(;s<r.length;){var E=l.readUint(r,s);s+=4;var y=l.readASCII(r,s,4);if(s+=4,\"IHDR\"==y)d(r,s,f);else if(\"iCCP\"==y){for(var b=s;0!=r[b];)b++;l.readASCII(r,s,b-s),r[b+1];var O=r.slice(b+2,s+E),v=null;try{v=a(O)}catch(e){v=o(O)}f.tabs[y]=v}else if(\"CgBI\"==y)f.tabs[y]=r.slice(s,s+4);else if(\"IDAT\"==y){for(var g=0;g<E;g++)p[_+g]=r[s+g];_+=E}else if(\"acTL\"==y)f.tabs[y]={num_frames:u(r,s),num_plays:u(r,s+4)},n=new Uint8Array(r.length);else if(\"fcTL\"==y){if(0!=h){var A=f.frames[f.frames.length-1];A.data=i(f,n.slice(0,h),A.rect.width,A.rect.height),h=0}var I={x:u(r,s+12),y:u(r,s+16),width:u(r,s+4),height:u(r,s+8)},S=c(r,s+22),T={rect:I,delay:1e3*(S=c(r,s+20)/(0==S?100:S)),dispose:r[s+24],blend:r[s+25]};f.frames.push(T)}else if(\"fdAT\"==y){for(var g=0;g<E-4;g++)n[h+g]=r[s+g+4];h+=E-4}else if(\"pHYs\"==y)f.tabs[y]=[l.readUint(r,s),l.readUint(r,s+4),r[s+8]];else if(\"cHRM\"==y){f.tabs[y]=[];for(var g=0;g<8;g++)f.tabs[y].push(l.readUint(r,s+4*g))}else if(\"tEXt\"==y||\"zTXt\"==y){null==f.tabs[y]&&(f.tabs[y]={});var C,N=l.nextZero(r,s),w=l.readASCII(r,s,N-s),R=s+E-N-1;if(\"tEXt\"==y)C=l.readASCII(r,N+1,R);else{var P=a(r.slice(N+2,N+2+R));C=l.readUTF8(P,0,P.length)}f.tabs[y][w]=C}else if(\"iTXt\"==y){null==f.tabs[y]&&(f.tabs[y]={});var N=0,b=s;N=l.nextZero(r,b);var w=l.readASCII(r,b,N-b),D=r[b=N+1];r[b+1],b+=2,N=l.nextZero(r,b),l.readASCII(r,b,N-b),b=N+1,N=l.nextZero(r,b),l.readUTF8(r,b,N-b);var C,R=E-((b=N+1)-s);if(0==D)C=l.readUTF8(r,b,R);else{var P=a(r.slice(b,b+R));C=l.readUTF8(P,0,P.length)}f.tabs[y][w]=C}else if(\"PLTE\"==y)f.tabs[y]=l.readBytes(r,s,E);else if(\"hIST\"==y){var L=f.tabs.PLTE.length/3;f.tabs[y]=[];for(var g=0;g<L;g++)f.tabs[y].push(c(r,s+2*g))}else if(\"tRNS\"==y)3==f.ctype?f.tabs[y]=l.readBytes(r,s,E):0==f.ctype?f.tabs[y]=c(r,s):2==f.ctype&&(f.tabs[y]=[c(r,s),c(r,s+2),c(r,s+4)]);else if(\"gAMA\"==y)f.tabs[y]=l.readUint(r,s)/1e5;else if(\"sRGB\"==y)f.tabs[y]=r[s];else if(\"bKGD\"==y)0==f.ctype||4==f.ctype?f.tabs[y]=[c(r,s)]:2==f.ctype||6==f.ctype?f.tabs[y]=[c(r,s),c(r,s+2),c(r,s+4)]:3==f.ctype&&(f.tabs[y]=r[s]);else if(\"IEND\"==y)break;s+=E,l.readUint(r,s),s+=4}if(0!=h){var A=f.frames[f.frames.length-1];A.data=i(f,n.slice(0,h),A.rect.width,A.rect.height)}return f.data=i(f,p,f.width,f.height),delete f.compress,delete f.interlace,delete f.filter,f}"},{"code":"function t(e){var t=e.width,r=e.height;if(null==e.tabs.acTL)return[n(e.data,t,r,e).buffer];var i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var a=t*r*4,o=new Uint8Array(a),s=new Uint8Array(a),l=new Uint8Array(a),c=0;c<e.frames.length;c++){var u=e.frames[c],d=u.rect.x,p=u.rect.y,_=u.rect.width,h=u.rect.height,m=n(u.data,_,h,e);if(0!=c)for(var g=0;g<a;g++)l[g]=o[g];if(0==u.blend?f(m,_,h,o,t,r,d,p,0):1==u.blend&&f(m,_,h,o,t,r,d,p,1),i.push(o.buffer.slice(0)),0==u.dispose);else if(1==u.dispose)f(s,_,h,o,t,r,d,p,0);else if(2==u.dispose)for(var g=0;g<a;g++)o[g]=l[g]}return i}"},{"code":"function u(e,t,n){var r=e+t-n,i=r-e,a=r-t,o=r-n;return i*i<=a*a&&i*i<=o*o?e:a*a<=o*o?t:n}"},{"code":"function f(e,t,n,r,i,a,o,s,l){for(var c=Math.min(t,i),u=Math.min(n,a),d=0,f=0,p=0;p<u;p++)for(var _=0;_<c;_++)if(o>=0&&s>=0?(d=p*t+_<<2,f=(s+p)*i+o+_<<2):(d=(-s+p)*t-o+_<<2,f=p*i+_<<2),0==l)r[f]=e[d],r[f+1]=e[d+1],r[f+2]=e[d+2],r[f+3]=e[d+3];else if(1==l){var h=e[d+3]*(1/255),m=e[d]*h,g=e[d+1]*h,E=e[d+2]*h,y=r[f+3]*(1/255),b=r[f]*y,O=r[f+1]*y,v=r[f+2]*y,A=1-h,I=h+y*A,S=0==I?0:1/I;r[f+3]=255*I,r[f+0]=(m+b*A)*S,r[f+1]=(g+O*A)*S,r[f+2]=(E+v*A)*S}else if(2==l){var h=e[d+3],m=e[d],g=e[d+1],E=e[d+2],y=r[f+3],b=r[f],O=r[f+1],v=r[f+2];h==y&&m==b&&g==O&&E==v?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=m,r[f+1]=g,r[f+2]=E,r[f+3]=h)}else if(3==l){var h=e[d+3],m=e[d],g=e[d+1],E=e[d+2],y=r[f+3],b=r[f],O=r[f+1],v=r[f+2];if(h==y&&m==b&&g==O&&E==v)continue;if(h<220&&y>20)return!1}return!0}"},{"code":"function(e,t,n,r,i,a,o){null==r&&(r=0),null==o&&(o=!1);var s=f(e,t,n,r,[!1,!1,!1,0,o,!1]);return d(s,-1),u(s,t,n,i,a)}"},{"code":"function c(e,t,n,r,i,a,o,s){var l={ctype:0+2*(1!=r)+4*(0!=i),depth:a,frames:[]};Date.now();for(var c=(r+i)*a,f=c*t,p=0;p<e.length;p++)l.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[p]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(f/8)});return d(l,0,!0),u(l,t,n,o,s)}"},{"code":"function E(e,t,n){Date.now();for(var r=new Uint8Array(e),i=r.slice(0),a=new Uint32Array(i.buffer),o=A(i,t),s=o[0],l=o[1],c=l.length,u=new Uint32Array(c),d=new Uint8Array(u.buffer),f=0;f<c;f++)u[f]=l[f].est.rgba;var p,_=r.length,h=new Uint8Array(_>>2);if(c<=60)v(r,h,d),y(h,a,u);else if(r.length<32e6)for(var f=0;f<_;f+=4){var m=r[f]*(1/255),g=r[f+1]*(1/255),E=r[f+2]*(1/255),O=r[f+3]*(1/255);p=I(s,m,g,E,O),h[f>>2]=p.ind,a[f>>2]=p.est.rgba}else for(var f=0;f<_;f+=4){var m=r[f]*(1/255),g=r[f+1]*(1/255),E=r[f+2]*(1/255),O=r[f+3]*(1/255);for(p=s;p.left;)p=0>=S(p.est,m,g,E,O)?p.left:p.right;h[f>>2]=p.ind,a[f>>2]=p.est.rgba}if(n||r.length*c<10*4e6){for(var T=1e9,f=0;f<10;f++){var C=b(r,h,d);if(C/T>.997)break;T=C}for(var f=0;f<c;f++)l[f].est.rgba=u[f];y(h,a,u)}return{abuf:i.buffer,inds:h,plte:l}}"}]