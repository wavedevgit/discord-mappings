[{"code":"function r(t){for(var n,r=new Uint8Array(t),o=8,l=e,c=l.readUshort,u=l.readUint,f={tabs:{},frames:[]},p=new Uint8Array(r.length),_=0,h=0,m=[137,80,78,71,13,10,26,10],g=0;g<8;g++)if(r[g]!=m[g])throw\"The input is not a PNG file!\";for(;o<r.length;){var E=l.readUint(r,o);o+=4;var b=l.readASCII(r,o,4);if(o+=4,\"IHDR\"==b)d(r,o,f);else if(\"iCCP\"==b){for(var y=o;0!=r[y];)y++;l.readASCII(r,o,y-o),r[y+1];var O=r.slice(y+2,o+E),A=null;try{A=a(O)}catch(e){A=s(O)}f.tabs[b]=A}else if(\"CgBI\"==b)f.tabs[b]=r.slice(o,o+4);else if(\"IDAT\"==b){for(var g=0;g<E;g++)p[_+g]=r[o+g];_+=E}else if(\"acTL\"==b)f.tabs[b]={num_frames:u(r,o),num_plays:u(r,o+4)},n=new Uint8Array(r.length);else if(\"fcTL\"==b){if(0!=h){var v=f.frames[f.frames.length-1];v.data=i(f,n.slice(0,h),v.rect.width,v.rect.height),h=0}var S={x:u(r,o+12),y:u(r,o+16),width:u(r,o+4),height:u(r,o+8)},I=c(r,o+22),T={rect:S,delay:1e3*(I=c(r,o+20)/(0==I?100:I)),dispose:r[o+24],blend:r[o+25]};f.frames.push(T)}else if(\"fdAT\"==b){for(var g=0;g<E-4;g++)n[h+g]=r[o+g+4];h+=E-4}else if(\"pHYs\"==b)f.tabs[b]=[l.readUint(r,o),l.readUint(r,o+4),r[o+8]];else if(\"cHRM\"==b){f.tabs[b]=[];for(var g=0;g<8;g++)f.tabs[b].push(l.readUint(r,o+4*g))}else if(\"tEXt\"==b||\"zTXt\"==b){null==f.tabs[b]&&(f.tabs[b]={});var C,N=l.nextZero(r,o),R=l.readASCII(r,o,N-o),w=o+E-N-1;if(\"tEXt\"==b)C=l.readASCII(r,N+1,w);else{var P=a(r.slice(N+2,N+2+w));C=l.readUTF8(P,0,P.length)}f.tabs[b][R]=C}else if(\"iTXt\"==b){null==f.tabs[b]&&(f.tabs[b]={});var N=0,y=o;N=l.nextZero(r,y);var R=l.readASCII(r,y,N-y),D=r[y=N+1];r[y+1],y+=2,N=l.nextZero(r,y),l.readASCII(r,y,N-y),y=N+1,N=l.nextZero(r,y),l.readUTF8(r,y,N-y);var C,w=E-((y=N+1)-o);if(0==D)C=l.readUTF8(r,y,w);else{var P=a(r.slice(y,y+w));C=l.readUTF8(P,0,P.length)}f.tabs[b][R]=C}else if(\"PLTE\"==b)f.tabs[b]=l.readBytes(r,o,E);else if(\"hIST\"==b){var x=f.tabs.PLTE.length/3;f.tabs[b]=[];for(var g=0;g<x;g++)f.tabs[b].push(c(r,o+2*g))}else if(\"tRNS\"==b)3==f.ctype?f.tabs[b]=l.readBytes(r,o,E):0==f.ctype?f.tabs[b]=c(r,o):2==f.ctype&&(f.tabs[b]=[c(r,o),c(r,o+2),c(r,o+4)]);else if(\"gAMA\"==b)f.tabs[b]=l.readUint(r,o)/1e5;else if(\"sRGB\"==b)f.tabs[b]=r[o];else if(\"bKGD\"==b)0==f.ctype||4==f.ctype?f.tabs[b]=[c(r,o)]:2==f.ctype||6==f.ctype?f.tabs[b]=[c(r,o),c(r,o+2),c(r,o+4)]:3==f.ctype&&(f.tabs[b]=r[o]);else if(\"IEND\"==b)break;o+=E,l.readUint(r,o),o+=4}if(0!=h){var v=f.frames[f.frames.length-1];v.data=i(f,n.slice(0,h),v.rect.width,v.rect.height)}return f.data=i(f,p,f.width,f.height),delete f.compress,delete f.interlace,delete f.filter,f}"},{"code":"function t(e){var t=e.width,r=e.height;if(null==e.tabs.acTL)return[n(e.data,t,r,e).buffer];var i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var a=t*r*4,s=new Uint8Array(a),o=new Uint8Array(a),l=new Uint8Array(a),c=0;c<e.frames.length;c++){var u=e.frames[c],d=u.rect.x,p=u.rect.y,_=u.rect.width,h=u.rect.height,m=n(u.data,_,h,e);if(0!=c)for(var g=0;g<a;g++)l[g]=s[g];if(0==u.blend?f(m,_,h,s,t,r,d,p,0):1==u.blend&&f(m,_,h,s,t,r,d,p,1),i.push(s.buffer.slice(0)),0==u.dispose);else if(1==u.dispose)f(o,_,h,s,t,r,d,p,0);else if(2==u.dispose)for(var g=0;g<a;g++)s[g]=l[g]}return i}"},{"code":"function u(e,t,n){var r=e+t-n,i=r-e,a=r-t,s=r-n;return i*i<=a*a&&i*i<=s*s?e:a*a<=s*s?t:n}"},{"code":"function f(e,t,n,r,i,a,s,o,l){for(var c=Math.min(t,i),u=Math.min(n,a),d=0,f=0,p=0;p<u;p++)for(var _=0;_<c;_++)if(s>=0&&o>=0?(d=p*t+_<<2,f=(o+p)*i+s+_<<2):(d=(-o+p)*t-s+_<<2,f=p*i+_<<2),0==l)r[f]=e[d],r[f+1]=e[d+1],r[f+2]=e[d+2],r[f+3]=e[d+3];else if(1==l){var h=e[d+3]*(1/255),m=e[d]*h,g=e[d+1]*h,E=e[d+2]*h,b=r[f+3]*(1/255),y=r[f]*b,O=r[f+1]*b,A=r[f+2]*b,v=1-h,S=h+b*v,I=0==S?0:1/S;r[f+3]=255*S,r[f+0]=(m+y*v)*I,r[f+1]=(g+O*v)*I,r[f+2]=(E+A*v)*I}else if(2==l){var h=e[d+3],m=e[d],g=e[d+1],E=e[d+2],b=r[f+3],y=r[f],O=r[f+1],A=r[f+2];h==b&&m==y&&g==O&&E==A?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=m,r[f+1]=g,r[f+2]=E,r[f+3]=h)}else if(3==l){var h=e[d+3],m=e[d],g=e[d+1],E=e[d+2],b=r[f+3],y=r[f],O=r[f+1],A=r[f+2];if(h==b&&m==y&&g==O&&E==A)continue;if(h<220&&b>20)return!1}return!0}"},{"code":"function(e,t,n,r,i,a,s){null==r&&(r=0),null==s&&(s=!1);var o=f(e,t,n,r,[!1,!1,!1,0,s,!1]);return d(o,-1),u(o,t,n,i,a)}"},{"code":"function c(e,t,n,r,i,a,s,o){var l={ctype:0+2*(1!=r)+4*(0!=i),depth:a,frames:[]};Date.now();for(var c=(r+i)*a,f=c*t,p=0;p<e.length;p++)l.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[p]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(f/8)});return d(l,0,!0),u(l,t,n,s,o)}"},{"code":"function E(e,t,n){Date.now();for(var r=new Uint8Array(e),i=r.slice(0),a=new Uint32Array(i.buffer),s=v(i,t),o=s[0],l=s[1],c=l.length,u=new Uint32Array(c),d=new Uint8Array(u.buffer),f=0;f<c;f++)u[f]=l[f].est.rgba;var p,_=r.length,h=new Uint8Array(_>>2);if(c<=60)A(r,h,d),b(h,a,u);else if(r.length<32e6)for(var f=0;f<_;f+=4){var m=r[f]*(1/255),g=r[f+1]*(1/255),E=r[f+2]*(1/255),O=r[f+3]*(1/255);p=S(o,m,g,E,O),h[f>>2]=p.ind,a[f>>2]=p.est.rgba}else for(var f=0;f<_;f+=4){var m=r[f]*(1/255),g=r[f+1]*(1/255),E=r[f+2]*(1/255),O=r[f+3]*(1/255);for(p=o;p.left;)p=0>=I(p.est,m,g,E,O)?p.left:p.right;h[f>>2]=p.ind,a[f>>2]=p.est.rgba}if(n||r.length*c<10*4e6){for(var T=1e9,f=0;f<10;f++){var C=y(r,h,d);if(C/T>.997)break;T=C}for(var f=0;f<c;f++)l[f].est.rgba=u[f];b(h,a,u)}return{abuf:i.buffer,inds:h,plte:l}}"}]