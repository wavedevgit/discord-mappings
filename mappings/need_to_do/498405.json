[{"code":"function m(e){let{navId:t,items:n,initialFocusPath:s,onSelect:c,enabled:m=!0,closeMenu:g,defaultIsUsingKeyboardNavigation:E=!1}=e,b=r.useRef(m);r.useLayoutEffect(()=>{b.current=m},[m]);let[y,O]=r.useReducer(i.Z,{items:n,focusPath:s,focusIndex:-1}),v=r.useMemo(()=>(0,o.P2)(O,30),[O]);r.useEffect(()=>{O({type:i.B.UPDATE_ITEMS,items:n})},[n]);let{focusPath:S}=y,[I,T]=r.useState(!1),[C,A]=r.useState(E),[{onItemFocusMemoizer:N,onItemMouseEnterMemoizer:P}]=r.useState(()=>({onItemFocusMemoizer:new o.$o(e=>()=>{T(!0),O({type:i.B.SET_FOCUS_PATH,path:e.split(d)})}),onItemMouseEnterMemoizer:new o.$o(e=>()=>{A(!1),O({type:i.B.SET_FOCUS_PATH,path:e.split(d)})})})),w=r.useCallback(e=>{if(!b.current)return;e.key===a.R8.ESCAPE&&null!=g&&(e.stopPropagation(),e.preventDefault(),g());let n=f(e);switch(n){case a.Us.NAVIGATE_UP:case a.Us.NAVIGATE_DOWN:case a.Us.NAVIGATE_IN:case a.Us.NAVIGATE_OUT:e.preventDefault(),e.stopPropagation(),A(!0),v({type:n});return;case a.Us.SELECT_FOCUSED_ITEM:var r;if(e.repeat||h(e.target))return;if(e.preventDefault(),e.stopPropagation(),A(!1),v({type:n}),null!=c)return void c(S);let i=_(null!=(r=e.target.ownerDocument)?r:document,p(t,S));null==i||i.click()}},[v,t,S,c,g]),R=r.useCallback(()=>{I||T(!0)},[I]),D=r.useCallback(e=>{e.target!==e.currentTarget&&!e.currentTarget.contains(e.relatedTarget)&&I&&T(!1)},[I]),x=r.useCallback(()=>{O({type:i.B.SET_FOCUS_PATH,path:[]}),T(!1)},[]),L=r.useCallback(e=>e.every((e,t)=>S[t]===e),[S]),j=r.useCallback(()=>({role:\"menu\",id:t,tabIndex:-1,onKeyDown:w,onFocus:R,onBlur:D,onMouseLeave:x,\"aria-activedescendant\":S.length>0?(0,o.qR)(t,S.join(d)):void 0}),[t,w,R,D,x,S]),M=r.useCallback(e=>{let{path:n}=e;return{role:\"menu\",tabIndex:-1,\"aria-activedescendant\":L(n)?(0,o.qR)(t,S.join(d)):void 0,focusIndex:y.focusIndex,isUsingKeyboardNavigation:C}},[t,S,L,y.focusIndex,C]),k=r.useCallback(e=>{let{path:n,hasSubmenu:r=!1,navigable:i=!0,role:a=\"menuitem\"}=e,s=n.join(d);return u(l({},r?{\"aria-expanded\":L(n),\"aria-haspopup\":!0}:{}),{role:a,id:(0,o.qR)(t,s),tabIndex:-1,onFocus:i?N.get(s):()=>{},onMouseEnter:i?P.get(s):()=>{}})},[t,L,N,P]);return r.useMemo(()=>({dispatch:v,getContainerProps:j,getSubmenuProps:M,getItemProps:k,isFocused:L,isUsingKeyboardNavigation:C}),[v,j,M,k,L,C])}"}]