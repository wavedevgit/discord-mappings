[{"code":"function x(e){let t=(0,T.n)(e);return(0,T.Tb)(e)?t?2:3:1}"},{"code":"function L(e,t){var n;return 3===t||null!=(n=e.isPrivate)&&n}"},{"code":"function U(e,t,n,r,i){return F(e,[],void 0,()=>a.Bo.post({url:R.Rsh.CHANNEL_THREADS(e.id),body:{name:t,type:n,auto_archive_duration:r,location:i},rejectWithError:!1}))}"},{"code":"function M(e,t){var n,r,i,a,s,o,l;let c=null==t?null:y.A.getMessage(e.id,t),u=null!=(n=null==c||null==(a=c.embeds)||null==(i=a[0])?void 0:i.rawTitle)?n:\"\",d=null!=(r=null==c||null==(o=c.poll)||null==(s=o.question)?void 0:s.text)?r:\"\";if(\"\"!==u)return j(u,40);{if(\"\"!==d)return j(d,80);let t=h.Ay.unparse(null!=(l=null==c?void 0:c.content)?l:\"\",e.id,!0),n=(0,C.A)(t.split(\"\\n\")[0],!0);n=n.replace(/^[ #-]+/,\"\");let r=[];for(;;){let e=n.match(/(?:\\s|[!@#$%^&*()_\\-+={}[\\]:\";'<>?,./])+/);if(null==e||null==e.index){r.push(n);break}r.push(n.substring(0,e.index)),r.push(e[0]),n=n.substring(e.index+e[0].length)}let i=r[0];for(let e=1;e<r.length;e++){let t=i+r[e];if(t.length>40)break;i=t}return j(i,40)}}"},{"code":"function k(e){let{parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:s,location:o,onThreadCreated:c,useDefaultThreadName:d,uploadHandler:f}=e;return r.useCallback(async(e,r,p)=>{var _;let h=null==n,m=L(i,s),g=null!=(_=i.name)?_:\"\";if(\"\"===g&&d){let e=M(t,n);g=\"\"!==e?e:P.intl.string(P.t[\"7Xm5QI\"])}let y=(0,I.Gl)(t),O=E.A.getChannel(v.default.castMessageIdAsChannelId(n)),A=await F(t,[],void 0,()=>{let e=null!=n?R.Rsh.CHANNEL_MESSAGE_THREADS(t.id,n):R.Rsh.CHANNEL_THREADS(t.id);return a.Bo.post({url:e,body:{name:g,type:m?R.rbe.PRIVATE_THREAD:t.type===R.rbe.GUILD_ANNOUNCEMENT?R.rbe.ANNOUNCEMENT_THREAD:R.rbe.PUBLIC_THREAD,auto_archive_duration:y,location:o},rejectWithError:!1})});A!==O&&(l.A.clearDraft(t.id,b.C.ThreadSettings),l.A.clearDraft(t.id,b.C.FirstThreadMessage),null==c||c(A),(h||e.length>0||null!=r&&r.length>0||null!=p&&p.length>0)&&V(A,e,r,p,f)),u.A.clearAll(t.id,b.C.FirstThreadMessage)},[t,n,i,c,s,o,d,f])}"},{"code":"function G(e){let{parentChannel:t,name:n,appliedTags:s,analyticsLocations:o,onThreadCreated:c,upload:d}=e;return r.useCallback(async(e,r,f)=>{let h,m=0,[E,y]=(0,g.A)(e);E&&(e=y,m=(0,i.UI)(m,R.pr7.SUPPRESS_NOTIFICATIONS));let O=(0,I.Gl)(t,null),A=R.Rsh.CHANNEL_THREADS(t.id)+\"?use_nested_fields=true\",v={name:n,auto_archive_duration:O,applied_tags:s,message:{content:e,sticker_ids:r,flags:0!==m?m:void 0}};if(null!=f&&f.length>0)try{let e=await d(f);h=e.uploaderFile,v.message.attachments=e.files.map((e,t)=>(0,S.OW)(e,t))}catch(i){let{file:e,code:n,reason:r}=i;throw(0,_.k)({file:e,guildId:t.getGuildId(),analyticsLocations:null!=o?o:[],code:n,reason:r}),i}let T=await F(t,o,h,()=>a.Bo.post({url:A,body:v,rejectWithError:!1}));return l.A.clearDraft(t.id,b.C.ThreadSettings),l.A.clearDraft(t.id,b.C.FirstThreadMessage),u.A.clearAll(t.id,b.C.FirstThreadMessage),(0,p.Lj)({guildId:t.guild_id,channelId:t.id,postId:T.id}),null==c||c(T),T},[t,n,s,c,o,d])}"}]