[{"code":"function B(e){let{context:t,query:n,commandLimit:i,applicationLimit:s,searchesCommands:o=!0,searchesBots:l=!0,searchesActivities:c=!0}=e;n.startsWith(\"\".concat(\"/\"))&&(n=n.substring(1));let{commands:d,commandSectionMap:f,loading:p}=v({context:t,includeBuiltIn:!0}),{apps:_}=A({context:t,onlyWithCommands:!0,includeBuiltIn:!0,includeEmbeddedApps:c,includeNonEmbeddedApps:l}),h=(0,u.A)({guildId:\"channel\"===t.type?t.channel.guild_id:null}),m=r.useMemo(()=>o?(0,E.V)(d,{limit:i,filterPredicates:[D(t)],bucketPredicates:x(n),sortComparers:G({channel:\"channel\"===t.type?t.channel:void 0})}):[],[o,d,i,t,n]),g=r.useMemo(()=>{if(0===m.length)return[];let e=new Map(_.map(e=>[e.id,e]));return a().compact(m.map(t=>{var n;let r=e.get(t.applicationId);if(null==r)return null;let i=null!=(n=f[t.id])?n:null;return{command:t,application:r,section:i}}))},[_,m,f]),b=r.useMemo(()=>{let e=[];if(c){let t=new Set(_.map(e=>{let{id:t}=e;return t}));e.push(..._),e.push(...h.filter(e=>{let{application:{id:n}}=e;return!t.has(n)}).map(e=>{let{application:t}=e;return t}))}else l&&(e=_);return(0,E.V)(e,{limit:s,filterPredicates:[S(t)],bucketPredicates:I(n),sortComparers:[w,P]})},[l,c,s,t,n,_,h]),y=g.length>0,O=b.length>0,T=!y&&!O;return{commandResults:g,hasCommandResults:y,applicationResults:b,hasApplicationResults:O,isEmptyState:T,loading:p&&o}}"},{"code":"function H(e){let{context:t,query:n,fetches:i=!0,pageLimit:a=1/0,entrypoint:c}=e;n.startsWith(\"\".concat(\"/\"))&&(n=n.substring(1));let u=c===b.s4.VOICE,d=\"channel\"===t.type?t.channel.guild_id:void 0,[f,p]=r.useState(1),_=r.useRef(f);_.current=f;let{fetchState:h,totalPages:E}=(0,l.cf)([g.A],()=>{var e,t;return{fetchState:g.A.getFetchState({query:n,guildId:d,page:f,integrationType:s.b.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0,excludeNonEmbeddedApps:u,excludeEmbeddedAppsWithoutPrimaryEntryPointAppCommand:!0,source:o.V.APP_LAUNCHER}),totalPages:null!=(e=null==(t=g.A.getSearchResults({query:n,guildId:d,page:f,integrationType:s.b.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0,excludeNonEmbeddedApps:u,excludeEmbeddedAppsWithoutPrimaryEntryPointAppCommand:!0,source:o.V.APP_LAUNCHER}))?void 0:t.totalPages)?e:0}},[n,d,f,u]),y=r.useMemo(()=>Array.from({length:h===g.e.FETCHED||h===g.e.ERROR?f:f-1},(e,t)=>{var r,i;return null!=(r=null==(i=g.A.getSearchResults({query:n,guildId:d,page:t+1,integrationType:s.b.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0,excludeNonEmbeddedApps:u,excludeEmbeddedAppsWithoutPrimaryEntryPointAppCommand:!0,source:o.V.APP_LAUNCHER}))?void 0:i.results)?r:[]}),[h,d,n,f,u]),O=r.useCallback(()=>{let e=y.length;h===g.e.FETCHED&&e===_.current&&e>0&&e<E&&e<a&&y[e-1].length>0&&(_.current++,p(e=>e+1))},[h,a,y,E]),A=r.useCallback(e=>{let{query:t,page:n,guildId:r}=e;m.$P({query:t,guildId:r,options:{page:n,integrationType:s.b.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0,excludeNonEmbeddedApps:u,excludeEmbeddedAppsWithoutPrimaryEntryPointAppCommand:!0,source:o.V.APP_LAUNCHER}})},[u]);return r.useEffect(()=>{i&&A({query:n,page:f,guildId:d})},[n,d,A,f,i]),r.useEffect(()=>{p(1)},[d,n]),{fetchState:h,applicationResults:y.flat(),fetchNextPage:O}}"}]