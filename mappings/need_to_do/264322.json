[{"code":"function ey(e,t){let[n,r]=i.useState(!0),a=(0,l.cf)([eh],()=>eh.getUserState());return i.useEffect(()=>{n&&(t&&ew(a)&&e&&(0,T.$)({type:\"user\"}),r(!1))},[a,t,e,n]),a}"},{"code":"function eE(e,t){let[n,r]=i.useState(!0),a=(0,l.cf)([eh],()=>{var t;return null!=(t=eh.indices[e])?t:Y});return i.useEffect(()=>{n&&null!=e&&(t&&(v.default.track(L.HAw.APPLICATION_COMMAND_CACHE_FETCH,{miss:null==a.result,size:Object.keys(eh.indices).length}),ew(a)&&(0,T.$)({type:\"guild\",guildId:e})),r(!1))},[a,t,e,n]),a}"},{"code":"function eG(e,t){return eU(e,t)}"},{"code":"function eg(e,t,n){let[r,a]=i.useState(!0),o=(0,l.cf)([eh],()=>\"channel\"===e.type?eh.getContextState(e):eh.getUserState());return i.useEffect(()=>{if(r){if(\"contextless\"===e.type){n&&ew(o)&&(0,T.$)({type:\"user\"});return}n&&t&&eN(e.channel)&&(v.default.track(L.HAw.APPLICATION_COMMAND_CACHE_FETCH,{miss:null==o.result,size:Object.keys(eh.indices).length}),ew(o)&&(null!=e.channel.guild_id?(0,T.$)({type:\"guild\",guildId:e.channel.guild_id}):(0,T.$)({type:\"channel\",channelId:e.channel.id}))),a(!1)}},[o,n,e,t,r]),o}"},{"code":"function eF(e,t){var n,r,i,a,o,s;let l,c;if(t===D.Ik.BUILT_IN)return{descriptor:A.gZ[D.Ik.BUILT_IN],sectionCommands:(0,A.Ez)([d.kc.CHAT],!0,!1),isGuildInstalled:!0,isUserInstalled:!0};let u=eh.getContextState(e),f=eh.getUserState(),p=null!=(n=null==(i=u.result)?void 0:i.sections)?n:{},_=null!=(r=null==(a=f.result)?void 0:a.sections)?r:{},h=p[t],m=_[t],g=null==(s=eh.getApplicationState(t).result)||null==(o=s.sections)?void 0:o[t];if(null!=h&&null!=m){for(let e in l=m.descriptor,c=[],m.commands){let t=m.commands[e];c.push(t)}for(let e in h.commands)if(!(e in m.commands)){let t=h.commands[e];c.push(t)}}else null!=h?(l=h.descriptor,c=Object.values(h.commands)):null!=m?(l=m.descriptor,c=Object.values(m.commands)):null!=g&&(l=g.descriptor,c=Object.values(g.commands));return{descriptor:l,sectionCommands:c,isGuildInstalled:null!=h,isUserInstalled:null!=m}}"},{"code":"function eA(e,t,n,r){let{descriptors:a,commands:o,sectionedCommands:s,loading:l}=eS(e,n,r),c=i.useMemo(()=>\"channel\"===e.type?{channel:e.channel,guild:t}:void 0,[e,t]),u=(0,I.F)(c);return i.useMemo(()=>{if(!r.includeFrecency||0===u.length)return{descriptors:a,commands:o,sectionedCommands:s,loading:l};let e=o.filter(e=>u.includes(e.id)).sort((e,t)=>{let n=S.Ay.getScoreWithoutLoadingLatest(c,e);return S.Ay.getScoreWithoutLoadingLatest(c,t)-n}).splice(0,D.Ob);return 0===e.length?{descriptors:a,commands:o,sectionedCommands:s,loading:l}:{descriptors:[A.gZ[D.Ik.FRECENCY],...a],commands:e.concat(o),sectionedCommands:[{section:A.gZ[D.Ik.FRECENCY],data:e},...s],loading:l}},[l,r.includeFrecency,u,o,a,s,c])}"},{"code":"function eS(e,t,n){let r=\"channel\"===e.type?e.channel:void 0,a=(0,R.MW)(r,t.commandTypes),o=!1!==t.applicationCommands,s=eg(e,o,n.allowFetch),l=ey(o,n.allowFetch),c=eO(),u=ev();return eb(n.applicationId,n.allowFetch),i.useMemo(()=>eT({permissionContext:a,text:t.text,allowApplicationCommands:o,builtIns:t.builtIns,scoreMethod:n.scoreMethod,allowEmptySections:n.allowEmptySections,contextState:s,userState:l,launcherContext:e,applicationStates:n.allowApplicationState?c:new Map,sortOptions:n.sortOptions,singleApplicationId:n.applicationId,installOnDemand:n.installOnDemand}),[a,t.text,t.builtIns,o,n.scoreMethod,n.allowEmptySections,n.sortOptions,n.allowApplicationState,n.applicationId,n.installOnDemand,s,l,e,c,u])}"},{"code":"async function en(e){var t,n,r;let i=Z(e),a=null!=(t=eh.indices[i])?t:Y;if(!ew(a)){if(a.fetchState.fetching){let e=a.fetchState.promise;return await e,null!=(r=eh.indices[i])?r:Y}return a}return await er(e),null!=(n=eh.indices[i])?n:Y}"}]