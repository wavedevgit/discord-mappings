[{"code":"class c extends r.EventEmitter{static async get(e,t,n){var r;let i={audio:t&&{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1},video:l(o({},e),{frameRate:30})};if((null==(r=navigator.mediaDevices)?void 0:r.getDisplayMedia)!=null)return new c(await navigator.mediaDevices.getDisplayMedia(i),n);throw Error(\"UNKNOWN\")}reuse(){this.removeAllListeners(),this.pool.release(this)}destroy(){this.removeAllListeners(),(0,i.it)(this.streamId),this.stream.getTracks().forEach(e=>e.stop())}reset(){this.refreshSpeaking()}getStreamId(){return this.streamId}refreshSpeaking(){this.emit(\"speaking\",this.stream.getAudioTracks().some(e=>e.enabled))}constructor(e,t){super(),a(this,\"id\",void 0),a(this,\"stream\",void 0),a(this,\"pool\",void 0),a(this,\"streamId\",void 0),e.getVideoTracks().forEach(e=>{e.onended=()=>{this.emit(\"desktopsourceend\")}}),this.id=e.getVideoTracks()[0].label,this.stream=e,this.streamId=(0,i.ju)(e),this.pool=t}}"}]