[{"code":"function L(e){let{channelId:t,guildId:a,participant:o,className:d,compact:m=!1,disableInteraction:b=!1,maxVisibleUsers:A=3}=e,S=i.useRef(null),C=(0,h.A)(),[w,L]=i.useState(!1),j=i.useRef(new u.J_(R,()=>L(!1))),M=(0,c.yK)([g.A,E.default],()=>{if(o.type===O.lp.STREAM){let e=g.A.getViewerIds(o.id);return e.length>0?e.map(e=>E.default.getUser(e)).filter(y.Vq):x}return o.type===O.lp.ACTIVITY&&o.participants.length>0?Array.from(o.participants).map(e=>E.default.getUser(e.userId)).filter(y.Vq):x},[o]);i.useEffect(()=>{C&&(j.current.cancel(),L(!1))},[C]);let k=i.useCallback(()=>{j.current.cancel(),L(!0)},[]),U=i.useCallback(()=>{j.current.delay()},[]),G=i.useCallback((e,t)=>{k(),(0,p.L3)(e,async()=>{let{default:e}=await Promise.all([n.e(\"97262\"),n.e(\"32418\"),n.e(\"8893\")]).then(n.bind(n,668569));return n=>(0,r.jsx)(e,N(T({},n),{user:t}))},{onClose:U})},[U,k]);if(0===M.length)return null;if(m)return(0,r.jsx)(D,{maxVisibleUsers:A,users:M,guildId:a,channelId:t,className:d,participantType:o.type});let V=l()(M).take(A).map(e=>(0,r.jsx)(f.euF,{src:e.getAvatarURL(a,24),\"aria-label\":e.username,size:f._3J.SIZE_24,className:I.lJ},e.id)).value();return M.length>A&&(V[V.length-1]=(0,r.jsxs)(\"div\",{className:I.ju,children:[\"+\",M.length-A+1]},\"overflow\")),(0,r.jsx)(_.A,{section:v.JJy.STREAM_VIEWER_POPOUT,children:(0,r.jsx)(\"div\",{onMouseEnter:k,onMouseLeave:U,children:(0,r.jsx)(f.YNO,{targetElementRef:S,renderPopout:()=>(0,r.jsx)(P,{participantType:o.type,handleUserContextMenu:G,guildId:a,channelId:t,users:M,disableInteraction:b}),shouldShow:w&&!C,position:\"top\",children:()=>(0,r.jsx)(\"div\",{ref:S,className:s()(I.Mj,d),children:V})})})})}"}]