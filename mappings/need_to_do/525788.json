[{"code":"function x(e){let{channelId:t,guildId:a,participant:s,className:d,compact:m=!1,disableInteraction:b=!1,maxVisibleUsers:A=3}=e,S=i.useRef(null),C=(0,h.A)(),[R,x]=i.useState(!1),M=i.useRef(new u.J_(w,()=>x(!1))),j=(0,c.yK)([g.A,E.default],()=>{if(s.type===O.lp.STREAM){let e=g.A.getViewerIds(s.id);return e.length>0?e.map(e=>E.default.getUser(e)).filter(y.Vq):L}return s.type===O.lp.ACTIVITY&&s.participants.length>0?Array.from(s.participants).map(e=>E.default.getUser(e.userId)).filter(y.Vq):L},[s]);i.useEffect(()=>{C&&(M.current.cancel(),x(!1))},[C]);let k=i.useCallback(()=>{M.current.cancel(),x(!0)},[]),U=i.useCallback(()=>{M.current.delay()},[]),G=i.useCallback((e,t)=>{k(),(0,p.L3)(e,async()=>{let{default:e}=await Promise.all([n.e(\"97262\"),n.e(\"3795\"),n.e(\"32418\"),n.e(\"57600\")]).then(n.bind(n,668569));return n=>(0,r.jsx)(e,N(T({},n),{user:t}))},{onClose:U})},[U,k]);if(0===j.length)return null;if(m)return(0,r.jsx)(D,{maxVisibleUsers:A,users:j,guildId:a,channelId:t,className:d,participantType:s.type});let V=l()(j).take(A).map(e=>(0,r.jsx)(f.euF,{src:e.getAvatarURL(a,24),\"aria-label\":e.username,size:f._3J.SIZE_24,className:I.lJ},e.id)).value();return j.length>A&&(V[V.length-1]=(0,r.jsxs)(\"div\",{className:I.ju,children:[\"+\",j.length-A+1]},\"overflow\")),(0,r.jsx)(_.A,{section:v.JJy.STREAM_VIEWER_POPOUT,children:(0,r.jsx)(\"div\",{onMouseEnter:k,onMouseLeave:U,children:(0,r.jsx)(f.YNO,{targetElementRef:S,renderPopout:()=>(0,r.jsx)(P,{participantType:s.type,handleUserContextMenu:G,guildId:a,channelId:t,users:j,disableInteraction:b}),shouldShow:R&&!C,position:\"top\",children:()=>(0,r.jsx)(\"div\",{ref:S,className:o()(I.Mj,d),children:V})})})})}"}]