[{"code":"function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{purchases:n}=h(t);return null!=e?n.get(e):void 0}"},{"code":"()=>h(!0)"},{"code":"function E(e,t){let n=null==e?void 0:e.paymentGateway,{isFetching:r,categories:i,fetchCategoriesError:a,refreshCategories:o}=(0,u.Z)({paymentGateway:n,noOp:null==e?void 0:e.noOp,logPerf:null==e?void 0:e.logPerf,countryCode:null==e?void 0:e.countryCode},t),{isClaiming:s,fetchPurchasesError:l,claimError:c,isFetching:d,purchases:f,hasPreviouslyFetched:p}=h(null==e?void 0:e.stalePurchasesOK);return{isFetching:r||d,isFetchingCategories:r,isFetchingPurchases:d,isClaiming:s,categories:i,purchases:f,fetchCategoriesError:a,fetchPurchasesError:l,claimError:c,refreshCategories:o,hasPreviouslyFetched:p}}"},{"code":"function h(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,c.a)(\"useFetchPurchases\");let t=(0,a.e7)([o.Z],()=>o.Z.hasLoadedExperiments),n=i.v.VARIANTS_GROUP,[u,d,f,p,_,h]=(0,a.Wu)([l.Z],()=>[l.Z.isFetching,l.Z.isClaiming,l.Z.fetchError,l.Z.claimError,l.Z.purchases,l.Z.hasPreviouslyFetched]),m=(0,r.useRef)(l.Z.hasPreviouslyFetched);(0,r.useEffect)(()=>{m.current=h},[h]);let g=(0,r.useRef)(l.Z.fetchError);(0,r.useEffect)(()=>{g.current=f},[f]);let E=(0,r.useRef)(l.Z.isFetching);return(0,r.useEffect)(()=>{E.current=u},[u]),(0,r.useEffect)(()=>{!t||E.current||!0===e&&m.current&&null==g.current||(0,s.qg)({variantsReturnStyle:n})},[e,n,t]),{isClaiming:d,fetchPurchasesError:f,claimError:p,isFetching:u,purchases:_,hasPreviouslyFetched:h}}"},{"code":"e=>E(_(f({},null!=e?e:{}),{stalePurchasesOK:!0}))"}]