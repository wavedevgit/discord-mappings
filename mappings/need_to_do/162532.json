[{"code":"function g(e){class t extends i.Component{componentDidUpdate(e,t){if(t===this.state)return;let{cached:n,loaded:r}=this.state,{style:i}=this.props,a=null!=i?h(i.backgroundImage):null;null==a&&a!==n||this.cachedURLs.indexOf(a)>=0?this.setState({loaded:!0,cached:a}):null!=a&&a!==n&&!0===r&&this.setState({loaded:!1},()=>this.preloadURL(a))}preloadURL(e){var t,n;null==(t=(n=this).canceller)||t.call(n),this.canceller=(0,s.yt)(e,t=>{this.canceller=null,t||(this.cachedURLs.push(e),this.setState({cached:e,loaded:!0}))})}componentWillUnmount(){var e,t;null==(e=(t=this).canceller)||e.call(t),this.cachedURLs.length=0}render(){let t=this.props,{style:n}=t,i=f(t,[\"style\"]),{loaded:a,cached:o}=this.state;return a||null==n||(n=d(c({},n),{backgroundImage:m(o)})),(0,r.jsx)(e,c({style:n},i))}constructor(e){super(e),l(this,\"cachedURLs\",[]),l(this,\"canceller\",null);const{style:t}=e,n=null!=t?h(t.backgroundImage):null;this.cachedURLs=[n],this.state={cached:n,loaded:!0}}}return o()(t,e),t}"}]