[{"code":"function P(){let e=C(),t=(0,m.useModalsStore)(t=>void 0!==t[e]?t[e]:N),n=i.useMemo(()=>A(t),[t]),a=i.useRef(void 0);i.useLayoutEffect(()=>{a.current=t[t.length-1]},[t]);let o=t.length>0;i.useLayoutEffect(()=>{if(!o)return;let e=()=>{let e=a.current;null!=e&&null!=e.onCloseRequest&&!1!==e.dismissable&&e.onCloseRequest()};return h.S.subscribe(E.CkL.MODAL_CLOSE,e),()=>{h.S.unsubscribe(E.CkL.MODAL_CLOSE,e)}},[o]);let s=i.useCallback(()=>{let e=a.current;(null==e?void 0:e.dismissable)!==!1&&h.S.dispatch(E.CkL.MODAL_CLOSE)},[]),p=i.useCallback(t=>{(0,m.closeModal)(t,e)},[e]),_=I.map(e=>t.some(t=>t.Layer===e||null==t.Layer&&e===f.ZP));return(0,r.jsxs)(u.W,{component:i.Fragment,children:[I.map((e,n)=>{var i;let a=l().findLast(t,t=>t.Layer===e||null==t.Layer&&e===f.ZP),o=null!=(i=null==a?void 0:a.backdropStyle)?i:c.fCB.DARK;return(0,c.OLG)(o)?(0,r.jsx)(e,{children:(0,r.jsx)(c.ZMr,{variant:o===c.fCB.LIGHTBOX||o===c.fCB.IMMERSIVE?\"lightbox\":\"default\",animationVariant:(null==a?void 0:a.instant)?\"instant\":\"default\",isVisible:_[n],onClick:s})},\"layer-\".concat(n)):(0,r.jsx)(d.Z,{isVisible:_[n],backdropStyle:o,onClose:s,LayerComponent:e,backdropInstant:null==a?void 0:a.instant},\"layer-\".concat(n))}),n.map((e,t)=>{let{key:i,Layer:a,render:o,instant:s,isVisible:l,dismissable:c}=e;return(0,r.jsx)(T,{modalKey:i,LayerComponent:null!=a?a:f.ZP,isVisible:l,isTopModal:t===n.length-1,render:o,closeModal:p,instant:s,dismissable:c},i)})]})}"},{"code":"function C(){return(0,m.modalContextFromAppContext)((0,_.bp)())}"}]