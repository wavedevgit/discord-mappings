[{"code":"e=>{let{node:t}=e;(0,I.u)({emojiId:t.emojiId,currentGuildId:L.Z.getGuildId()});let n=(0,F.Z)(t.name),i=n!==t.name;return(0,r.jsx)(c.V,{children:(0,r.jsx)(B.W_,{children:(0,r.jsxs)(b.Z,{className:K.emojiSection,children:[(0,r.jsx)(h.Z,{emojiName:t.name,className:K.primaryEmoji,src:t.src,animated:!1,size:\"jumbo\"}),(0,r.jsxs)(b.Z,{direction:b.Z.Direction.VERTICAL,justify:b.Z.Justify.CENTER,className:K.truncatingText,children:[(0,r.jsx)(p.Text,{className:K.__invalid_emojiName,variant:\"text-md/semibold\",children:i?(0,r.jsx)(\"div\",{className:K.customEmojiLabel,children:n}):(0,r.jsx)(u.Z,{children:n})}),(0,r.jsx)(p.Text,{variant:\"text-sm/normal\",children:W.intl.string(W.t.sXdH8c)})]})]})})})}"},{"code":"e=>{let{expressionSourceGuild:t,hasJoinedExpressionSourceGuild:n,isDisplayingJoinGuildButtonInPopout:i}=e,{id:a,icon:s,name:l}=t,c=J,d=k.ZP.getGuildIconURL({id:a,icon:s,size:c,canAnimate:!0}),f=(n=null==n||n)||t.isDiscoverable(),_=()=>{t.isDiscoverable()?(0,U.Ub)(a,{}):n&&(0,D.uL)(V.Z5c.CHANNEL(a,x.Z.getChannelId(a)))},h=()=>null!=d&&f?(0,r.jsxs)(p.P3F,{\"aria-label\":l,onClick:_,children:[(0,r.jsx)(\"img\",{src:d,alt:\"\",className:K.guildIcon}),\" :\"]}):(0,r.jsx)(T.Z,{size:T.Z.Sizes.SMALL,className:K.guildIconNotClickable,guild:t}),m=()=>f?(0,r.jsx)(p.P3F,{onClick:_,className:K.truncatingText,children:(0,r.jsx)(p.Heading,{className:K.guildName,variant:\"heading-md/semibold\",children:(0,r.jsx)(u.Z,{children:l})})}):(0,r.jsx)(p.Heading,{variant:\"heading-md/semibold\",children:(0,r.jsx)(u.Z,{children:l})}),g=t.isDiscoverable()&&null!=t.presenceCount,E=()=>{let e=!i&&!n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Text,{variant:\"text-xs/normal\",color:\"text-default\",children:W.intl.format(W.t[\"LC+S+m\"],{membersOnline:t.presenceCount})}),(0,r.jsx)(\"div\",{className:K.dotSeparator}),e?(0,r.jsx)(p.P3F,{className:K.joinGuildLink,onClick:_,children:(0,r.jsx)(p.Text,{variant:\"text-xs/normal\",color:\"text-link\",children:W.intl.string(W.t.riu2R5)})}):(0,r.jsx)(p.Text,{variant:\"text-xs/normal\",color:\"text-default\",children:W.intl.string(W.t.inyJqO)})]})},O=()=>g?E():(0,r.jsx)(p.Text,{variant:\"text-xs/normal\",color:\"text-default\",children:W.intl.string(W.t.H29mx4)});return(0,r.jsxs)(b.Z,{align:b.Z.Align.CENTER,children:[(0,r.jsx)(y.ZP,{mask:y.ZP.Masks.SQUIRCLE,width:c,height:c,className:K.__invalid_guildIconContainer,children:h()}),(0,r.jsxs)(b.Z,{direction:b.Z.Direction.VERTICAL,className:o()(K.__invalid_guildInformation,K.truncatingText),children:[(0,r.jsxs)(b.Z,{align:b.Z.Align.CENTER,children:[(0,r.jsx)(C.Z,{guild:t,className:K.guildBadge}),m()]}),(0,r.jsx)(b.Z,{align:b.Z.Align.CENTER,children:O()})]})]})}"},{"code":"e=>{var t,n,a;let{node:c,sourceType:d,expressionSourceApplication:y,expressionSourceGuild:v,joinedEmojiSourceGuildRecord:T,closePopout:C,onToggleShowMoreEmojis:D,guildEmoji:x,demoMode:k=!1,nonce:U}=e,F=(0,l.e7)([j.default],()=>j.default.getCurrentUser()),z=(0,l.e7)([L.Z],()=>L.Z.getGuildId()),q=G.ZP.isPremium(F),Q=null!=z&&(z===(null==v?void 0:v.id)||z===(null==T?void 0:T.id)),X=null!=T,J=null!=(t=null==v?void 0:v.isDiscoverable())&&t;k&&(q=!0,J=!0,X=!1,Q=!1);let $=ee(),{isRoleSubscriptionEmoji:et,isUnusableRoleSubscriptionEmoji:er,userIsRoleSubscriber:ei}=i.useMemo(()=>null==x?{isRoleSubscriptionEmoji:!1,isUnusableRoleSubscriptionEmoji:!1,userIsRoleSubscriber:!1}:{isRoleSubscriptionEmoji:A.yH(x),isUnusableRoleSubscriptionEmoji:A.Fv(x,null!=z?z:void 0),userIsRoleSubscriber:N.Z.getUserSubscriptionRoles(x.guildId).size>0},[x,z]),eo=!!er&&(0,O.Ol)(null==x?void 0:x.guildId),{analyticsLocations:es}=(0,g.ZP)(m.Z.GUILD_ROLE_SUBSCRIPTION_EMOJI_TEXT_POPOVER_UPSELL);(0,E.Z)({type:s.ImpressionTypes.MODAL,name:s.ImpressionNames.ROLE_SUBSCRIPTION_EMOJI_UPSELL,properties:{location_stack:es,emoji_guild_id:null!=(n=null==x?void 0:x.guildId)?n:null,emoji_id:null!=(a=null==x?void 0:x.id)?a:null}},{disableTrack:!et});let el=L.Z.getGuildId(),ec=(0,Z.a)({sourceType:d,expressionSourceApplication:y,isPremium:q,hasJoinedEmojiSourceGuild:X,isRoleSubscriptionEmoji:et,isUnusableRoleSubscriptionEmoji:er,userIsRoleSubscriber:ei,emojiComesFromCurrentGuild:Q,isDiscoverable:J,shouldHideRoleSubscriptionCTA:eo,onOpenPremiumSettings:()=>{C(),M.default.track(V.rMx.PREMIUM_PROMOTION_OPENED,{location_page:$.page,location_section:$.section}),(0,w.z)()}}),eu=X&&er&&!eo&&(q&&et||!q),ed=ec.emojiDescription,ef=(0,I.u)({emojiId:c.emojiId,currentGuildId:el,popoutData:ec,emojiSourceGuildId:null==v?void 0:v.id,nonce:U,demoMode:k}),ep=ec.type===Z.$.JOIN_GUILD,e_=ec.type===Z.$.GET_PREMIUM,eh=()=>{let e=async()=>{if(k||null==v||X)return;C();let e=v.id;try{await _.Z.joinGuild(e),_.Z.transitionToGuildSync(e)}catch(e){}},t=()=>{C(),(null==T?void 0:T.id)!=null&&_.Z.transitionToGuildSync(T.id,{sourceLocationStack:[m.Z.GUILD_ROLE_SUBSCRIPTION_EMOJI_TEXT_POPOVER_UPSELL]},H.oC.ROLE_SUBSCRIPTIONS)},n=!X&&J,i=()=>e_?(0,r.jsx)(R.Z,{className:K.ctaButton,subscriptionTier:Y.Si.TIER_2,size:f.zx.Sizes.SMALL,fullWidth:!0,textOptions:{textOverride:ec.text},onSubscribeModalClose:t=>t?e():C(),postSuccessGuild:n&&null!=v?v:void 0,premiumModalAnalyticsLocation:$}):ep?(0,r.jsx)(\"div\",{\"data-button-hoisted-classname-wrapper\":!0,className:K.ctaButton,children:(0,r.jsx)(p.Button,{variant:\"primary\",size:\"sm\",text:ec.text,fullWidth:!0,onClick:e})}):void 0;return(0,r.jsxs)(\"div\",{className:K.emojiSection,children:[(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(h.Z,{className:K.primaryEmoji,emojiId:c.emojiId,emojiName:c.name,animated:c.animated,size:\"jumbo\"}),(0,r.jsxs)(b.Z,{direction:b.Z.Direction.VERTICAL,justify:b.Z.Justify.CENTER,className:K.truncatingText,children:[(0,r.jsx)(p.Text,{variant:\"text-md/semibold\",children:(0,r.jsx)(u.Z,{children:c.name})}),null!=ed&&(0,r.jsx)(p.Text,{variant:\"text-sm/normal\",children:ed})]})]}),i(),eu&&(0,r.jsx)(P.Z,{text:ei?W.intl.string(W.t.yma8Vp):W.intl.string(W.t.nN2DIo),size:\"sm\",fullWidth:!0,onClick:t})]})},[em,eg]=i.useState(!1),eE=()=>{var e,t;let n=null!=v&&!X&&J&&(null!=(t=null==v||null==(e=v.emojis)?void 0:e.length)?t:0)>1,i=()=>{n&&(null==D||D(),em||k||M.default.track(V.rMx.EMOJI_UPSELL_POPOUT_MORE_EMOJIS_OPENED,ef),eg(!em))},a=()=>{let e=W.intl.string(W.t.pnsAS2);return(0,r.jsx)(p.P3F,{onClick:i,className:K.showMoreEmojis,children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(p.Text,{className:K.__invalid_showMoreEmojisLabel,\"aria-label\":e,variant:\"text-xs/normal\",color:\"none\",children:e}),(0,r.jsx)(p.CJ0,{size:\"md\",color:\"currentColor\",className:o()(K.showMoreEmojisArrow,{[K.showMoreEmojisArrowCollapsed]:!em})})]})})};return(0,r.jsxs)(\"div\",{className:K.guildSection,children:[(0,r.jsx)(p.Text,{className:K.guildTitle,variant:\"text-sm/medium\",color:\"text-subtle\",children:X?W.intl.string(W.t.ohTzZH):W.intl.string(W.t[\"eLfh+a\"])}),(0,r.jsx)(en,{expressionSourceGuild:null!=v?v:S.JO.createFromGuildRecord(T),hasJoinedExpressionSourceGuild:X,isDisplayingJoinGuildButtonInPopout:ep}),n&&(0,r.jsxs)(r.Fragment,{children:[a(),null!=c.emojiId&&em&&(0,r.jsx)(ea,{emojiId:c.emojiId,expressionSourceGuild:v,popoutData:ec,onClose:C,hasJoinedEmojiSourceGuild:X,isDisplayingButtonInTopSection:ep||e_})]})]})},eb=J||X&&!Q||null!=v;return(0,r.jsxs)(B.W_,{className:K.popoutContent,children:[eh(),eb&&eE()]})}"},{"code":"e=>{var t;let{emojiId:n,expressionSourceGuild:i,hasJoinedEmojiSourceGuild:a,popoutData:o,onClose:s,isDisplayingButtonInTopSection:l}=e,c=(null!=(t=null==i?void 0:i.emojis)?t:[]).slice(0,$+1).filter(e=>e.id!==n).slice(0,$),u=()=>a?null:c.map(e=>(0,r.jsx)(d.u,X(q({text:e.require_colons?\":\".concat(e.name,\":\"):e.name},B.b_),{children:(0,r.jsx)(h.Z,{className:K.otherEmoji,emojiId:e.id,animated:e.animated})}),e.id)),{type:f,description:_}=o,m=()=>f===Z.$.GET_PREMIUM?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.Z,{subscriptionTier:Y.Si.TIER_2,textOptions:{textOverride:o.text},className:K.ctaButton,fullWidth:!0,onClick:()=>s()}),null!=_&&(0,r.jsx)(\"div\",{className:K.ctaDescription,children:(0,r.jsx)(p.Text,{variant:\"text-sm/medium\",\"aria-label\":_,children:_})})]}):f===Z.$.JOIN_GUILD?(0,r.jsx)(\"div\",{\"data-button-hoisted-classname-wrapper\":!0,className:K.ctaButton,children:(0,r.jsx)(p.Button,{variant:\"primary\",size:\"sm\",text:o.text,fullWidth:!0,onClick:()=>{(0,U.Ub)(i.id,{})}})}):null;return(0,r.jsxs)(\"div\",{className:K.otherEmojisContainer,children:[u(),!l&&m()]})}"},{"code":"e=>{let{node:t,closePopout:n,refreshPositionKey:i,nonce:a}=e,{expressionSourceGuild:o,expressionSourceApplication:s,sourceType:l,joinedEmojiSourceGuildRecord:u,emoji:d,isFetching:f}=(0,v.i)({emojiId:t.emojiId,refreshPositionKey:i});return f?(0,r.jsx)(B.SE,{}):(0,r.jsx)(c.V,{\"aria-label\":t.name,children:(0,r.jsx)(ei,{node:t,sourceType:l,expressionSourceApplication:s,guildEmoji:null!=d?d:void 0,expressionSourceGuild:o,joinedEmojiSourceGuildRecord:u,closePopout:n,onToggleShowMoreEmojis:i,demoMode:!1,nonce:a})})}"}]