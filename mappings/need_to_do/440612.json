[{"code":"e=>{var t;let{skuId:n,onRedeemVirtualCurrency:r,orbRedemptionError:a,orbProductContext:l,analyticsLocations:d,analyticsSourceLocation:p}=e,{selectedSkuId:h,setPurchaseState:m}=(0,f.P5)(),{product:g}=(0,c.q)(h),E=(0,b.gN)(),y=(0,i.useRef)(E),{emitOrbCheckoutPaymentFlowEvent:O}=(0,v.O)({skuId:n,orbProductContext:l,analyticsLocations:d,analyticsSourceLocation:p});(0,o.Ay)(()=>{O(I.HAw.PAYMENT_FLOW_LOADED)}),(0,i.useEffect)(()=>{null!=a&&null!==y.current&&(O(I.HAw.PAYMENT_FLOW_FAILED,a),y.current=null)},[a,O]);let A=(0,i.useCallback)(()=>{y.current=E,O(I.HAw.PAYMENT_FLOW_COMPLETED),r(()=>{m(_.h.COMPLETED),O(I.HAw.PAYMENT_FLOW_SUCCEEDED)})},[r,m,E,O]),T=null!=(t=y.current)?t:E,C=null!=l?l.orbPriceAmount:null;return{isStepLoading:null==h||null==g,showCollectiblesDiscountWarning:(0,u.vw)({skuId:n,isOrbsPurchase:!0}),errorMessage:(0,i.useMemo)(()=>null==a?null:a.code===s.tG.VIRTUAL_CURRENCY_INSUFFICIENT_BALANCE?S.intl.string(S.t.keFvXM):a.code===s.tG.ALREADY_PURCHASED?S.intl.string(S.t.m371Mx):S.intl.string(S.t.fqJZ11),[a]),orbPriceAmount:C,orbBalanceToDisplay:T,onClickCheckout:A,selectedSkuId:h,product:g}}"},{"code":"e=>{let{skuId:t,analyticsLocations:n,analyticsSourceLocation:r,orbProductContext:a,onClose:s}=e,{emitOrbCheckoutPaymentFlowEvent:o}=(0,v.O)({skuId:t,orbProductContext:a,analyticsLocations:n,analyticsSourceLocation:r});return{analyticsDataOverride:(0,i.useMemo)(()=>{var e,t;if(null!=a)return{price:null!=(e=a.orbPriceAmount)?e:void 0,regular_price:null!=(t=a.orbPriceAmount)?t:void 0,currency:I.Yri.DISCORD_ORB}},[a]),onClose:(0,i.useCallback)(async e=>{e||o(I.HAw.PAYMENT_FLOW_CANCELED),await s()},[s,o])}}"},{"code":"e=>{let{skuId:t,loadId:n,onCheckoutSuccess:i,analyticsSourceLocation:a,analyticsLocations:s=[],rentalDuration:o}=e,l=N(e,[\"skuId\",\"loadId\",\"onCheckoutSuccess\",\"analyticsSourceLocation\",\"analyticsLocations\",\"rentalDuration\"]);return(0,r.jsx)(f.PaymentContextProvider,{applicationId:(0,y.p)(t),activeSubscription:null,loadId:n,stepConfigs:L,purchaseType:I.VVm.ONE_TIME,skuIDs:[t],paymentGateway:I.kM_.VIRTUAL_CURRENCY,excludeSubscriptionPlansBySKU:!0,excludeSKUPurchasePreviews:!0,children:(0,r.jsx)(O.Z9,{skuId:t,loadId:n,onCheckoutSuccess:i,analyticsLocations:s,analyticsSourceLocation:a,rentalDuration:o,children:(0,r.jsx)(d.Mq,{children:(0,r.jsx)(k,C({skuId:t,analyticsLocations:s},l))})})})}"},{"code":"e=>{let{handleClose:t}=e,{purchaseState:n}=(0,f.P5)();(0,i.useEffect)(()=>{n===_.h.COMPLETED&&t()},[n,t])}"}]