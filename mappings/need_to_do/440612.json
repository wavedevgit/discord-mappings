[{"code":"e=>{var t;let{skuId:n,onRedeemVirtualCurrency:r,orbRedemptionError:a,orbProductContext:l,analyticsLocations:d,analyticsSourceLocation:p}=e,{selectedSkuId:h,setPurchaseState:m}=(0,f.P5)(),{product:g}=(0,c.q)(h),E=(0,y.gN)(),b=(0,i.useRef)(E),{emitOrbCheckoutPaymentFlowEvent:O}=(0,A.O)({skuId:n,orbProductContext:l,analyticsLocations:d,analyticsSourceLocation:p});(0,o.Ay)(()=>{O(S.HAw.PAYMENT_FLOW_LOADED)}),(0,i.useEffect)(()=>{null!=a&&null!==b.current&&(O(S.HAw.PAYMENT_FLOW_FAILED,a),b.current=null)},[a,O]);let v=(0,i.useCallback)(()=>{b.current=E,O(S.HAw.PAYMENT_FLOW_COMPLETED),r(()=>{m(_.h.COMPLETED),O(S.HAw.PAYMENT_FLOW_SUCCEEDED)})},[r,m,E,O]),T=null!=(t=b.current)?t:E,C=null!=l?l.orbPriceAmount:null;return{isStepLoading:null==h||null==g,showCollectiblesDiscountWarning:(0,u.vw)({skuId:n,isOrbsPurchase:!0}),errorMessage:(0,i.useMemo)(()=>null==a?null:a.code===s.tG.VIRTUAL_CURRENCY_INSUFFICIENT_BALANCE?I.intl.string(I.t.keFvXM):a.code===s.tG.ALREADY_PURCHASED?I.intl.string(I.t.m371Mx):I.intl.string(I.t.fqJZ11),[a]),orbPriceAmount:C,orbBalanceToDisplay:T,onClickCheckout:v,selectedSkuId:h,product:g}}"},{"code":"e=>{let{skuId:t,analyticsLocations:n,analyticsSourceLocation:r,orbProductContext:a,onClose:s}=e,{emitOrbCheckoutPaymentFlowEvent:o}=(0,A.O)({skuId:t,orbProductContext:a,analyticsLocations:n,analyticsSourceLocation:r});return{analyticsDataOverride:(0,i.useMemo)(()=>{var e,t;if(null!=a)return{price:null!=(e=a.orbPriceAmount)?e:void 0,regular_price:null!=(t=a.orbPriceAmount)?t:void 0,currency:S.Yri.DISCORD_ORB}},[a]),onClose:(0,i.useCallback)(async e=>{e||o(S.HAw.PAYMENT_FLOW_CANCELED),await s()},[s,o])}}"},{"code":"e=>{let{skuId:t,loadId:n,onCheckoutSuccess:i,analyticsSourceLocation:a,analyticsLocations:s=[],rentalDuration:o}=e,l=N(e,[\"skuId\",\"loadId\",\"onCheckoutSuccess\",\"analyticsSourceLocation\",\"analyticsLocations\",\"rentalDuration\"]);return(0,r.jsx)(f.PaymentContextProvider,{applicationId:(0,b.p)(t),activeSubscription:null,loadId:n,stepConfigs:L,purchaseType:S.VVm.ONE_TIME,skuIDs:[t],paymentGateway:S.kM_.VIRTUAL_CURRENCY,excludeSubscriptionPlansBySKU:!0,excludeSKUPurchasePreviews:!0,children:(0,r.jsx)(O.Z9,{skuId:t,loadId:n,onCheckoutSuccess:i,analyticsLocations:s,analyticsSourceLocation:a,rentalDuration:o,children:(0,r.jsx)(d.Mq,{children:(0,r.jsx)(k,C({skuId:t,analyticsLocations:s},l))})})})}"},{"code":"e=>{let{handleClose:t}=e,{purchaseState:n}=(0,f.P5)();(0,i.useEffect)(()=>{n===_.h.COMPLETED&&t()},[n,t])}"}]