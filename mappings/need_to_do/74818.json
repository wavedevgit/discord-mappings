[{"code":"function D(e){let{selectionMode:t,readOnly:n,autoFocus:a,clearable:_,fullWidth:I,closeOnSelect:T=!0,shouldFocusWrap:R,placeholder:D=v.intl.string(O.default[\"A+pfVR\"]),name:j,form:M,autoComplete:k,maxOptionsVisible:U=5,options:G,formatOption:V,onSelectionChange:F,value:B,wrapTags:H=!1}=e,Y=N(e,[\"selectionMode\",\"readOnly\",\"autoFocus\",\"clearable\",\"fullWidth\",\"closeOnSelect\",\"shouldFocusWrap\",\"placeholder\",\"name\",\"form\",\"autoComplete\",\"maxOptionsVisible\",\"options\",\"formatOption\",\"onSelectionChange\",\"value\",\"wrapTags\"]),W=i.useRef(null),{fieldProps:K}=(0,l.n)(Y),{id:z,required:q,label:X,disabled:Z}=K,{isOpen:Q,setIsOpen:$,refs:J,floatingStyles:ee,getReferenceProps:et,getFloatingProps:en,transitionStyles:er}=(0,y.G)(),ei=i.useId(),{options:ea,loading:es}=(0,E.K)({active:Q,options:G,renderOption:V}),eo=i.useRef(null),el=i.useRef(null),ec=null!=T?T:\"multiple\"!==t,eu=Array.isArray(B)?B.length>0:null!=B,ed=Z||n,{measuredWidth:ef,itemsForMeasurement:ep}=x(ea,t),e_=i.useCallback(()=>{ed||$(!Q)},[ed,$,Q]),eh=i.useCallback(()=>{var e;$(!1),null==(e=eo.current)||e.focus()},[$]),em=i.useCallback(()=>{var e;!1!==_&&(\"multiple\"===t?F([]):F(null),null==(e=eo.current)||e.focus())},[F,t,_]);i.useEffect(()=>{if(a){var e;null==(e=eo.current)||e.focus()}},[a]);let eg=i.useCallback(e=>{var t,n,r,i,a,s;if(!ed)switch(e.key){case\"ArrowDown\":e.preventDefault(),$(!0);break;case\"ArrowLeft\":e.preventDefault(),null==(n=W.current)||null==(t=n.firstChild)||t.focus();break;case\"ArrowRight\":e.preventDefault(),null==(i=W.current)||null==(r=i.lastChild)||r.focus();break;case\"Backspace\":eu&&(e.preventDefault(),null==(s=W.current)||null==(a=s.lastChild)||a.focus());break;case\"Escape\":eu&&_&&(e.preventDefault(),e.stopPropagation(),em())}},[em,eu,_,$,ed]),eE=i.useMemo(()=>{let e=Array.isArray(B)?B:[B];return ea.filter(t=>(0,b.fI)(t.value,e))},[B,ea]),ey=i.useMemo(()=>{if(!I)return\"\".concat(Math.max(null!=ef?ef:200,200)*(\"multiple\"===t?1.5:1)+!!_*w+P+12,\"px\")},[I,ef,t,_]),eb=i.useCallback(e=>{if(ed)return;let n=Array.from(e);if(\"multiple\"===t&&n.length<1)F([]);else if(\"multiple\"===t)F(n.map(e=>e.value));else{var r;F(null==(r=n[0])?void 0:r.value)}ec&&Q&&eh()},[ed,t,F,ec,eh,Q]),eO=\"multiple\"===t&&eE.length>0,ev=i.useRef(null);i.useEffect(()=>{clearTimeout(ev.current),eO&&!H&&(ev.current=setTimeout(()=>{var e,t;null==(t=W.current)||null==(e=t.lastElementChild)||e.scrollIntoView({behavior:\"smooth\",inline:\"end\",block:\"end\"})},10))},[eE,eO,H]);let eA=(0,o.A)(el,J.setReference),eI=i.useCallback(e=>{if(ed)return;let t=Array.from(e)[0],n=eE.filter(e=>e.id!==t);if(eb(n),0===n.length){var r;null==(r=eo.current)||r.focus()}},[eb,eE,ed]),eS=Math.max(ea.findIndex(e=>{var t;return e.id===(null==(t=eE[eE.length-1])?void 0:t.id)}),0),eT=i.useRef(null);i.useEffect(()=>(!es&&Q&&(eT.current=setTimeout(()=>{var e;return null==(e=document.getElementById((0,b.ZN)(ei,eS)))?void 0:e.focus()},10)),()=>{null!=eT.current&&clearTimeout(eT.current)}),[es,ei,Q,eS]);let eC=(0,p.rdh)(f.A.modules.select.MAX_WIDTH),eN=i.useMemo(()=>({horizontalControlColumnWidth:\"min(\".concat(eC,\"px, auto)\")}),[eC]);function eR(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.p,C(S({ref:eA,disabled:Z,readOnly:n,loading:es,clearable:_,fullWidth:I,isOpen:Q,isInert:ed,hasValue:eu,hasError:(null==e?void 0:e.errorMessageId)!=null,handleToggle:e_,handleClear:em},et()),{children:(0,r.jsxs)(d.sqX,{\"aria-label\":X,buttonRef:eo,buttonProps:C(S({},null!=z?{id:z}:{}),{style:{marginLeft:-4}}),focusProps:{ringTarget:el},className:s()(A.L5,{[A.kj]:H,[A.M8]:\"multiple\"===t}),onClick:e_,onKeyDown:eg,\"aria-expanded\":Q,\"aria-busy\":es,\"aria-haspopup\":\"listbox\",\"aria-controls\":ei,\"aria-describedby\":null==e?void 0:e.describedById,\"aria-errormessage\":null==e?void 0:e.errorMessageId,\"aria-invalid\":(null==e?void 0:e.errorMessageId)!=null,children:[(0,r.jsxs)(c.A,{children:[X,\", \"]}),(0,r.jsx)(L,{tagGroupRef:W,placeholder:D,selectionMode:t,selectedItems:eE,onRemove:eI})]})})),(0,r.jsx)(h.H,{name:j,form:M,disabled:ed,autoComplete:k,selectionMode:t,selectedItems:eE,onSelectionChange:eb,listItems:ea}),!I&&ep,!ed&&Q&&(0,r.jsx)(\"div\",C(S({ref:J.setFloating,className:A.S_},en()),{style:S({},ee,er),children:(0,r.jsx)(d.lGe,{children:(0,r.jsx)(u.q,{id:ei,required:q,items:ea,selectionMode:t,selectedItems:eE,onSelectionChange:eb,shouldFocusWrap:R,renderListItem:e=>(0,r.jsx)(m.c,S({},e)),maxVisibleItems:U,loading:es,typeahead:!0})})}))]})}return(0,r.jsx)(l.D,C(S({},K),{\"data-mana-component\":\"select\",layoutConfig:eN,children:e=>(0,r.jsx)(\"div\",{style:{width:I?\"100%\":\"minmax(\".concat(ey,\"px, 100%)\")},children:eR(e)})}))}"}]