[{"code":"async function d(e,t){i.Z.dispatch({type:\"SCHEDULED_MESSAGES_UPDATE_START\",scheduledMessageId:e});try{let n=await r.tn.patch({url:l.ANM.SCHEDULED_MESSAGE(e),body:{scheduled_timestamp:t},rejectWithError:!0});if(!n.ok)throw Error(\"Failed to update scheduled message\");i.Z.dispatch({type:\"SCHEDULED_MESSAGES_UPDATE_SUCCESS\",scheduledMessageSend:(0,s.IR)(n.body)})}catch(r){var n,a;s.GO.error(\"Failed to update scheduled message\",r);let t=null!=(a=null==(n=r.body)?void 0:n.message)?a:r.message;throw i.Z.dispatch({type:\"SCHEDULED_MESSAGES_UPDATE_FAILURE\",scheduledMessageId:e,errorMsg:t}),Error(t)}}"},{"code":"async function u(e){let{channelId:t,scheduledTimestamp:n,messageSendData:a,attachments:o,attachmentsToUpload:u}=e;i.Z.dispatch({type:\"SCHEDULED_MESSAGES_CREATE_START\",channelId:t});try{let[e,d]=(0,s.Uo)({content:a.content,flags:a.flags});null!=u&&(o=await c(u));let f=await r.tn.post({url:l.ANM.SCHEDULED_MESSAGES,body:{channel_id:t,content:e,scheduled_timestamp:n,flags:d,message_reference:a.message_reference,allowed_mentions:a.allowed_mentions,attachments:null!=o?o:[]},rejectWithError:!0});if(!f.ok)throw Error(\"Failed to create scheduled message\");return i.Z.dispatch({type:\"SCHEDULED_MESSAGES_CREATE_SUCCESS\",channelId:t,scheduledMessageSend:(0,s.IR)(f.body)}),f}catch(n){var d,f;s.GO.error(\"Failed to create scheduled message\",n);let e=null!=(f=null==(d=n.body)?void 0:d.message)?f:n.message;throw i.Z.dispatch({type:\"SCHEDULED_MESSAGES_CREATE_FAILURE\",channelId:t,errorMsg:e}),Error(e)}}"},{"code":"function h(e){let{channelId:t,scheduledTimestamp:n}=e;i.Z.dispatch({type:\"CREATE_PENDING_SCHEDULED_MESSAGE\",channelId:t,scheduledTimestamp:n})}"},{"code":"async function f(e){i.Z.dispatch({type:\"SCHEDULED_MESSAGES_DELETE_START\",scheduledMessageId:e});try{if(!(await r.tn.del({url:l.ANM.SCHEDULED_MESSAGE(e),rejectWithError:!0})).ok)throw Error(\"Failed to delete scheduled message\");i.Z.dispatch({type:\"SCHEDULED_MESSAGES_DELETE_SUCCESS\",scheduledMessageId:e})}catch(a){var t,n;s.GO.error(\"Failed to cancel scheduled message\",a);let r=null!=(n=null==(t=a.body)?void 0:t.message)?n:a.message;throw i.Z.dispatch({type:\"SCHEDULED_MESSAGES_DELETE_FAILURE\",scheduledMessageId:e,errorMsg:r}),Error(r)}}"},{"code":"async function _(){i.Z.dispatch({type:\"FETCH_SCHEDULED_MESSAGES\"});try{let e=await p();s.GO.info(\"Fetched scheduled messages\",e),i.Z.dispatch({type:\"FETCH_SCHEDULED_MESSAGES_SUCCESS\",messages:e})}catch(e){s.GO.error(\"Failed to fetch scheduled messages\",e),i.Z.dispatch({type:\"FETCH_SCHEDULED_MESSAGES_FAILURE\",error:e})}}"},{"code":"function m(e){i.Z.dispatch({type:\"DELETE_PENDING_SCHEDULED_MESSAGE\",channelId:e})}"}]