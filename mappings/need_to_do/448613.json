[{"code":"async e=>{let{userId:t,content:n,location:d,openChannel:f=!0,whenReady:p=!1,entry:_,nonce:h}=e,{valid:m,failureReason:g}=await (0,c.i)({type:a.oU.NORMAL,content:n,channel:null});if(!m)throw Error(g);let E=f?await r.A.openPrivateChannel({recipientIds:t,location:d}):await r.A.getOrEnsurePrivateChannel(t),y=l.A.getChannel(E);if(null==y)throw Error(\"Failed to open private channel\");if(null!=_)(0,o.d)({channel:y,content:n,entry:_,whenReady:p,doNotNotifyOnError:!1,location:u.Hx.USER_PROFILE});else{let e=s.Ay.parse(y,n);return i.A.sendMessage(y.id,e,p,{location:u.Hx.USER_PROFILE,nonce:h})}}"}]