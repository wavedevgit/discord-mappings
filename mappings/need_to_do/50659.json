[{"code":"function u(e,t,n){if(null==e.selection)return{before:{},after:{}};let r=d(e,t),i=d(e,n);for(let e in r)e in i||delete r[e];for(let e in i)e in r||delete i[e];return{before:r,after:i}}"},{"code":"function m(e,t){let n=e.selection;if(null==n)return;let r=!0;for(let[i,a]of s.bN.blocks(e))(\"line\"===i.type||i.type===t)&&s.M8.includes(n,a)&&(r=r&&i.type===t);s.bN.withoutNormalizing(e,()=>{for(let[i,a]of s.bN.blocks(e))s.M8.includes(n,a)&&(r||\"line\"!==i.type?r&&i.type===t&&o.Q.setNodes(e,{type:\"line\"},{at:a}):o.Q.setNodes(e,{type:t},{at:a}))}),s.bN.focus(e)}"},{"code":"function h(e,t){a.T.withSingleEntry(e,()=>{s.bN.withoutNormalizing(e,()=>{i()(null!=e.selection,\"Editor has no selection\");let[n,r]=s.M8.edges(e.selection),a=u(e,n,r),l=a.before[t],d=a.after[t],f=s.bN.node(e,n.path),p=s.bN.node(e,r.path);if(null==f||null==p||!s.LC.isText(f[0])||!s.LC.isText(p[0]))return;let _=s.C0.equals(f[1],p[1]);if(null!=l&&null!=d){let t={path:n.path,offset:l.location},i={path:r.path,offset:d.location};o.Q.delete(e,{at:i,distance:d.chars.length}),o.Q.delete(e,{at:t,distance:l.chars.length});let a=n.offset,c=r.offset;s.Jz.isBefore(n,t)||(a-=l.chars.length),_&&!s.Jz.isBefore(r,t)&&(c-=l.chars.length),s.Jz.isAfter(r,i)&&(c-=d.chars.length),o.Q.select(e,{anchor:{path:n.path,offset:Math.max(0,a)},focus:{path:r.path,offset:Math.max(0,c)}})}else{let i=c[t];o.Q.insertText(e,i,{at:r}),o.Q.insertText(e,i,{at:n});let a=f[0].text.length+i.length,s=p[0].text.length+(_?2*i.length:i.length);o.Q.select(e,{anchor:{path:n.path,offset:Math.min(a,n.offset+i.length)},focus:{path:r.path,offset:Math.min(s,r.offset+(_?i.length:0))}})}})}),s.bN.focus(e)}"}]