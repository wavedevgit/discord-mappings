[{"code":"()=>Object.values(m.Fj).filter(e=>{var t;return null==e.isEligible||(null==(t=e.isEligible)?void 0:t.call(e))})"},{"code":"function C(e){var t,n,r,i;let a=b(e);if(a===m.qn.NONE)return{attachmentIds:[],embedIds:[]};let o=null==(t=e.attachments)?void 0:t.filter(e=>P({type:_.l.Attachment,media:e},a)),s=null==(n=e.embeds)?void 0:n.filter(e=>P({type:_.l.Embed,media:e},a));return{attachmentIds:null!=(r=null==o?void 0:o.map(e=>e.id).filter(Boolean))?r:[],embedIds:null!=(i=null==s?void 0:s.map((e,t)=>\"embed_\".concat(t)).filter(Boolean))?i:[]}}"},{"code":"function R(e){let t=m.qn.NONE;for(let n of e)switch(n){case m._.EXPLICIT:t|=m.qn.EXPLICIT;break;case m._.GORE:t|=m.qn.GORE;break;case m._.SELF_HARM:t|=m.qn.SELF_HARM}return t}"},{"code":"function A(e,t){if(t===m.qn.NONE)return[];let n=D(t);return 0===n.length?[]:n.filter(t=>w(t,e)).map(e=>m.Fj[e].obscureReason)}"},{"code":"function T(e,t){var n,r;let i=null!=t?t:b(e);if(i===m.qn.NONE)return!1;if((null==(n=e.attachments)?void 0:n.some(e=>P({type:_.l.Attachment,media:e},i)))||(null==(r=e.embeds)?void 0:r.some(e=>P({type:_.l.Embed,media:e},i)))||null!=e.components&&I(e.components).some(e=>P({type:_.l.GenericMedia,media:e},i)))return!0;let a=null;if(\"messageSnapshots\"in e?a=e.messageSnapshots:\"message_snapshots\"in e&&(a=e.message_snapshots),null==a||0===a.length)return!1;for(let e of a)if(T(e.message,i))return!0;return!1}"},{"code":"function w(e,t){var n,i,a,s;if(null==e)return!1;let l=m.Fj[e];if(null!=l.devSettingKey&&o.ZP.get(l.devSettingKey))return!0;switch(t.type){case _.l.Embed:return(0,r.yE)(null!=(n=t.media.flags)?n:0,l.embedFlag);case _.l.Attachment:return(0,r.yE)(null!=(i=t.media.flags)?i:0,l.attachmentFlag);case _.l.GenericMedia:return(0,r.yE)(null!=(s=null==(a=t.media.contentScanMetadata)?void 0:a.flags)?s:0,l.genericMediaFlag);default:return!1}}"},{"code":"function P(e,t){if(t===m.qn.NONE||o.ZP.get(\"explicit_media_redaction_ignore_pending_scan\"))return!1;let n=D(t);if(0===n.length)return!1;switch(e.type){case _.l.Embed:return L(e.media,n);case _.l.Attachment:return j(e.media,n);case _.l.GenericMedia:return M(e.media,n);default:return!1}}"},{"code":"function S(e,t){var n,r;if(t===m.qn.NONE||null==e)return!1;if((null==(n=e.attachments)?void 0:n.some(e=>A({type:_.l.Attachment,media:e},t).length>0))||(null==(r=e.embeds)?void 0:r.some(e=>A({type:_.l.Embed,media:e},t).length>0)))return!0;let i=null;if(\"messageSnapshots\"in e?i=e.messageSnapshots:\"message_snapshots\"in e&&(i=e.message_snapshots),null==i||0===i.length)return!1;for(let e of i)if(S(e.message,t))return!0;return!1}"},{"code":"function U(e){return null!=e&&[i.Q4.BLOCK,i.Q4.BLUR].includes(e)}"},{"code":"function N(e,t){if(t===m.qn.NONE)return!1;let n=D(t);return 0!==n.length&&n.filter(t=>w(t,e)).length>0}"},{"code":"function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[c.Z,d.Z],[r,i]=n,a=r.getChannel(e),o=f.default.getCurrentUser();return null==o||t===o.id||null==a?null:a.isDM()||a.isGroupDM()?null!=t&&i.getFriendIDs().includes(t)?_.n.FRIEND_DM:_.n.NON_FRIEND_DM:_.n.GUILD}"},{"code":"function v(e){let t=b(e);return S(e,t)}"},{"code":"e=>{let t=E();return null==e?m.qn.NONE:R(t.map(t=>U(t.getUserSettingsWithDefaults()[e])?t.harmType:null).filter(p.lm))}"},{"code":"function G(e){var t,n;let r=null,i=null;if(null==e)return{channelId:r,authorId:i};if(\"channel_id\"in e&&(r=e.channel_id),\"messageReference\"in e&&(0,s.Z)(e)&&null!=e.messageReference){let n=u.Z.getMessage(e.messageReference.channel_id,e.messageReference.message_id);null!=n&&(i=null==(t=n.author)?void 0:t.id)}else\"author\"in e?i=null==(n=e.author)?void 0:n.id:\"author_id\"in e&&(i=e.author_id);return{channelId:r,authorId:i}}"},{"code":"e=>{let{channelId:t,authorId:n}=G(e);return null==t||null==e?m.qn.NONE:y(t,n)}"}]