[{"code":"class o{onStreamBegin(e,t,n){let i=(0,r.M)(e,t);this.sound=n,null==i||null==i.windowHandle?this.callback({type:\"stop\"}):this._stream(i)}onStreamKilled(){this._kill()}onStreamEnd(){this._stop()}onDetectionUpdate(e){this._update(e)}onCaptureEnd(e,t){var n;(null==(n=this.application)?void 0:n.windowHandle)===t&&this._update(e)}onCaptureLegacyEnd(e){var t;return(null==(t=this.application)?void 0:t.windowHandle)!=null?this.onCaptureEnd(e,this.application.windowHandle):this._stop()}_update(e){let t=(0,r.w)(e,this.application);if(null!=t)return null==t.windowHandle?this._pause():this._stream(t);this._stop()}_stream(e){var t;let n=(null==(t=this.application)?void 0:t.windowHandle)!==e.windowHandle;this.active=!0,this.application=Object.assign({},e),n&&this.callback({type:\"stream\",sourceId:\"window:\".concat(this.application.windowHandle),sound:this.sound})}_kill(){this.active=!1,this.application=null}_stop(){this.active&&(this._kill(),this.callback({type:\"stop\"}))}_pause(){this.active&&(this.application.windowHandle=null,this.callback({type:\"pause\"}))}constructor(e){i(this,\"callback\",void 0),i(this,\"active\",void 0),i(this,\"application\",void 0),i(this,\"sound\",void 0),this.callback=e,this.active=!1,this.application=null,this.sound=!0}}"}]