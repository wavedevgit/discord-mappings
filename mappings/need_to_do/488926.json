[{"code":"function K(e){let{permission:t,user:n,context:r,overwrites:i,roles:s,excludeGuildPermissions:o}=e;return a.zy(U({user:n,context:r,overwrites:i,roles:s,checkElevated:!0,excludeGuildPermissions:o}),t)}"},{"code":"function H(e,t){let n=g.Ay.getMember(e.id,t);if(null!=n)return E.A.getSortedRoles(e.id).find(e=>n.roles.includes(e.id))}"},{"code":"function q(e,t){let n,r={};if(t instanceof f.YB){if(t.type===A.rbe.PRIVATE_THREAD||f.Le.has(t.type)&&null==(t=m.A.getChannel(t.parent_id)))return!1;r=t.permissionOverwrites;let e=t.getGuildId();n=null!=e?y.A.getGuild(e):null}else n=t;if(null==n)return!1;let s=E.A.getEveryoneRole(n);return!(!(0,_._m)(s,e)||i().some(r,t=>a.zy(t.deny,e)))}"},{"code":"function z(e,t){let n,r={};if(t instanceof f.YB){if(t.type===A.rbe.PRIVATE_THREAD||f.Le.has(t.type)&&null==(t=m.A.getChannel(t.parent_id)))return!1;r=t.permissionOverwrites;let e=t.getGuildId();n=null!=e?y.A.getGuild(e):null}else n=t;if(null==n)return!1;let i=E.A.getEveryoneRole(n).permissions,s=r[n.id];return null!=s&&(i=a.TF(i,s.deny),i=a.WQ(i,s.allow)),a.zy(i,e)}"},{"code":"function G(e,t,n,r){return e.type!==A.rbe.PRIVATE_THREAD||n||r||a.zy(t,A.xBc.MANAGE_THREADS)?a.zy(t,A.xBc.SEND_MESSAGES_IN_THREADS)?e.isLockedThread()&&!a.zy(t,A.xBc.MANAGE_THREADS)?a.TF(t,A.xBc.SEND_MESSAGES):a.kg(t,A.xBc.SEND_MESSAGES):a.TF(t,A.xBc.SEND_MESSAGES):T}"},{"code":"function k(e){let t,{forceRoles:n,context:r,overwrites:i,roles:a,checkElevated:s=!0,excludeGuildPermissions:o}=e,l=w;if(r instanceof f.YB){var c;if(r.isScheduledForDeletion())return T;if(f.Le.has(r.type)){let e=m.A.getChannel(r.parent_id);return null==e?T:G(r,k({forceRoles:n,context:e,overwrites:i,roles:a,checkElevated:s,excludeGuildPermissions:o}),!1,!1)}l=null!=(c=r.computeLurkerPermissionsAllowList())?c:l,i=null!=i?S({},r.permissionOverwrites,i):r.permissionOverwrites;let e=r.getGuildId();t=null!=e?y.A.getGuild(e):null}else i=null!=i?i:{},t=r;if(null==t)return T;let u={userId:A.dJq,nick:\"\",guildId:t.id,guildMemberAvatar:null,roles:v.default.keys(n),colorString:null,colorStrings:null,hoistRoleId:null,premiumSince:null,isPending:!1,joinedAt:new Date().toISOString(),communicationDisabledUntil:null};return M({userId:A.dJq,member:u,guild:t,overwrites:i,roles:a,checkElevated:s,excludeGuildPermissions:o,lurkerPermissionsMask:l})}"},{"code":"function U(e){var t,n,r;let i,{user:a,context:s,overwrites:o,roles:l,checkElevated:u=!0,excludeGuildPermissions:_=!1}=e;if(null==a)return T;let h=\"string\"==typeof a?a:a.id,E=w;if(s instanceof f.YB){if(s.isScheduledForDeletion())return T;if(f.Le.has(s.type)){let e=m.A.getChannel(s.parent_id);if(null==e||e.isScheduledForDeletion())return T;let t=h===(null==(n=b.default.getCurrentUser())?void 0:n.id)&&d.A.hasJoined(s.id);return G(s,U({user:a,context:e,overwrites:o,roles:l,checkElevated:u,excludeGuildPermissions:_}),t,g.Ay.isCurrentUserGuest(s.guild_id))}E=null!=(r=s.computeLurkerPermissionsAllowList())?r:E,o=null!=o?S({},s.permissionOverwrites,o):s.permissionOverwrites;let e=s.getGuildId();i=null!=e?y.A.getGuild(e):null}else o=null!=o?o:{},i=s;if(null==i)return T;if(!(h===(null==(t=b.default.getCurrentUser())?void 0:t.id)&&c.A.isViewingRoles(i.id))&&(0,p.bM)(i,h))return L(C,i,h,u);let O=g.Ay.getMember(i.id,h);return M({userId:h,member:O,guild:i,overwrites:o,roles:l,checkElevated:u,excludeGuildPermissions:_,lurkerPermissionsMask:E})}"},{"code":"function Y(e,t){return null==t.hoistRoleId?null:E.A.getRole(e.id,t.hoistRoleId)}"},{"code":"function V(e,t){if(f.Le.has(e.type))return!0;let{guild_id:n}=e;if(null==t||null==n||n!==t.guild_id)return!1;let r=S({},e.permissionOverwrites),i=S({},t.permissionOverwrites);return null==r[n]&&(r[n]=W(n)),null==i[n]&&(i[n]=W(n)),Object.keys(r).length===Object.keys(i).length&&!Object.keys(r).some(e=>{let t=r[e],n=i[e];return!(null!=n&&a.aI(n.deny,t.deny)&&a.aI(n.allow,t.allow))})}"},{"code":"function B(e,t,n,r){return!!(null!=t&&(0,p.bM)(e,t))||null!=n&&(null==r||(0,O.zA)(n,r))}"},{"code":"function F(e){var t;return i().some(E.A.getUnsafeMutableRoles(e.id),e=>e.hoist&&(0,_._m)(e,A.xBc.ADMINISTRATOR))?void 0:null!=(t=e.ownerId)?t:void 0}"},{"code":"function W(e){return{id:e,type:s.r2.ROLE,allow:T,deny:T}}"}]