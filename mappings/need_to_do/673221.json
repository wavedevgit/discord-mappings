[{"code":"function w(e){var{selectionMode:t,readOnly:n,autoFocus:a,clearable:f,fullWidth:v,closeOnSelect:I=!0,shouldFocusWrap:A,placeholder:w=y.intl.string(b.default[\"A+pfVR\"]),name:x,form:L,autoComplete:j,maxOptionsVisible:M=5,options:k,formatOption:U,onSelectionChange:G,value:Z,wrapTags:F=!1}=e,B=C(e,[\"selectionMode\",\"readOnly\",\"autoFocus\",\"clearable\",\"fullWidth\",\"closeOnSelect\",\"shouldFocusWrap\",\"placeholder\",\"name\",\"form\",\"autoComplete\",\"maxOptionsVisible\",\"options\",\"formatOption\",\"onSelectionChange\",\"value\",\"wrapTags\"]);let V=i.useRef(null),{fieldProps:H}=(0,l.X)(B),{id:Y,required:W,label:K,disabled:z}=H,{isOpen:q,setIsOpen:Q,refs:X,floatingStyles:J,getReferenceProps:$,getFloatingProps:ee,transitionStyles:et}=(0,g.C)(),en=i.useId(),{options:er,loading:ei}=(0,m.U)({active:q,options:k,renderOption:U}),ea=i.useRef(null),eo=i.useRef(null),es=null!=I?I:\"multiple\"!==t,el=Array.isArray(Z)?Z.length>0:null!=Z,ec=z||n,{measuredWidth:eu,itemsForMeasurement:ed}=R(er,t),ef=i.useCallback(()=>{ec||Q(!q)},[ec,Q,q]),ep=i.useCallback(()=>{var e;Q(!1),null==(e=ea.current)||e.focus()},[Q]),e_=i.useCallback(()=>{var e;\"multiple\"===t?G([]):G(null),null==(e=ea.current)||e.focus()},[G,t]);i.useEffect(()=>{if(a){var e;null==(e=ea.current)||e.focus()}},[a]);let eh=i.useCallback(e=>{var t,n,r,i,a,o;if(!ec)switch(e.key){case\"ArrowDown\":e.preventDefault(),Q(!0);break;case\"ArrowLeft\":e.preventDefault(),null==(n=V.current)||null==(t=n.firstChild)||t.focus();break;case\"ArrowRight\":e.preventDefault(),null==(i=V.current)||null==(r=i.lastChild)||r.focus();break;case\"Backspace\":el&&(e.preventDefault(),null==(o=V.current)||null==(a=o.lastChild)||a.focus());break;case\"Escape\":el&&f&&(e.preventDefault(),e.stopPropagation(),e_())}},[e_,el,f,Q,ec]),em=i.useMemo(()=>{let e=Array.isArray(Z)?Z:[Z];return er.filter(t=>(0,E._s)(t.value,e))},[Z,er]),eg=i.useMemo(()=>{if(!v)return\"\".concat(Math.max(null!=eu?eu:200,200)*(\"multiple\"===t?1.5:1)+!!f*N+P+12,\"px\")},[v,eu,t,f]),eE=i.useCallback(e=>{if(ec)return;let n=Array.from(e);if(\"multiple\"===t&&n.length<1)G([]);else if(\"multiple\"===t)G(n.map(e=>e.value));else{var r,i;G(null!=(i=null==(r=n[0])?void 0:r.value)?i:null)}es&&q&&ep()},[ec,t,G,es,ep,q]),eb=\"multiple\"===t&&em.length>0,ey=i.useRef(null);i.useEffect(()=>{clearTimeout(ey.current),eb&&!F&&(ey.current=setTimeout(()=>{var e,t;null==(t=V.current)||null==(e=t.lastElementChild)||e.scrollIntoView({behavior:\"smooth\",inline:\"end\",block:\"end\"})},10))},[em,eb,F]);let eO=(0,s.Z)(eo,X.setReference),ev=i.useCallback(e=>{if(ec)return;let t=Array.from(e)[0],n=em.filter(e=>e.id!==t);if(eE(n),0===n.length){var r;null==(r=ea.current)||r.focus()}},[eE,em,ec]),eS=Math.max(er.findIndex(e=>{var t;return e.id===(null==(t=em[em.length-1])?void 0:t.id)}),0),eI=i.useRef(null);return i.useEffect(()=>(!ei&&q&&(eI.current=setTimeout(()=>{var e;return null==(e=document.getElementById((0,E.cA)(en,eS)))?void 0:e.focus()},10)),()=>{null!=eI.current&&clearTimeout(eI.current)}),[ei,en,q,eS]),(0,r.jsx)(l.g,T(S({},H),{\"data-mana-component\":\"select\",layoutConfig:{horizontalControlColumnWidth:\"min(\".concat(eg,\", 50%)\")},children:e=>(0,r.jsxs)(\"div\",{style:{width:v?\"100%\":\"min(\".concat(eg,\", 100%)\")},children:[(0,r.jsx)(h.q,T(S({ref:eO,disabled:z,readOnly:n,loading:ei,clearable:f,fullWidth:v,isOpen:q,isInert:ec,hasValue:el,hasError:(null==e?void 0:e.errorMessageId)!=null,handleToggle:ef,handleClear:e_},$()),{children:(0,r.jsxs)(d.kL8,{\"aria-label\":K,buttonRef:ea,buttonProps:T(S({},null!=Y?{id:Y}:{}),{style:{marginLeft:-4}}),focusProps:{ringTarget:eo},className:o()(O.selectButton,{[O.wrapTags]:F,[O.multiSelect]:\"multiple\"===t}),onClick:ef,onKeyDown:eh,\"aria-expanded\":q,\"aria-busy\":ei,\"aria-haspopup\":\"listbox\",\"aria-controls\":en,\"aria-describedby\":null==e?void 0:e.describedById,\"aria-errormessage\":null==e?void 0:e.errorMessageId,\"aria-invalid\":(null==e?void 0:e.errorMessageId)!=null,children:[(0,r.jsxs)(c.n,{children:[K,\", \"]}),(0,r.jsx)(D,{tagGroupRef:V,placeholder:w,selectionMode:t,selectedItems:em,onRemove:ev})]})})),(0,r.jsx)(p.M,{name:x,form:L,disabled:ec,autoComplete:j,selectionMode:t,selectedItems:em,onSelectionChange:eE,listItems:er}),!v&&ed,!ec&&q&&(0,r.jsx)(\"div\",T(S({ref:X.setFloating,className:O.selectDropdown},ee()),{style:S({},J,et),children:(0,r.jsx)(d.VqE,{children:(0,r.jsx)(u.w,{id:en,required:W,items:er,selectionMode:t,selectedItems:em,onSelectionChange:eE,shouldFocusWrap:A,renderListItem:e=>(0,r.jsx)(_.W,S({},e)),maxVisibleItems:M,loading:ei,activeDescendantIndex:eS,typeahead:!0})})}))]})}))}"}]