[{"code":"function Q(e){let t,{premiumSubscription:n,paymentSources:a,priceOptions:s,onPaymentSourceChange:m,onPaymentSourceAdd:g,planId:D,setHasAcceptedTerms:x,legalTermsNodeRef:U,hasLegalTermsFlash:G,onInvoiceError:Y,planGroup:K,currencies:z,onCurrencyChange:q,hasOpenInvoice:Z,purchaseState:Q,handleClose:en}=e,{selectedSkuId:er,defaultPlanId:ei,isPremium:ea,startedPaymentFlowWithPaymentSourcesRef:eo,hasPaymentSources:es,enablePremiumBrandRefresh:el,isPremiumGroupPurchase:ec}=(0,b.P5)(),{isGift:eu}=(0,y.Pv)(),ed=s.paymentSourceId,ef=(0,S.g)(a,ed),ep=(0,u.bG)([N.A],()=>N.A.get(D));l()(null!=ep,\"Missing newPlan\");let e_=(0,u.bG)([T.A],()=>T.A.hidePersonalInformation),eh=(0,E.A)(),em=c.M.EEA_COUNTRIES.has(C.A.ipCountryCodeWithFallback),eg=Q===O.h.PURCHASING||Q===O.h.COMPLETED,eE=(0,A.vT)({isTrial:!1,isGift:eu,selectedSkuId:er,startedPaymentFlowWithPaymentSources:eo.current}),ey=null==n?void 0:n.isPausedAllowsResumeButNotUpdates,eb=i.useMemo(()=>(0,R.Tm)({skuId:er,isPremium:ea,multiMonthPlans:[],currentSubscription:n,defaultPlanId:ei}),[er,n,ei,ea]);t=Z||ey?H.intl.string(H.t.nyzoFb):ec?H.intl.formatToPlainString(B.default[\"3m9DJK\"],{premiumGroupProductName:(0,F.DP)()}):(0,R.ys)(D)?(0,R.ff)(n,ep):H.intl.formatToPlainString(H.t[\"sBpy9/\"],{planName:ep.name});let eO=null;null!=n&&(eO=Z?(0,r.jsx)(X,{premiumSubscription:n,onInvoiceError:Y,priceOptions:s,preventFetch:!1}):ey?(0,r.jsx)(ee,{premiumSubscription:n,onInvoiceError:Y,priceOptions:s,preventFetch:eg}):(0,P.Ge)(n,D,K)?(0,r.jsx)(J,{premiumSubscription:n,newPlan:ep,onInvoiceError:Y,planGroup:K,priceOptions:s,fractionalPremiumInfo:eh,preventFetch:eg}):(0,r.jsx)(et,{premiumSubscription:n,newPlan:ep,planGroup:K,fractionalPremiumInfo:eh,priceOptions:s,preventFetch:eg}));let ev=null==n?void 0:n.eligiblePaymentGateways,eA=null!=ev&&ev.length>0&&(ed===w.B||null===ef)&&es?j.f.SELECT_PAYMENT_METHOD:void 0;return(0,r.jsxs)(\"div\",{className:W.Du,children:[(0,r.jsx)(j.j,{paymentRestrictionBannerType:eA}),!ey&&eE&&!ec&&(0,r.jsxs)(\"div\",{children:[(0,r.jsx)(L.pK,{negativeMarginBottom:!0,negativeMarginTop:!0}),(0,r.jsx)(I.P,{planSkuId:ep.skuId}),(0,r.jsx)(k.$p,{planOptions:eb,eligibleForMultiMonthPlans:!1,selectedPlanId:D,planGroup:K,showTotal:!1,handleClose:en}),(0,r.jsx)(L.pK,{})]}),ec&&(0,r.jsx)(\"div\",{className:W.Ni,children:(0,r.jsx)(d.wx6,{type:\"info\",children:(0,r.jsx)(d.Text,{variant:\"text-sm/medium\",children:(0,v.Nn)()})})}),(0,r.jsx)(d.D0$,{label:t,children:eO}),(0,r.jsx)(\"div\",{className:W.LC,children:(0,r.jsx)(_.A,{label:H.intl.string(H.t[\"mmDvV+\"]),paymentSources:Object.values(a),selectedPaymentSourceId:ed,onChange:m,onPaymentSourceAdd:g,hidePersonalInformation:e_,disabled:eg,paymentGatewayRestrictions:null==n?void 0:n.eligiblePaymentGateways,className:o()({[W.E4]:el})})}),(0,r.jsx)(f.f,{currencies:z,className:W.p2,children:(0,r.jsx)(f.A,{label:H.intl.string(H.t[\"/AAR02\"]),selectedCurrency:s.currency,currencies:z,onChange:q,disabled:eg})}),(0,r.jsx)(M.A,{isActive:G,ref:U,children:null!=n&&(0,P.Ge)(n,D,K)?(0,r.jsx)($,{premiumSubscription:n,newPlan:ep,onInvoiceError:Y,planGroup:K,priceOptions:s,preventFetch:eg,disabled:eg,isEEA:em,paymentSources:a,setHasAcceptedTerms:x}):(0,r.jsx)(h.A,{onChange:x,finePrint:(0,r.jsx)(p.A,{subscriptionPlan:ep,paymentSourceType:ef,basePrice:(0,R.y8)(ep.id,!1,eu,s),currentSubscription:n,planGroup:K}),forceShow:!0,showPricingLink:ep.currency!==V.Yri.USD,showWithdrawalWaiver:em,disabled:eg,subscriptionPlan:ep,currentSubscription:n,planGroup:K})})]})}"}]