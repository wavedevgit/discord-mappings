[{"code":"function Z(e){let t,{premiumSubscription:n,paymentSources:a,priceOptions:s,onPaymentSourceChange:m,onPaymentSourceAdd:g,planId:P,setHasAcceptedTerms:L,legalTermsNodeRef:k,hasLegalTermsFlash:U,onInvoiceError:H,planGroup:W,currencies:K,onCurrencyChange:z,hasOpenInvoice:q,purchaseState:Z,handleClose:et}=e,{selectedSkuId:en,defaultPlanId:er,isPremium:ei,startedPaymentFlowWithPaymentSourcesRef:ea,hasPaymentSources:eo,enablePremiumBrandRefresh:es,isPremiumGroupPurchase:el}=(0,b.P5)(),{isGift:ec}=(0,y.Pv)(),eu=s.paymentSourceId,ed=(0,I.g)(a,eu),ef=(0,u.bG)([C.A],()=>C.A.get(P));l()(null!=ef,\"Missing newPlan\");let ep=(0,u.bG)([S.A],()=>S.A.hidePersonalInformation),e_=(0,E.A)(),eh=c.M.EEA_COUNTRIES.has(T.A.ipCountryCodeWithFallback),em=Z===O.h.PURCHASING||Z===O.h.COMPLETED,eg=(0,v.vT)({isTrial:!1,isGift:ec,selectedSkuId:en,startedPaymentFlowWithPaymentSources:ea.current}),eE=null==n?void 0:n.isPausedAllowsResumeButNotUpdates,ey=i.useMemo(()=>(0,w.Tm)({skuId:en,isPremium:ei,multiMonthPlans:[],currentSubscription:n,defaultPlanId:er}),[en,n,er,ei]);t=q||eE?B.intl.string(B.t.nyzoFb):el?B.intl.formatToPlainString(V.default[\"3m9DJK\"],{premiumGroupProductName:(0,G.DP)()}):(0,w.ys)(P)?(0,w.ff)(n,ef):B.intl.formatToPlainString(B.t[\"sBpy9/\"],{planName:ef.name});let eb=null;null!=n&&(eb=q?(0,r.jsx)(Q,{premiumSubscription:n,onInvoiceError:H,priceOptions:s,preventFetch:!1}):eE?(0,r.jsx)($,{premiumSubscription:n,onInvoiceError:H,priceOptions:s,preventFetch:em}):(0,R.Ge)(n,P,W)?(0,r.jsx)(X,{premiumSubscription:n,newPlan:ef,onInvoiceError:H,planGroup:W,priceOptions:s,fractionalPremiumInfo:e_,preventFetch:em}):(0,r.jsx)(ee,{premiumSubscription:n,newPlan:ef,planGroup:W,fractionalPremiumInfo:e_,priceOptions:s,preventFetch:em}));let eO=null==n?void 0:n.eligiblePaymentGateways,ev=null!=eO&&eO.length>0&&(eu===N.B||null===ed)&&eo?M.f.SELECT_PAYMENT_METHOD:void 0;return(0,r.jsxs)(\"div\",{className:Y.Du,children:[(0,r.jsx)(M.j,{paymentRestrictionBannerType:ev}),!eE&&eg&&!el&&(0,r.jsxs)(\"div\",{children:[(0,r.jsx)(D.pK,{negativeMarginBottom:!0,negativeMarginTop:!0}),(0,r.jsx)(A.P,{planSkuId:ef.skuId}),(0,r.jsx)(j.$p,{planOptions:ey,eligibleForMultiMonthPlans:!1,selectedPlanId:P,planGroup:W,showTotal:!1,handleClose:et}),(0,r.jsx)(D.pK,{})]}),el&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Text,{variant:\"text-md/medium\",children:B.intl.formatToPlainString(V.default[\"h1i+H8\"],{premiumGroupProductName:(0,G.DP)(),cooldownMonths:G.wl})}),(0,r.jsx)(D.pK,{})]}),(0,r.jsx)(d.D0$,{label:t,children:eb}),(0,r.jsx)(\"div\",{className:Y.LC,children:(0,r.jsx)(_.A,{label:B.intl.string(B.t[\"mmDvV+\"]),paymentSources:Object.values(a),selectedPaymentSourceId:eu,onChange:m,onPaymentSourceAdd:g,hidePersonalInformation:ep,disabled:em,paymentGatewayRestrictions:null==n?void 0:n.eligiblePaymentGateways,className:o()({[Y.E4]:es})})}),(0,r.jsx)(f.f,{currencies:K,className:Y.p2,children:(0,r.jsx)(f.A,{label:B.intl.string(B.t[\"/AAR02\"]),selectedCurrency:s.currency,currencies:K,onChange:z,disabled:em})}),(0,r.jsx)(x.A,{isActive:U,ref:k,children:null!=n&&(0,R.Ge)(n,P,W)?(0,r.jsx)(J,{premiumSubscription:n,newPlan:ef,onInvoiceError:H,planGroup:W,priceOptions:s,preventFetch:em,disabled:em,isEEA:eh,paymentSources:a,setHasAcceptedTerms:L}):(0,r.jsx)(h.A,{onChange:L,finePrint:(0,r.jsx)(p.A,{subscriptionPlan:ef,paymentSourceType:ed,basePrice:(0,w.y8)(ef.id,!1,ec,s),currentSubscription:n,planGroup:W}),forceShow:!0,showPricingLink:ef.currency!==F.Yri.USD,showWithdrawalWaiver:eh,disabled:em,subscriptionPlan:ef,currentSubscription:n,planGroup:W})})]})}"}]