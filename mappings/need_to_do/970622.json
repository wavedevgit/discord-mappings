[{"code":"function m(e){let{navId:t,items:n,initialFocusPath:s,onSelect:c,enabled:m=!0,closeMenu:g,defaultIsUsingKeyboardNavigation:E=!1}=e,y=r.useRef(m);r.useLayoutEffect(()=>{y.current=m},[m]);let[b,O]=r.useReducer(i.A,{items:n,focusPath:s,focusIndex:-1}),v=r.useMemo(()=>(0,o.nF)(O,30),[O]);r.useEffect(()=>{O({type:i.g.UPDATE_ITEMS,items:n})},[n]);let{focusPath:A}=b,[I,S]=r.useState(!1),[T,C]=r.useState(E),[{onItemFocusMemoizer:N,onItemMouseEnterMemoizer:w}]=r.useState(()=>({onItemFocusMemoizer:new o.Lp(e=>()=>{S(!0),O({type:i.g.SET_FOCUS_PATH,path:e.split(d)})}),onItemMouseEnterMemoizer:new o.Lp(e=>()=>{C(!1),O({type:i.g.SET_FOCUS_PATH,path:e.split(d)})})})),R=r.useCallback(e=>{if(!y.current)return;e.key===a.D$.ESCAPE&&null!=g&&(e.stopPropagation(),e.preventDefault(),g());let n=f(e);switch(n){case a.X2.NAVIGATE_UP:case a.X2.NAVIGATE_DOWN:case a.X2.NAVIGATE_IN:case a.X2.NAVIGATE_OUT:e.preventDefault(),e.stopPropagation(),C(!0),v({type:n});return;case a.X2.SELECT_FOCUSED_ITEM:var r;if(e.repeat||h(e.target))return;if(e.preventDefault(),e.stopPropagation(),C(!1),v({type:n}),null!=c)return void c(A);let i=_(null!=(r=e.target.ownerDocument)?r:document,p(t,A));null==i||i.click()}},[v,t,A,c,g]),P=r.useCallback(()=>{I||S(!0)},[I]),D=r.useCallback(e=>{e.target!==e.currentTarget&&!e.currentTarget.contains(e.relatedTarget)&&I&&S(!1)},[I]),L=r.useCallback(()=>{O({type:i.g.SET_FOCUS_PATH,path:[]}),S(!1)},[]),x=r.useCallback(e=>e.every((e,t)=>A[t]===e),[A]),M=r.useCallback(()=>({role:\"menu\",id:t,tabIndex:-1,onKeyDown:R,onFocus:P,onBlur:D,onMouseLeave:L,\"aria-activedescendant\":A.length>0?(0,o.M4)(t,A.join(d)):void 0}),[t,R,P,D,L,A]),j=r.useCallback(e=>{let{path:n}=e;return{role:\"menu\",tabIndex:-1,\"aria-activedescendant\":x(n)?(0,o.M4)(t,A.join(d)):void 0,focusIndex:b.focusIndex,isUsingKeyboardNavigation:T}},[t,A,x,b.focusIndex,T]),k=r.useCallback(e=>{let{path:n,hasSubmenu:r=!1,navigable:i=!0,role:a=\"menuitem\"}=e,s=n.join(d);return u(l({},r?{\"aria-expanded\":x(n),\"aria-haspopup\":!0}:{}),{role:a,id:(0,o.M4)(t,s),tabIndex:-1,onFocus:i?N.get(s):()=>{},onMouseEnter:i?w.get(s):()=>{}})},[t,x,N,w]);return r.useMemo(()=>({dispatch:v,getContainerProps:M,getSubmenuProps:j,getItemProps:k,isFocused:x,isUsingKeyboardNavigation:T}),[v,M,j,k,x,T])}"}]